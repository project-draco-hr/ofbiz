{
  Map expandMap=this.makeCodeExpandMap(trans,type);
  expandMap.putAll(payInfo);
  expandMap.put("authInfoString",UtilFormatOut.padString((String)expandMap.get("authInfoString"),infoLength[type],false,' '));
  expandMap.put("nameOnCard",UtilFormatOut.padString((String)expandMap.get("nameOnCard"),infoLength[type],false,' '));
  expandMap.put("payInfo",UtilFormatOut.padString((String)expandMap.get("payInfo"),infoLength[type],false,' '));
  expandMap.put("amount",UtilFormatOut.padString((String)expandMap.get("amount"),priceLength[type],false,' '));
  String toPrint=FlexibleStringExpander.expandString(template,expandMap);
  if (toPrint.indexOf("\n") > -1) {
    String[] lines=toPrint.split("\\n");
    for (int x=0; x < lines.length; x++) {
      this.println(lines[x]);
    }
  }
 else {
    this.println(toPrint);
  }
}

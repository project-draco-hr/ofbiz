{
  Delegator delegator=(Delegator)pageContext.getRequest().getAttribute("delegator");
  GenericValue userLogin=(GenericValue)pageContext.getSession().getAttribute("userLogin");
  String workEffortId=pageContext.getRequest().getParameter("workEffortId");
  if (workEffortId == null)   workEffortId=(String)pageContext.getRequest().getAttribute("workEffortId");
  Collection<GenericValue> notes=null;
  if (userLogin != null && userLogin.get("partyId") != null) {
    try {
      EntityExpr ee=EntityCondition.makeCondition("workEffortId",EntityOperator.EQUALS,workEffortId);
      notes=delegator.findList("WorkEffortNoteAndData",ee,null,UtilMisc.toList("noteDateTime"),null,false);
    }
 catch (    GenericEntityException e) {
      Debug.logWarning(e,module);
    }
  }
  if (notes == null || notes.size() <= 0)   return;
  pageContext.setAttribute(notesAttrName,notes);
}

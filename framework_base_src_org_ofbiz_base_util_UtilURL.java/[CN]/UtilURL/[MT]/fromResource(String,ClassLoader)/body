{
  if (loader == null) {
    try {
      loader=Thread.currentThread().getContextClassLoader();
    }
 catch (    SecurityException e) {
      UtilURL utilURL=new UtilURL();
      loader=utilURL.getClass().getClassLoader();
    }
  }
  URL url=loader.getResource(resourceName);
  if (url != null) {
    return url;
  }
  String propertiesResourceName=null;
  if (!resourceName.endsWith(".properties")) {
    propertiesResourceName=resourceName.concat(".properties");
    url=loader.getResource(propertiesResourceName);
    if (url != null) {
      return url;
    }
  }
  url=ClassLoader.getSystemResource(resourceName);
  if (url != null) {
    return url;
  }
  if (propertiesResourceName != null) {
    url=ClassLoader.getSystemResource(propertiesResourceName);
    if (url != null) {
      return url;
    }
  }
  url=fromFilename(resourceName);
  if (url != null) {
    return url;
  }
  url=fromOfbizHomePath(resourceName);
  if (url != null) {
    return url;
  }
  url=fromUrlString(resourceName);
  return url;
}

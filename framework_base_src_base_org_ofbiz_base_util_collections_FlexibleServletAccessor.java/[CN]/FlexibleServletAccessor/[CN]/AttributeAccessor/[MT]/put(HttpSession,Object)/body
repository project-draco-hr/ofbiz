{
  if (fma == null) {
    if (isListReference) {
      List lst=(List)session.getAttribute(attributeName);
      putInList(lst,value);
    }
 else {
      session.setAttribute(attributeName,value);
    }
  }
 else {
    Object theObj=session.getAttribute(attributeName);
    if (isListReference) {
      List lst=(List)theObj;
      fma.put((Map)lst.get(listIndex),value);
    }
 else {
      fma.put((Map)theObj,value);
    }
  }
}

{
  if (UtilValidate.isEmpty(s)) {
    return s;
  }
  if ("append".equalsIgnoreCase(format) && envName != null) {
    String newStr="";
    if (c.get(envName) != null) {
      newStr=newStr + c.get(envName);
    }
    newStr=newStr + s;
    return newStr;
  }
  if ("to-upper".equalsIgnoreCase(format)) {
    return s.toUpperCase();
  }
  if ("to-lower".equalsIgnoreCase(format)) {
    return s.toLowerCase();
  }
  if ("hash-code".equalsIgnoreCase(format)) {
    return new Integer(s.hashCode());
  }
  if ("long".equalsIgnoreCase(format)) {
    return new Long(s);
  }
  if ("double".equalsIgnoreCase(format)) {
    return new Double(s);
  }
  if ("upper-first-char".equalsIgnoreCase(format)) {
    return ModelUtil.upperFirstChar(s);
  }
  if ("lower-first-char".equalsIgnoreCase(format)) {
    return ModelUtil.lowerFirstChar(s);
  }
  if ("db-to-java".equalsIgnoreCase(format)) {
    return ModelUtil.dbNameToVarName(s);
  }
  if ("java-to-db".equalsIgnoreCase(format)) {
    return ModelUtil.javaNameToDbName(s);
  }
  Debug.logWarning("Format function not found [" + format + "] return string unchanged - "+ s,module);
  return s;
}

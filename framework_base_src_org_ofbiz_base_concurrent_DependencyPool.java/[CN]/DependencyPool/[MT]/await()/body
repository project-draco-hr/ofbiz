{
  submitLock.lock();
  try {
    submitWork();
    while (!outstanding.isEmpty()) {
      submitCondition.await();
    }
    return pending.isEmpty();
  }
  finally {
    submitLock.unlock();
  }
}

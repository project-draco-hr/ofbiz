{
  submitLock.lock();
  try {
    Debug.logInfo("a outstanding.size=" + outstanding.size(),module);
    Debug.logInfo("a pending.size=" + pending.size(),module);
    submitWork();
    while (!outstanding.isEmpty()) {
      submitCondition.await();
    }
    Debug.logInfo("b outstanding.size=" + outstanding.size(),module);
    Debug.logInfo("b pending.size=" + pending.size(),module);
    return pending.isEmpty();
  }
  finally {
    submitLock.unlock();
  }
}

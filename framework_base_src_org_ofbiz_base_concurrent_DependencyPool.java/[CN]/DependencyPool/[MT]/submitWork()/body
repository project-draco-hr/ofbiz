{
  Iterator<I> pendingIt=pending.iterator();
  int submittedCount=0;
  OUTER:   while (pendingIt.hasNext()) {
    I item=pendingIt.next();
    for (    K dep : item.getDependencies()) {
      if (!results.containsKey(dep) && !provides.contains(dep)) {
        continue OUTER;
      }
    }
    submittedCount++;
    pendingIt.remove();
    outstanding.add(item);
    executor.execute(new ItemTask(item));
  }
  return submittedCount;
}

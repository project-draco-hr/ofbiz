{
  Debug.log("Starting Waiter Thread",module);
  this.startTime=System.currentTimeMillis();
  while (waiting) {
    boolean isOpen=true;
    try {
      isOpen=((jpos.CashDrawer)control).getDrawerOpened();
    }
 catch (    JposException e) {
      Debug.logError(e,module);
      this.waiting=false;
      PosScreen.currentScreen.showDialog("dialog/error/drawererror");
    }
    if (isOpen) {
      long now=(System.currentTimeMillis() - startTime);
      if ((now > 4499) && (now % 500 == 0)) {
        java.awt.Toolkit.getDefaultToolkit().beep();
      }
      if ((now > 4499) && (now % 5000 == 0)) {
        PosScreen.currentScreen.showDialog("dialog/error/draweropen");
      }
    }
 else {
      this.waiting=false;
    }
  }
  this.startTime=-1;
  Debug.log("Waiter finished",module);
}

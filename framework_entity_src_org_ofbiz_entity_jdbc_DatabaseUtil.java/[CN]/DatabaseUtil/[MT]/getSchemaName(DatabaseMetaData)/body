{
  if (!isLegacy && this.datasourceInfo.useSchemas && dbData.supportsSchemasInTableDefinitions()) {
    if (UtilValidate.isNotEmpty(this.datasourceInfo.schemaName)) {
      if (dbData.storesLowerCaseIdentifiers()) {
        return this.datasourceInfo.schemaName.toLowerCase();
      }
 else       if (dbData.storesUpperCaseIdentifiers()) {
        return this.datasourceInfo.schemaName.toUpperCase();
      }
 else {
        return this.datasourceInfo.schemaName;
      }
    }
 else {
      return dbData.getUserName();
    }
  }
  return null;
}

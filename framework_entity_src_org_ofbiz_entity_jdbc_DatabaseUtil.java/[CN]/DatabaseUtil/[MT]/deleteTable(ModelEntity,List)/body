{
  if (entity == null) {
    String errMsg="ModelEntity was null and is required to delete a table";
    Debug.logError(errMsg,module);
    if (messages != null)     messages.add(errMsg);
    return;
  }
  if (entity instanceof ModelViewEntity) {
    return;
  }
  Connection connection=null;
  Statement stmt=null;
  try {
    connection=getConnection();
  }
 catch (  SQLException sqle) {
    String errMsg="Unable to esablish a connection with the database... Error was: " + sqle.toString();
    Debug.logError(errMsg,module);
    if (messages != null)     messages.add(errMsg);
    return;
  }
catch (  GenericEntityException e) {
    String errMsg="Unable to esablish a connection with the database... Error was: " + e.toString();
    Debug.logError(errMsg,module);
    if (messages != null)     messages.add(errMsg);
    return;
  }
  String message="Deleting table for entity [" + entity.getEntityName() + "]";
  Debug.logImportant(message,module);
  if (messages != null)   messages.add(message);
  StringBuffer sqlBuf=new StringBuffer("DROP TABLE ");
  sqlBuf.append(entity.getTableName(datasourceInfo));
  if (Debug.verboseOn())   Debug.logVerbose("[deleteTable] sql=" + sqlBuf.toString(),module);
  try {
    stmt=connection.createStatement();
    stmt.executeUpdate(sqlBuf.toString());
  }
 catch (  SQLException sqle) {
    String errMsg="SQL Exception while executing the following:\n" + sqlBuf.toString() + "\nError was: "+ sqle.toString();
    Debug.logError(errMsg,module);
    if (messages != null)     messages.add(errMsg);
  }
 finally {
    try {
      if (stmt != null)       stmt.close();
    }
 catch (    SQLException sqle) {
      Debug.logError(sqle,module);
    }
    try {
      if (connection != null) {
        connection.close();
      }
    }
 catch (    SQLException sqle) {
      Debug.logError(sqle,module);
    }
  }
}

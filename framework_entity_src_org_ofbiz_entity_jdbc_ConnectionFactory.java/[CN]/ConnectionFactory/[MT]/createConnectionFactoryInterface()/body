{
  String className=EntityConfig.getInstance().getConnectionFactory().getClassName();
  if (className == null) {
    throw new IllegalStateException("Could not find connection factory class name definition");
  }
  ClassLoader loader=Thread.currentThread().getContextClassLoader();
  Class<?> tfClass=loader.loadClass(className);
  return (ConnectionFactoryInterface)tfClass.newInstance();
}

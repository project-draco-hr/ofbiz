{
  if (Debug.verboseOn())   Debug.log(":: getProcessesForMgr ::",module);
  GenericDelegator delegator=SharkContainer.getDelegator();
  List createdList=new ArrayList();
  List lookupList=null;
  Map findBy=UtilMisc.toMap("mgrName",mgrName);
  if (state != null) {
    findBy.put("currentState",state);
  }
  try {
    lookupList=delegator.findByAnd("WfProcess",findBy);
  }
 catch (  GenericEntityException e) {
    throw new PersistenceException(e);
  }
  if (lookupList != null && lookupList.size() > 0) {
    Iterator i=lookupList.iterator();
    while (i.hasNext()) {
      GenericValue v=(GenericValue)i.next();
      createdList.add(Process.getInstance(this,v));
    }
  }
  return createdList;
}

{
  for (  Element fieldElement : UtilXml.childElementList(extendEntityElement,"field")) {
    ModelField field=reader.createModelField(fieldElement);
    if (field != null) {
      ModelField existingField=this.getField(field.getName());
      if (existingField != null) {
        if (UtilValidate.isNotEmpty(field.getType())) {
          existingField.setType(field.getType());
        }
        if (UtilValidate.isNotEmpty(field.getColName())) {
          existingField.setColName(field.getColName());
        }
        if (UtilValidate.isNotEmpty(field.getDescription())) {
          existingField.setDescription(field.getDescription());
        }
      }
 else {
        field.setModelEntity(this);
        this.fields.add(field);
        if (!field.isPk)         this.nopks.add(field);
      }
    }
  }
  String defResourceName=StringUtil.internString(extendEntityElement.getAttribute("default-resource-name"));
  if (UtilValidate.isNotEmpty(defResourceName)) {
    this.setDefaultResourceName(defResourceName);
  }
  this.populateRelated(reader,extendEntityElement);
  this.populateIndexes(extendEntityElement);
  this.dependentOn=UtilXml.checkEmpty(extendEntityElement.getAttribute("dependent-on")).intern();
}

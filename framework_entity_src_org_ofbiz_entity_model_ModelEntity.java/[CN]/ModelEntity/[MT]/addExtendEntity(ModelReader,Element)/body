{
  for (  Element fieldElement : UtilXml.childElementList(extendEntityElement,"field")) {
    ModelField field=reader.createModelField(fieldElement);
    if (field != null) {
      field.setModelEntity(this);
      this.fields.add(field);
      if (!field.isPk)       this.nopks.add(field);
    }
  }
  String defResourceName=StringUtil.internString(extendEntityElement.getAttribute("default-resource-name"));
  Debug.log("Extended entity - " + extendEntityElement.getAttribute("entity-name") + " new resource name : "+ defResourceName,module);
  if (UtilValidate.isNotEmpty(defResourceName)) {
    this.setDefaultResourceName(defResourceName);
  }
  this.populateRelated(reader,extendEntityElement);
  this.populateIndexes(extendEntityElement);
}

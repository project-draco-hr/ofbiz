{
  super.invokeApplication(trans,handle,applicationName,procInstId,actInstId,parameters,appMode);
  status=APP_STATUS_RUNNING;
  LocalDispatcher dispatcher=SharkContainer.getDispatcher();
  Map serviceContext=new HashMap();
  this.getServiceContext(parameters,serviceContext);
  Map serviceResult=null;
  try {
    serviceResult=dispatcher.runSync(appName,serviceContext);
  }
 catch (  GenericServiceException e) {
    status=APP_STATUS_INVALID;
    Debug.logError(e,module);
    throw new ToolAgentGeneralException(e);
  }
  this.getServiceResults(parameters,serviceResult);
  if (ServiceUtil.isError(serviceResult)) {
    status=APP_STATUS_INVALID;
  }
 else {
    status=APP_STATUS_FINISHED;
  }
}

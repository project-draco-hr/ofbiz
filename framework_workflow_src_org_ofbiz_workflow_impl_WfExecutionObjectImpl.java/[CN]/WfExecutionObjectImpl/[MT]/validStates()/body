{
  String statesArr[]={"open.running","open.not_running.not_started","open.not_running.suspended","closed.completed","closed.terminated","closed.aborted"};
  ArrayList possibleStates=new ArrayList(Arrays.asList(statesArr));
  String currentState=state();
  if (currentState.startsWith("closed"))   return new ArrayList();
  if (!currentState.startsWith("open"))   throw new WfException("Currently in an unknown state.");
  if (currentState.equals("open.running")) {
    possibleStates.remove("open.running");
    possibleStates.remove("open.not_running.not_started");
    return possibleStates;
  }
  if (currentState.equals("open.not_running.not_started")) {
    possibleStates.remove("open.not_running.not_started");
    possibleStates.remove("open.not_running.suspended");
    possibleStates.remove("closed.completed");
    possibleStates.remove("closed.terminated");
    return possibleStates;
  }
  if (currentState.equals("open.not_running.suspended")) {
    possibleStates.remove("open.not_running.suspended");
    possibleStates.remove("open.not_running.not_started");
    possibleStates.remove("closed.complete");
    possibleStates.remove("closed.terminated");
    return possibleStates;
  }
  return new ArrayList();
}

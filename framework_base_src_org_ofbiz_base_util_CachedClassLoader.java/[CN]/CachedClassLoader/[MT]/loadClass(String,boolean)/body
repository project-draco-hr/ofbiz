{
  Class<?> theClass=globalClassNameClassMap.get(name);
  if (theClass != null) {
    return theClass;
  }
  theClass=this.localClassNameClassMap.get(name);
  if (theClass != null) {
    return theClass;
  }
  if (this.localBadClassNameSet.contains(name) || globalBadClassNameSet.contains(name)) {
    if (Debug.verboseOn()) {
      Debug.logVerbose("Cached loader got a known bad class name: [" + name + "]",module);
    }
    throw new ClassNotFoundException("Cached loader got a known bad class name: " + name);
  }
  if (Debug.verboseOn()) {
    Debug.logVerbose("Cached loader cache miss for class name: [" + name + "]",module);
  }
  try {
    theClass=super.loadClass(name,resolve);
    if (isGlobalPath(name)) {
      globalClassNameClassMap.putIfAbsent(name,theClass);
      theClass=globalClassNameClassMap.get(name);
    }
 else {
      this.localClassNameClassMap.putIfAbsent(name,theClass);
      theClass=this.localClassNameClassMap.get(name);
    }
  }
 catch (  ClassNotFoundException e) {
    if (Debug.verboseOn()) {
      Debug.logVerbose("Remembering invalid class name: [" + name + "]",module);
    }
    if (isGlobalPath(name)) {
      globalBadClassNameSet.add(name);
    }
 else {
      this.localBadClassNameSet.add(name);
    }
    throw e;
  }
  return theClass;
}

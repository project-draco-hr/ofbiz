{
  Assert.notNull("context",context);
  context.put(WIDGET_CONTEXT_KEY,context);
  context.put("context",context);
  ScriptContext scriptContext=new SimpleScriptContext();
  ScriptHelper helper=createScriptHelper(scriptContext);
  if (helper != null) {
    context.put(SCRIPT_HELPER_KEY,helper);
  }
  Bindings bindings=new SimpleBindings(context);
  scriptContext.setBindings(bindings,ScriptContext.ENGINE_SCOPE);
  return scriptContext;
}

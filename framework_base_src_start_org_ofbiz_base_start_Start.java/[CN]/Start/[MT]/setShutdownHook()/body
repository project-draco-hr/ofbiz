{
  try {
    Method shutdownHook=java.lang.Runtime.class.getMethod("addShutdownHook",new Class[]{java.lang.Thread.class});
    Thread hook=new Thread(){
      public void run(){
        setName("OFBiz_Shutdown_Hook");
        shutdownServer();
        try {
          Thread.sleep(1000);
        }
 catch (        Exception e) {
          e.printStackTrace();
        }
      }
    }
;
    shutdownHook.invoke(Runtime.getRuntime(),new Object[]{hook});
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}

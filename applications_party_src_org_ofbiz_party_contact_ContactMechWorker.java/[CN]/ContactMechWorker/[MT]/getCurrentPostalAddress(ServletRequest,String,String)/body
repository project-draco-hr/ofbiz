{
  GenericDelegator delegator=(GenericDelegator)request.getAttribute("delegator");
  Map results=new HashMap();
  if (curContactMechId != null) {
    List partyContactMechs=null;
    try {
      partyContactMechs=EntityUtil.filterByDate(delegator.findByAnd("PartyContactMech",UtilMisc.toMap("partyId",partyId,"contactMechId",curContactMechId)),true);
    }
 catch (    GenericEntityException e) {
      Debug.logWarning(e,module);
    }
    GenericValue curPartyContactMech=EntityUtil.getFirst(partyContactMechs);
    results.put("curPartyContactMech",curPartyContactMech);
    GenericValue curContactMech=null;
    if (curPartyContactMech != null) {
      try {
        curContactMech=curPartyContactMech.getRelatedOne("ContactMech");
      }
 catch (      GenericEntityException e) {
        Debug.logWarning(e,module);
      }
      Collection curPartyContactMechPurposes=null;
      try {
        curPartyContactMechPurposes=EntityUtil.filterByDate(curPartyContactMech.getRelated("PartyContactMechPurpose"),true);
      }
 catch (      GenericEntityException e) {
        Debug.logWarning(e,module);
      }
      results.put("curPartyContactMechPurposes",curPartyContactMechPurposes);
    }
    results.put("curContactMech",curContactMech);
    GenericValue curPostalAddress=null;
    if (curContactMech != null) {
      try {
        curPostalAddress=curContactMech.getRelatedOne("PostalAddress");
      }
 catch (      GenericEntityException e) {
        Debug.logWarning(e,module);
      }
    }
    results.put("curPostalAddress",curPostalAddress);
  }
  return results;
}

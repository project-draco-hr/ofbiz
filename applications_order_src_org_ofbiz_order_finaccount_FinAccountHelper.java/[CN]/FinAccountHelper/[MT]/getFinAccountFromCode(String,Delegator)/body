{
  if (finAccountCode == null) {
    return null;
  }
  Pattern filterRegex=Pattern.compile("[^0-9A-Z]");
  finAccountCode=finAccountCode.toUpperCase().replaceAll(filterRegex.pattern(),"");
  GenericValue encryptedFinAccount=delegator.makeValue("FinAccount",UtilMisc.toMap("finAccountCode",finAccountCode));
  delegator.encryptFields(encryptedFinAccount);
  String encryptedFinAccountCode=encryptedFinAccount.getString("finAccountCode");
  List<GenericValue> accounts=delegator.findByAnd("FinAccount",UtilMisc.toMap("finAccountCode",encryptedFinAccountCode));
  accounts=EntityUtil.filterByDate(accounts);
  if (UtilValidate.isEmpty(accounts)) {
    Debug.logWarning("No fin account found for account code [" + finAccountCode + "]",module);
    return null;
  }
 else   if (accounts.size() > 1) {
    Debug.logError("Multiple fin accounts found",module);
    return null;
  }
 else {
    return (GenericValue)accounts.get(0);
  }
}

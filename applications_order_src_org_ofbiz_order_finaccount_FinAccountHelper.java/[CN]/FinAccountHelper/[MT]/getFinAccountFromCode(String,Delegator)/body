{
  if (finAccountCode == null) {
    return null;
  }
  Pattern filterRegex=Pattern.compile("[^0-9A-Z]");
  finAccountCode=finAccountCode.toUpperCase().replaceAll(filterRegex.pattern(),"");
  ModelEntity finAccountEntity=delegator.getModelEntity("FinAccount");
  GenericEntity encryptedFinAccount=GenericEntity.createGenericEntity(finAccountEntity,UtilMisc.toMap("finAccountCode",finAccountCode));
  delegator.encryptFields(encryptedFinAccount);
  String encryptedFinAccountCode=encryptedFinAccount.getString("finAccountCode");
  List accounts=delegator.findByAnd("FinAccount",UtilMisc.toMap("finAccountCode",encryptedFinAccountCode));
  accounts=EntityUtil.filterByDate(accounts);
  if ((accounts == null) || (accounts.size() == 0)) {
    Debug.logWarning("No fin account found for account code [" + finAccountCode + "]",module);
    return null;
  }
 else   if (accounts.size() > 1) {
    Debug.logError("Multiple fin accounts found",module);
    return null;
  }
 else {
    return (GenericValue)accounts.get(0);
  }
}

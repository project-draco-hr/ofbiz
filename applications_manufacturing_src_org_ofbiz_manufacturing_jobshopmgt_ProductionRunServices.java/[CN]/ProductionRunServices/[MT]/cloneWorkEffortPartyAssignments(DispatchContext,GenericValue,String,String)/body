{
  List workEffortPartyAssignments=null;
  try {
    workEffortPartyAssignments=EntityUtil.filterByDate(dctx.getDelegator().findByAnd("WorkEffortPartyAssignment",UtilMisc.toMap("workEffortId",routingTaskId)));
  }
 catch (  GenericEntityException e) {
    Debug.logError(e.getMessage(),module);
  }
  if (workEffortPartyAssignments != null) {
    Iterator i=workEffortPartyAssignments.iterator();
    while (i.hasNext()) {
      GenericValue workEffortPartyAssignment=(GenericValue)i.next();
      Map partyToWorkEffort=UtilMisc.toMap("workEffortId",productionRunTaskId,"partyId",workEffortPartyAssignment.getString("partyId"),"roleTypeId",workEffortPartyAssignment.getString("roleTypeId"),"fromDate",workEffortPartyAssignment.getTimestamp("fromDate"),"statusId",workEffortPartyAssignment.getString("statusId"),"userLogin",userLogin);
      try {
        dctx.getDispatcher().runSync("assignPartyToWorkEffort",partyToWorkEffort);
      }
 catch (      GenericServiceException e) {
        Debug.logError(e,"Problem calling the assignPartyToWorkEffort service",module);
      }
      if (Debug.infoOn())       Debug.logInfo("ProductionRunPartyassigment for party: " + workEffortPartyAssignment.get("partyId") + " created",module);
    }
  }
}

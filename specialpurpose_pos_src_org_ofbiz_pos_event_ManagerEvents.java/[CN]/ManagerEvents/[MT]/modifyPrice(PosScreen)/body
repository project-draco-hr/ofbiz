{
  PosTransaction trans=PosTransaction.getCurrentTx(pos.getSession());
  String sku=null;
  try {
    sku=MenuEvents.getSelectedItem(pos);
  }
 catch (  ArrayIndexOutOfBoundsException e) {
  }
  if (sku == null) {
    pos.getOutput().print(UtilProperties.getMessage(PosTransaction.resource,"PosInvalidSelection",Locale.getDefault()));
    pos.getJournal().refresh(pos);
    pos.getInput().clear();
  }
  Input input=pos.getInput();
  String value=input.value();
  if (UtilValidate.isNotEmpty(value)) {
    BigDecimal price=BigDecimal.ZERO;
    boolean parsed=false;
    try {
      price=new BigDecimal(value);
      parsed=true;
    }
 catch (    NumberFormatException e) {
    }
    if (parsed) {
      price=price.movePointLeft(2);
      trans.modifyPrice(sku,price);
      trans.calcTax();
    }
  }
  pos.refresh();
}

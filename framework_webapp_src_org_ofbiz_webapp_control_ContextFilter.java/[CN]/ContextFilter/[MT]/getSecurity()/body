{
  Security security=(Security)config.getServletContext().getAttribute("security");
  if (security == null) {
    GenericDelegator delegator=(GenericDelegator)config.getServletContext().getAttribute("delegator");
    if (delegator != null) {
      try {
        security=SecurityFactory.getInstance(delegator);
      }
 catch (      SecurityConfigurationException e) {
        Debug.logError(e,"[ServiceDispatcher.init] : No instance of security imeplemtation found.",module);
      }
    }
    config.getServletContext().setAttribute("security",security);
    if (security == null) {
      Debug.logError("[ContextFilter.init] ERROR: security create failed.",module);
    }
  }
  return security;
}

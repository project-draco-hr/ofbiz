{
  Delegator delegator=SharkContainer.getDelegator();
  GenericValue sharkUser=null;
  try {
    sharkUser=delegator.findOne(org.ofbiz.shark.SharkConstants.SharkUser,UtilMisc.toMap(org.ofbiz.shark.SharkConstants.userName,userName),false);
  }
 catch (  GenericEntityException e) {
    throw new RootException(e);
  }
  if (sharkUser != null) {
    String registeredPwd=sharkUser.getString(org.ofbiz.shark.SharkConstants.passwd);
    if (password.equals(registeredPwd)) {
      return true;
    }
 else     if (HashCrypt.getDigestHash(password,LoginServices.getHashType()).equals(registeredPwd)) {
      return true;
    }
 else     if (HashCrypt.getDigestHash(registeredPwd,LoginServices.getHashType()).equals(password)) {
      return true;
    }
 else {
      return false;
    }
  }
  return false;
}

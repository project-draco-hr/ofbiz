{
  if (billingAccountId == null)   return 0.0;
  try {
    Map res=dispatcher.runSync("calcBillingAccountBalance",UtilMisc.toMap("billingAccountId",billingAccountId));
    Double availableBalance=(Double)res.get("availableBalance");
    if (availableBalance != null) {
      return availableBalance.doubleValue();
    }
  }
 catch (  GenericServiceException e) {
    Debug.logError(e,module);
  }
  return 0.0;
}

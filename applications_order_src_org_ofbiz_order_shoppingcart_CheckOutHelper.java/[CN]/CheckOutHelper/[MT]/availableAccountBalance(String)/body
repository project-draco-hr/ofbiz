{
  GenericValue billingAccount=null;
  Double availableBalance=new Double(0.00);
  if (billingAccountId != null) {
    try {
      Map res=dispatcher.runSync("calcBillingAccountBalance",UtilMisc.toMap("billingAccountId",billingAccountId));
      availableBalance=(Double)res.get("availableBalance");
    }
 catch (    GenericServiceException e) {
      Debug.logError(e,module);
    }
  }
  return availableBalance.doubleValue();
}

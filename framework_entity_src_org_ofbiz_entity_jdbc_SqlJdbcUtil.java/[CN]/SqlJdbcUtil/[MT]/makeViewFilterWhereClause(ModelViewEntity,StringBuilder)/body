{
  for (  ModelViewEntity.ModelFilter filter : modelViewEntity.getFilters()) {
    ModelEntity filterEntity=modelViewEntity.getMemberModelEntity(filter.getEntityAlias());
    if (filterEntity == null) {
      throw new GenericEntityException("Link entity not found with alias: " + filter.getEntityAlias() + " for entity: "+ modelViewEntity.getEntityName());
    }
    ModelField filterField=filterEntity.getField(filter.getFieldName());
    if (filterField == null) {
      throw new GenericEntityException("The field " + filter.getFieldName() + " does not appear to belong to entity "+ modelViewEntity.getEntityName());
    }
    if (whereString.length() > 0) {
      whereString.append(" AND ");
    }
    whereString.append(filter.getEntityAlias());
    whereString.append(".");
    whereString.append(filterColName(filterField.getColName()));
    EntityOperator<?> entityOperator=EntityOperator.lookup(filter.getOperator());
    if (entityOperator == null) {
      throw new GenericEntityException("Operator " + filter.getOperator() + " not supported in filter for entity: "+ modelViewEntity.getEntityName());
    }
    whereString.append(" ").append(entityOperator.getCode()).append(" ");
    whereString.append("'" + filter.getValue().replaceAll("'","''") + "'");
  }
}

{
  EntityConfig instance=entityConfigCache.get("instance");
  if (instance == null) {
    Element entityConfigElement=getXmlDocument().getDocumentElement();
    instance=new EntityConfig(entityConfigElement);
    entityConfigCache.putIfAbsent("instance",instance);
    instance=entityConfigCache.get("instance");
    for (    EntityConfigListener listener : configListeners) {
      try {
        listener.onEntityConfigChange(instance);
      }
 catch (      Exception e) {
        Debug.logError(e,"Exception thrown while notifying listener " + listener + ": ",module);
      }
    }
  }
  return instance;
}

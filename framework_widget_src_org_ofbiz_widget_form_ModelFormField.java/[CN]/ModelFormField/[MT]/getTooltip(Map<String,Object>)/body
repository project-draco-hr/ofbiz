{
  if (UtilValidate.isNotEmpty(tooltip) && this.getEncodeOutput()) {
    String tooltipString=tooltip.expandString(context);
    StringUtil.SimpleEncoder simpleEncoder=(StringUtil.SimpleEncoder)context.get("simpleEncoder");
    if (simpleEncoder != null) {
      tooltipString=simpleEncoder.encode(tooltipString);
    }
    return tooltipString;
  }
 else {
    return "";
  }
}

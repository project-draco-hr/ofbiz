{
  List entityInfos=FastList.newInstance();
  Iterator i=getAllComponents().iterator();
  while (i.hasNext()) {
    ComponentConfig cc=(ComponentConfig)i.next();
    if (componentName == null || componentName.equals(cc.getComponentName())) {
      List ccEntityInfoList=cc.getEntityResourceInfos();
      if (UtilValidate.isEmpty(type)) {
        entityInfos.addAll(ccEntityInfoList);
      }
 else {
        Iterator ccEntityInfoIter=ccEntityInfoList.iterator();
        while (ccEntityInfoIter.hasNext()) {
          EntityResourceInfo entityResourceInfo=(EntityResourceInfo)ccEntityInfoIter.next();
          if (type.equals(entityResourceInfo.type)) {
            entityInfos.add(entityResourceInfo);
          }
        }
      }
    }
  }
  return entityInfos;
}

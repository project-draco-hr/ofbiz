{
  GenericValue product=getProduct();
  if (product != null) {
    Double height=product.getDouble("shippingHeight");
    Double width=product.getDouble("shippingWidth");
    Double depth=product.getDouble("shippingDepth");
    if (height == null & width == null && depth == null) {
      GenericValue parentProduct=this.getParentProduct();
      if (parentProduct != null) {
        height=parentProduct.getDouble("shippingHeight");
        width=product.getDouble("shippingWidth");
        depth=product.getDouble("shippingDepth");
      }
    }
    if (height == null)     height=new Double(0);
    if (width == null)     width=new Double(0);
    if (depth == null)     depth=new Double(0);
    double[] sizeInfo={height.doubleValue(),width.doubleValue(),depth.doubleValue()};
    Arrays.sort(sizeInfo);
    return (sizeInfo[0] * 2) + (sizeInfo[1] * 2) + sizeInfo[2];
  }
 else {
    return 0;
  }
}

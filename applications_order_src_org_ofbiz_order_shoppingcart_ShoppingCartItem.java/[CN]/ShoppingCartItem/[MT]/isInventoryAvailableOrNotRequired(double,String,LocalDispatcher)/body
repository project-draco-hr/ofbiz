{
  boolean inventoryAvailable=true;
  try {
    Map invReqResult=dispatcher.runSync("isStoreInventoryAvailableOrNotRequired",UtilMisc.toMap("productStoreId",productStoreId,"productId",productId,"product",this.getProduct(),"quantity",new Double(quantity)));
    if (ServiceUtil.isError(invReqResult)) {
      Debug.logError("Error calling isStoreInventoryAvailableOrNotRequired service, result is: " + invReqResult,module);
      throw new CartItemModifyException((String)invReqResult.get(ModelService.ERROR_MESSAGE));
    }
    inventoryAvailable="Y".equals((String)invReqResult.get("availableOrNotRequired"));
  }
 catch (  GenericServiceException e) {
    String errMsg="Fatal error calling inventory checking services: " + e.toString();
    Debug.logError(e,errMsg,module);
    throw new CartItemModifyException(errMsg);
  }
  return inventoryAvailable;
}

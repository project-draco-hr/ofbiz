{
  if (delegator == null) {
    if (UtilValidate.isEmpty(delegatorName)) {
      throw new IllegalStateException("Bad delegator name");
    }
    try {
      delegator=UtilObject.getObjectFromFactory(DelegatorFactory.class,delegatorName);
    }
 catch (    ClassNotFoundException e) {
      Debug.logError(e,module);
    }
  }
  return delegator;
}

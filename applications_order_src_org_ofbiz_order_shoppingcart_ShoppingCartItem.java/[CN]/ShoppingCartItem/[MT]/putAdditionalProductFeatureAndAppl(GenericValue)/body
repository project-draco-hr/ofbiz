{
  if (additionalProductFeatureAndAppl == null)   return;
  removeAdditionalProductFeatureAndAppl(additionalProductFeatureAndAppl.getString("productFeatureTypeId"));
  String featureType=additionalProductFeatureAndAppl.getString("productFeatureTypeId");
  this.additionalProductFeatureAndAppls.put(featureType,additionalProductFeatureAndAppl);
  GenericValue orderAdjustment=this.getDelegator().makeValue("OrderAdjustment",null);
  orderAdjustment.set("orderAdjustmentTypeId","ADDITIONAL_FEATURE");
  orderAdjustment.set("description",additionalProductFeatureAndAppl.get("description"));
  orderAdjustment.set("productFeatureId",additionalProductFeatureAndAppl.get("productFeatureId"));
  double amount=0;
  Double amountDbl=(Double)additionalProductFeatureAndAppl.get("amount");
  if (amountDbl != null) {
    amount=amountDbl.doubleValue() * this.getQuantity();
  }
  orderAdjustment.set("amount",new Double(amount));
  Double recurringAmountDbl=(Double)additionalProductFeatureAndAppl.get("recurringAmount");
  if (recurringAmountDbl != null) {
    double recurringAmount=recurringAmountDbl.doubleValue() * this.getQuantity();
    orderAdjustment.set("recurringAmount",new Double(recurringAmount));
  }
  this.addAdjustment(orderAdjustment);
}

{
  String shippingRef="";
  try {
    GenericValue orderHeader=delegator.findOne("OrderHeader",false,UtilMisc.toMap("orderId",orderId));
    GenericValue trackingCodeOrder=EntityUtil.getFirst(orderHeader.getRelated("TrackingCodeOrder",null,null,false));
    GenericValue trackingCode=null;
    if (UtilValidate.isNotEmpty(trackingCodeOrder)) {
      trackingCode=trackingCodeOrder.getRelatedOne("TrackingCode",false);
    }
    if (UtilValidate.isNotEmpty(trackingCode) && UtilValidate.isNotEmpty(trackingCode.getString("description"))) {
      shippingRef=trackingCode.getString("trackingCodeId") + "====" + trackingCode.getString("description");
    }
 else {
      shippingRef="No Tracking Info processed in order";
    }
  }
 catch (  GenericEntityException e) {
    Debug.logError("Shipping Ref not found returning empty string",module);
    e.printStackTrace();
  }
  return shippingRef;
}

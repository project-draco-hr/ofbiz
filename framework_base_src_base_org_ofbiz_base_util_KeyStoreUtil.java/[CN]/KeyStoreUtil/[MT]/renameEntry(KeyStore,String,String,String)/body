{
  if (ks.isKeyEntry(fromAlias)) {
    Key fromKey=ks.getKey(fromAlias,pass.toCharArray());
    if (fromKey instanceof PrivateKey) {
      Certificate[] certs=ks.getCertificateChain(fromAlias);
      ks.deleteEntry(fromAlias);
      ks.setKeyEntry(toAlias,fromKey,pass.toCharArray(),certs);
    }
  }
 else   if (ks.isCertificateEntry(fromAlias)) {
    Certificate cert=ks.getCertificate(fromAlias);
    ks.deleteEntry(fromAlias);
    ks.setCertificateEntry(toAlias,cert);
  }
}

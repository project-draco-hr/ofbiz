{
  ModelViewEntity modelViewEntity=null;
  if (modelEntity instanceof ModelViewEntity) {
    modelViewEntity=(ModelViewEntity)modelEntity;
  }
  List<EntityCondition> conditions=FastList.newInstance();
  if (UtilValidate.isNotEmpty(whereEntityCondition)) {
    conditions.add(whereEntityCondition);
  }
  if (modelViewEntity != null && !viewWhereConditions.isEmpty()) {
    EntityCondition viewWhereEntityCondition=EntityCondition.makeCondition(viewWhereConditions);
    if (!viewWhereEntityCondition.isEmpty()) {
      conditions.add(viewWhereEntityCondition);
    }
  }
  String viewClause=SqlJdbcUtil.makeViewWhereClause(modelEntity,datasourceInfo.joinStyle);
  if (viewClause.length() > 0) {
    conditions.add(EntityCondition.makeConditionWhere(viewClause));
  }
  if (!conditions.isEmpty()) {
    whereString.append(prefix);
    whereString.append(EntityCondition.makeCondition(conditions,EntityOperator.AND).makeWhereString(modelEntity,whereEntityConditionParams,this.datasourceInfo));
  }
  return whereString;
}

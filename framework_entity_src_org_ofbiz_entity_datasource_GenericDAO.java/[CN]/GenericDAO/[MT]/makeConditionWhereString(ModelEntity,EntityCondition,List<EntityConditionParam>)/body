{
  ModelViewEntity modelViewEntity=null;
  if (modelEntity instanceof ModelViewEntity) {
    modelViewEntity=(ModelViewEntity)modelEntity;
  }
  String entityCondWhereString="";
  if (whereEntityCondition != null) {
    entityCondWhereString=whereEntityCondition.makeWhereString(modelEntity,whereEntityConditionParams,this.datasourceInfo);
  }
  String viewEntityCondWhereString=null;
  if (modelViewEntity != null && modelViewEntity.getByConditionFinder() != null) {
    EntityCondition viewWhereEntityCondition=modelViewEntity.getByConditionFinder().getWhereEntityCondition(FastMap.<String,Object>newInstance(),modelEntity,this.modelFieldTypeReader);
    if (viewWhereEntityCondition != null) {
      viewEntityCondWhereString=viewWhereEntityCondition.makeWhereString(modelEntity,whereEntityConditionParams,this.datasourceInfo);
    }
  }
  String viewClause=SqlJdbcUtil.makeViewWhereClause(modelEntity,datasourceInfo.joinStyle);
  StringBuilder whereString=new StringBuilder();
  if (entityCondWhereString.length() > 0) {
    boolean addParens=false;
    if (entityCondWhereString.charAt(0) != '(')     addParens=true;
    if (addParens)     whereString.append("(");
    whereString.append(entityCondWhereString);
    if (addParens)     whereString.append(")");
  }
  if (UtilValidate.isNotEmpty(viewEntityCondWhereString)) {
    if (whereString.length() > 0)     whereString.append(" AND ");
    boolean addParens=false;
    if (viewEntityCondWhereString.charAt(0) != '(')     addParens=true;
    if (addParens)     whereString.append("(");
    whereString.append(viewEntityCondWhereString);
    if (addParens)     whereString.append(")");
  }
  if (viewClause.length() > 0) {
    if (whereString.length() > 0)     whereString.append(" AND ");
    boolean addParens=false;
    if (viewClause.charAt(0) != '(')     addParens=true;
    if (addParens)     whereString.append("(");
    whereString.append(viewClause);
    if (addParens)     whereString.append(")");
  }
  return whereString;
}

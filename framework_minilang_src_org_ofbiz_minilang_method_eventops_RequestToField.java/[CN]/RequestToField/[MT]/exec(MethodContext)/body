{
  String defaultVal=methodContext.expandString(this.defaultVal);
  Object fieldVal=null;
  if (methodContext.getMethodType() == MethodContext.EVENT) {
    fieldVal=requestAcsr.get(methodContext.getRequest(),methodContext.getEnvMap());
    if (fieldVal == null) {
      Debug.logWarning("Request attribute value not found with name " + requestAcsr,module);
    }
  }
  if (fieldVal == null) {
    fieldVal=defaultVal;
  }
 else   if (fieldVal instanceof String) {
    String strVal=(String)fieldVal;
    if (strVal.length() == 0) {
      fieldVal=defaultVal;
    }
  }
  if (!mapAcsr.isEmpty()) {
    Map fromMap=(Map)mapAcsr.get(methodContext);
    if (fromMap == null) {
      Debug.logWarning("Map not found with name " + mapAcsr + " creating a new map",module);
      fromMap=new HashMap();
      mapAcsr.put(methodContext,fromMap);
    }
    fieldAcsr.put(fromMap,fieldVal,methodContext);
  }
 else {
    fieldAcsr.put(methodContext,fieldVal);
  }
  return true;
}

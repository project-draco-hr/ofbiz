{
  BigDecimal packedQty=ZERO;
  BigDecimal orderedQty=ZERO;
  List<GenericValue> orderItems=this.getDelegator().findByAnd("OrderItem",UtilMisc.toMap("orderId",orderId));
  for (  GenericValue orderItem : orderItems) {
    orderedQty=orderedQty.add(orderItem.getBigDecimal("quantity"));
  }
  for (  PackingSessionLine line : this.getLines()) {
    packedQty=packedQty.add(line.getQuantity());
  }
  if (orderedQty.compareTo(packedQty) != 0) {
    throw new GeneralException(UtilProperties.getMessage("ProductErrorUiLabels","ProductErrorAllOrderItemsAreNotPacked",locale));
  }
}

{
  double reserved=-1;
  try {
    GenericValue res=EntityUtil.getFirst(this.getDelegator().findByAnd("OrderItemAndShipGrpInvResAndItemSum",UtilMisc.toMap("orderId",orderId,"orderItemSeqId",orderItemSeqId,"shipGroupSeqId",shipGroupSeqId,"inventoryProductId",productId)));
    Double reservedDbl=res.getDouble("totQuantityAvailable");
    if (reservedDbl == null) {
      reservedDbl=new Double(-1);
    }
    reserved=reservedDbl.doubleValue();
  }
 catch (  GenericEntityException e) {
    Debug.logError(e,module);
  }
  return reserved;
}

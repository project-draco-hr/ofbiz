{
  String invItemId=res.getString("inventoryItemId");
  double resQty=res.getDouble("quantity").doubleValue();
  PackingSessionLine line=this.findLine(orderId,orderItemSeqId,shipGroupSeqId,invItemId,packageSeqId);
  if (line == null) {
    Debug.log("No current line found testing [" + invItemId + "] R: "+ resQty+ " / Q: "+ quantity,module);
    if (resQty < quantity) {
      return 0;
    }
 else {
      return 2;
    }
  }
 else {
    double newQty=line.getQuantity() + quantity;
    Debug.log("Existing line found testing [" + invItemId + "] R: "+ resQty+ " / Q: "+ newQty,module);
    if (resQty < newQty) {
      return 0;
    }
 else {
      line.setQuantity(newQty);
      return 1;
    }
  }
}

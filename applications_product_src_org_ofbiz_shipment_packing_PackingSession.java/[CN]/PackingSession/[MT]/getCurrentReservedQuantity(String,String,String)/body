{
  double reserved=-1;
  List res=null;
  try {
    res=this.getDelegator().findByAnd("OrderItemShipGrpInvRes",UtilMisc.toMap("orderId",orderId,"orderItemSeqId",orderItemSeqId,"shipGroupSeqId",shipGroupSeqId));
  }
 catch (  GenericEntityException e) {
    Debug.logError(e,module);
  }
  if (res != null) {
    reserved=0.0;
    Iterator i=res.iterator();
    while (i.hasNext()) {
      GenericValue v=(GenericValue)i.next();
      Double not=v.getDouble("quantityNotAvailable");
      Double qty=v.getDouble("quantity");
      if (not == null)       not=new Double(0);
      if (qty == null)       qty=new Double(0);
      reserved+=(qty.doubleValue() - not.doubleValue());
    }
  }
  return reserved;
}

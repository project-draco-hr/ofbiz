{
  double total=0.0;
  List lines=this.getLines();
  Iterator i=lines.iterator();
  while (i.hasNext()) {
    PackingSessionLine line=(PackingSessionLine)i.next();
    if (orderId.equals(line.getOrderId()) && orderItemSeqId.equals(line.getOrderItemSeqId()) && shipGroupSeqId.equals(line.getShipGroupSeqId())) {
      if (inventoryItemId == null || inventoryItemId.equals(line.getInventoryItemId())) {
        if (packageSeq == -1 || packageSeq == line.getPackageSeq()) {
          total+=line.getQuantity();
        }
      }
    }
  }
  return total;
}

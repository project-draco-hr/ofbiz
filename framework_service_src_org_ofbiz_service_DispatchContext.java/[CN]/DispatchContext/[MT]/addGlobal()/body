{
  Map globalMap=FastMap.newInstance();
  Element rootElement=null;
  try {
    rootElement=ServiceConfigUtil.getXmlRootElement();
  }
 catch (  GenericConfigException e) {
    Debug.logError(e,"Error getting Service Engine XML root element",module);
    return null;
  }
  List globalServicesElements=UtilXml.childElementList(rootElement,"global-services");
  Iterator gseIter=globalServicesElements.iterator();
  while (gseIter.hasNext()) {
    Element globalServicesElement=(Element)gseIter.next();
    ResourceHandler handler=new MainResourceHandler(ServiceConfigUtil.SERVICE_ENGINE_XML_FILENAME,globalServicesElement);
    Map servicesMap=addReader(handler);
    if (servicesMap != null) {
      globalMap.putAll(servicesMap);
    }
  }
  List componentResourceInfos=ComponentConfig.getAllServiceResourceInfos("model");
  Iterator componentResourceInfoIter=componentResourceInfos.iterator();
  while (componentResourceInfoIter.hasNext()) {
    ComponentConfig.ServiceResourceInfo componentResourceInfo=(ComponentConfig.ServiceResourceInfo)componentResourceInfoIter.next();
    Map servicesMap=addReader(componentResourceInfo.createResourceHandler());
    if (servicesMap != null) {
      globalMap.putAll(servicesMap);
    }
  }
  return globalMap;
}

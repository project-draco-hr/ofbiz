{
  List<WfActivity> steps=new ArrayList<WfActivity>();
  List<GenericValue> workEffortList=null;
  try {
    workEffortList=getDelegator().findByAnd("WorkEffort",UtilMisc.toMap("workEffortParentId",runtimeKey()));
  }
 catch (  GenericEntityException e) {
    throw new WfException(e.getMessage(),e);
  }
  if (workEffortList == null) {
    return steps;
  }
  for (  GenericValue workEffort : workEffortList) {
    if (workEffort.get("currentStatusId") != null && WfUtil.getOMGStatus(workEffort.getString("currentStatusId")).startsWith("open."))     steps.add(WfFactory.getWfActivity(getDelegator(),workEffort.getString("workEffortId")));
  }
  return steps;
}

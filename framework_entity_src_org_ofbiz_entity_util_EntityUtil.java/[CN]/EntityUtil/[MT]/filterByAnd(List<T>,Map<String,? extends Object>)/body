{
  if (values == null)   return null;
  List<T> result=null;
  if (fields == null || fields.size() == 0) {
    result=FastList.newInstance();
    result.addAll(values);
  }
 else {
    result=FastList.newInstance();
    for (    T value : values) {
      if (value.matchesFields(fields)) {
        result.add(value);
      }
    }
  }
  return result;
}

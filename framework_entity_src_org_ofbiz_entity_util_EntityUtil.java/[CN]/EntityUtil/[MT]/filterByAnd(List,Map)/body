{
  if (values == null)   return null;
  List result=null;
  if (fields == null || fields.size() == 0) {
    result=FastList.newInstance();
    result.addAll(values);
  }
 else {
    result=FastList.newInstance();
    Iterator iter=values.iterator();
    while (iter.hasNext()) {
      GenericValue value=(GenericValue)iter.next();
      if (value.matchesFields(fields)) {
        result.add(value);
      }
    }
  }
  return result;
}

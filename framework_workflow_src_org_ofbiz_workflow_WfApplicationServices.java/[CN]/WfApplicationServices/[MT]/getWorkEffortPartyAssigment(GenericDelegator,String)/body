{
  Map expresions=new HashMap();
  expresions.putAll(UtilMisc.toMap("workEffortId",workEffortId));
  expresions.putAll(UtilMisc.toMap("statusId","CAL_ACCEPTED"));
  List orderBy=new ArrayList();
  orderBy.add("-fromDate");
  try {
    final Collection assigments=delegator.findByAnd("WorkEffortPartyAssignment",expresions,orderBy);
    GenericValue assigment;
    if (assigments.isEmpty()) {
      Debug.logError("No accepted activities found for the workEffortId=" + workEffortId,module);
      throw new GenericServiceException("Can not find WorkEffortPartyAssignment for the Workflow service. WorkEffortId=" + workEffortId);
    }
    if (assigments.size() != 1)     Debug.logWarning("More than one accepted activities found for the workEffortId=" + workEffortId,module);
    return (GenericValue)assigments.iterator().next();
  }
 catch (  GenericEntityException ee) {
    throw new GenericServiceException(ee.getMessage(),ee);
  }
}

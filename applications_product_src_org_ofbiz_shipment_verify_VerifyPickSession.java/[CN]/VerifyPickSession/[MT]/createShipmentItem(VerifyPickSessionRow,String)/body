{
  Map<String,Object> newShipmentItem=FastMap.newInstance();
  newShipmentItem.put("shipmentId",shipmentId);
  newShipmentItem.put("productId",line.getProductId());
  newShipmentItem.put("userLogin",this.getUserLogin());
  newShipmentItem.put("quantity",line.getReadyToVerifyQty());
  Map<String,Object> newShipItem=this.getDispatcher().runSync("createShipmentItem",newShipmentItem);
  if (ServiceUtil.isError(newShipItem)) {
    throw new GeneralException(ServiceUtil.getErrorMessage(newShipItem));
  }
  String shipmentItemSeqId=(String)newShipItem.get("shipmentItemSeqId");
  Map<String,Object> newOrderShipment=FastMap.newInstance();
  newOrderShipment.put("shipmentId",shipmentId);
  newOrderShipment.put("shipmentItemSeqId",shipmentItemSeqId);
  newOrderShipment.put("orderId",line.getOrderId());
  newOrderShipment.put("orderItemSeqId",line.getOrderSeqId());
  newOrderShipment.put("quantity",line.getReadyToVerifyQty());
  newOrderShipment.put("userLogin",this.getUserLogin());
  Map<String,Object> newOrderShip=this.getDispatcher().runSync("createOrderShipment",newOrderShipment);
  if (ServiceUtil.isError(newOrderShip)) {
    throw new GeneralException(ServiceUtil.getErrorMessage(newOrderShip));
  }
  return shipmentItemSeqId;
}

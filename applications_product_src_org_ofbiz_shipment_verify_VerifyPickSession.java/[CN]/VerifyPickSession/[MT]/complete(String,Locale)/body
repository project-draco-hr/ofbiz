{
  String invoiceId=null;
  String invoiceItemSeqId=null;
  this.checkVerifiedQty(orderId,locale);
  this.checkReservedQty(orderId,locale);
  String shipmentId=this.createShipment((this.getPickRows(orderId)).get(0));
  this.issueItemsToShipment(shipmentId,locale);
  Map updateShipmentCtx=FastMap.newInstance();
  updateShipmentCtx.put("shipmentId",shipmentId);
  updateShipmentCtx.put("statusId","SHIPMENT_PICKED");
  updateShipmentCtx.put("userLogin",this.getUserLogin());
  this.getDispatcher().runSync("updateShipment",updateShipmentCtx);
  return shipmentId;
}

{
  if (UtilValidate.isEmpty(geoIdByTypeMapOrig)) {
    return geoIdByTypeMapOrig;
  }
  Map<String,String> geoIdByTypeMapTemp=FastMap.newInstance();
  for (  Map.Entry<String,String> geoIdByTypeEntry : geoIdByTypeMapOrig.entrySet()) {
    List<GenericValue> geoAssocList=delegator.findByAnd("GeoAssoc",UtilMisc.toMap("geoIdTo",geoIdByTypeEntry.getValue(),"geoAssocTypeId","REGIONS"),null,true);
    for (    GenericValue geoAssoc : geoAssocList) {
      GenericValue newGeo=delegator.findOne("Geo",true,"geoId",geoAssoc.getString("geoId"));
      geoIdByTypeMapTemp.put(newGeo.getString("geoTypeId"),newGeo.getString("geoId"));
    }
  }
  geoIdByTypeMapTemp=expandGeoRegionDeep(geoIdByTypeMapTemp,delegator);
  Map<String,String> geoIdByTypeMapNew=FastMap.newInstance();
  geoIdByTypeMapNew.putAll(geoIdByTypeMapTemp);
  geoIdByTypeMapNew.putAll(geoIdByTypeMapOrig);
  return geoIdByTypeMapNew;
}

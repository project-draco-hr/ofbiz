{
  if (geoIdSet == null || geoIdSet.size() == 0) {
    return geoIdSet;
  }
  Set geoIdSetTemp=FastSet.newInstance();
  Iterator geoIdIter=geoIdSet.iterator();
  while (geoIdIter.hasNext()) {
    String curGeoId=(String)geoIdIter.next();
    List geoAssocList=delegator.findByAndCache("GeoAssoc",UtilMisc.toMap("geoIdTo",curGeoId,"geoAssocTypeId","REGIONS"));
    Iterator geoAssocIter=geoAssocList.iterator();
    while (geoAssocIter.hasNext()) {
      GenericValue geoAssoc=(GenericValue)geoAssocIter.next();
      geoIdSetTemp.add(geoAssoc.get("geoId"));
    }
  }
  geoIdSetTemp=expandGeoRegionDeep(geoIdSetTemp,delegator);
  Set geoIdSetNew=FastSet.newInstance();
  geoIdSetNew.addAll(geoIdSet);
  geoIdSetNew.addAll(geoIdSetTemp);
  return geoIdSetNew;
}

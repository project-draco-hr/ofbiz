{
  Element trackResponseElement=trackResponseDocument.getDocumentElement();
  Element responseElement=UtilXml.firstChildElement(trackResponseElement,"Response");
  String responseStatusCode=UtilXml.childElementValue(responseElement,"ResponseStatusCode");
  List<Object> errorList=FastList.newInstance();
  UpsServices.handleErrors(responseElement,errorList);
  if ("1".equals(responseStatusCode)) {
    StringBuilder successString=new StringBuilder("The UPS TrackShipment succeeded");
    if (errorList.size() > 0) {
      successString.append(", but the following occurred: ");
      Iterator<Object> errorListIter=errorList.iterator();
      while (errorListIter.hasNext()) {
        successString.append(errorListIter.next());
        if (errorListIter.hasNext()) {
          successString.append(", ");
        }
      }
    }
    return ServiceUtil.returnSuccess(successString.toString());
  }
 else {
    errorList.add(0,"The UPS ShipmentConfirm failed");
    return ServiceUtil.returnError(errorList);
  }
}

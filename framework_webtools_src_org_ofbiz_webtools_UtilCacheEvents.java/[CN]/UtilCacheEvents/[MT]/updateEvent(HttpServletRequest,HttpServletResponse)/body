{
  Security security=(Security)request.getAttribute("security");
  if (!security.hasPermission("UTIL_CACHE_EDIT",request.getSession())) {
    request.setAttribute("_ERROR_MESSAGE_","You do not have permission to perform this operation, UTIL_CACHE_EDIT required.");
    return "error";
  }
  String name=request.getParameter("UTIL_CACHE_NAME");
  if (name == null) {
    request.setAttribute("_ERROR_MESSAGE_","Could not update cache settings, no name specified");
    return "error";
  }
  String maxSizeStr=request.getParameter("UTIL_CACHE_MAX_SIZE");
  String expireTimeStr=request.getParameter("UTIL_CACHE_EXPIRE_TIME");
  String useSoftReferenceStr=request.getParameter("UTIL_CACHE_USE_SOFT_REFERENCE");
  Long maxSize=null, expireTime=null;
  try {
    maxSize=Long.valueOf(maxSizeStr);
  }
 catch (  Exception e) {
  }
  try {
    expireTime=Long.valueOf(expireTimeStr);
  }
 catch (  Exception e) {
  }
  UtilCache utilCache=(UtilCache)UtilCache.utilCacheTable.get(name);
  if (utilCache != null) {
    if (maxSize != null)     utilCache.setMaxSize(maxSize.intValue());
    if (expireTime != null)     utilCache.setExpireTime(expireTime.longValue());
    if (useSoftReferenceStr != null) {
      utilCache.setUseSoftReference("true".equals(useSoftReferenceStr));
    }
  }
  return "success";
}

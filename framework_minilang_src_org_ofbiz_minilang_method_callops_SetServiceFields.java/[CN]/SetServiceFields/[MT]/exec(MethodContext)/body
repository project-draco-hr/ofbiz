{
  List<Object> messages=errorListAcsr.get(methodContext);
  if (messages == null) {
    messages=FastList.newInstance();
    errorListAcsr.put(methodContext,messages);
  }
  String serviceName=methodContext.expandString(this.serviceName);
  Map<String,? extends Object> fromMap=mapAcsr.get(methodContext);
  if (fromMap == null) {
    Debug.logWarning("The from map in set-service-field was not found with name: " + mapAcsr,module);
    return true;
  }
  Map<String,Object> toMap=toMapAcsr.get(methodContext);
  if (toMap == null) {
    toMap=FastMap.newInstance();
    toMapAcsr.put(methodContext,toMap);
  }
  LocalDispatcher dispatcher=methodContext.getDispatcher();
  ModelService modelService=null;
  try {
    modelService=dispatcher.getDispatchContext().getModelService(serviceName);
  }
 catch (  GenericServiceException e) {
    String errMsg="In set-service-fields could not get service definition for service name [" + serviceName + "]: "+ e.toString();
    Debug.logError(e,errMsg,module);
    methodContext.setErrorReturn(errMsg,simpleMethod);
    return false;
  }
  toMap.putAll(modelService.makeValid(fromMap,"IN",true,null,methodContext.getTimeZone(),methodContext.getLocale()));
  return true;
}

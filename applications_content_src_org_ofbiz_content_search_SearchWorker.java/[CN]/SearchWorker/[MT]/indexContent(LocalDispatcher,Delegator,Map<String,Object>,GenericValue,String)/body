{
  Directory directory=FSDirectory.open(new File(getIndexPath(path)));
  IndexWriter writer=null;
  try {
    writer=new IndexWriter(directory,new StandardAnalyzer(Version.LUCENE_30),false,IndexWriter.MaxFieldLength.UNLIMITED);
    if (Debug.infoOn())     Debug.logInfo("Used old directory:" + directory.toString(),module);
  }
 catch (  FileNotFoundException e) {
    writer=new IndexWriter(directory,new StandardAnalyzer(Version.LUCENE_30),true,IndexWriter.MaxFieldLength.UNLIMITED);
    if (Debug.infoOn())     Debug.logInfo("Created new directory:" + directory.toString(),module);
  }
  indexContent(dispatcher,delegator,context,content,writer);
  writer.optimize();
  writer.close();
}

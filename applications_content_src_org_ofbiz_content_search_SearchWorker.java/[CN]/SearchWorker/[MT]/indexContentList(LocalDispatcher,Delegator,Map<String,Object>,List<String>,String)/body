{
  Directory directory=FSDirectory.open(new File(getIndexPath(path)));
  if (Debug.infoOn())   Debug.logInfo("in indexContent, indexAllPath: " + directory.toString(),module);
  GenericValue content=null;
  Iterator<String> iter=null;
  List<GenericValue> contentList=null;
  IndexReader reader=null;
  try {
    reader=IndexReader.open(directory,false);
  }
 catch (  Exception e) {
  }
  contentList=FastList.newInstance();
  iter=idList.iterator();
  while (iter.hasNext()) {
    String id=iter.next();
    if (Debug.infoOn())     Debug.logInfo("in indexContent, id:" + id,module);
    try {
      content=delegator.findByPrimaryKeyCache("Content",UtilMisc.toMap("contentId",id));
      if (content != null) {
        if (reader != null) {
          deleteContentDocument(content,reader);
        }
        contentList.add(content);
      }
    }
 catch (    GenericEntityException e) {
      Debug.logError(e,module);
      return;
    }
  }
  if (reader != null) {
    reader.close();
  }
  IndexWriter writer=null;
  try {
    writer=new IndexWriter(directory,new StandardAnalyzer(Version.LUCENE_30),false,IndexWriter.MaxFieldLength.UNLIMITED);
  }
 catch (  Exception e) {
    writer=new IndexWriter(directory,new StandardAnalyzer(Version.LUCENE_30),true,IndexWriter.MaxFieldLength.UNLIMITED);
  }
  Iterator<GenericValue> contentListIter=contentList.iterator();
  while (contentListIter.hasNext()) {
    content=contentListIter.next();
    indexContent(dispatcher,delegator,context,content,writer);
  }
  writer.optimize();
  writer.close();
}

{
  Directory directory=FSDirectory.open(new File(getIndexPath(path)));
  if (Debug.infoOn())   Debug.logInfo("in indexContent, indexAllPath: " + directory.toString(),module);
  GenericValue content=null;
  List<GenericValue> contentList=null;
  IndexReader reader=null;
  try {
    reader=IndexReader.open(directory,false);
  }
 catch (  Exception e) {
  }
  contentList=FastList.newInstance();
  for (  String id : idList) {
    if (Debug.infoOn())     Debug.logInfo("in indexContent, id:" + id,module);
    try {
      content=delegator.findByPrimaryKeyCache("Content",UtilMisc.toMap("contentId",id));
      if (content != null) {
        if (reader != null) {
          deleteContentDocument(content,reader);
        }
        contentList.add(content);
      }
    }
 catch (    GenericEntityException e) {
      Debug.logError(e,module);
      return;
    }
  }
  if (reader != null) {
    reader.close();
  }
  IndexWriter writer=null;
  try {
    writer=new IndexWriter(directory,new StandardAnalyzer(Version.LUCENE_30),false,IndexWriter.MaxFieldLength.UNLIMITED);
  }
 catch (  Exception e) {
    writer=new IndexWriter(directory,new StandardAnalyzer(Version.LUCENE_30),true,IndexWriter.MaxFieldLength.UNLIMITED);
  }
  for (  GenericValue gv : contentList) {
    indexContent(dispatcher,delegator,context,gv,writer);
  }
  writer.optimize();
  writer.close();
}

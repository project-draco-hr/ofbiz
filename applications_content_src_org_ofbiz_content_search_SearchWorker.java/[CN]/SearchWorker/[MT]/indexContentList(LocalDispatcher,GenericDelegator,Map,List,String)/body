{
  String indexAllPath=getIndexPath(path);
  if (Debug.infoOn())   Debug.logInfo("in indexContent, indexAllPath:" + indexAllPath,module);
  GenericValue content=null;
  Iterator iter=null;
  List contentList=null;
  IndexReader reader=null;
  try {
    reader=IndexReader.open(indexAllPath);
  }
 catch (  Exception e) {
  }
  contentList=FastList.newInstance();
  iter=idList.iterator();
  while (iter.hasNext()) {
    String id=(String)iter.next();
    if (Debug.infoOn())     Debug.logInfo("in indexContent, id:" + id,module);
    try {
      content=delegator.findByPrimaryKeyCache("Content",UtilMisc.toMap("contentId",id));
      if (content != null) {
        if (reader != null) {
          deleteContentDocument(content,reader);
        }
        contentList.add(content);
      }
    }
 catch (    GenericEntityException e) {
      Debug.logError(e,module);
      return;
    }
  }
  if (reader != null) {
    reader.close();
  }
  IndexWriter writer=null;
  try {
    writer=new IndexWriter(indexAllPath,new StandardAnalyzer(),false);
  }
 catch (  Exception e) {
    writer=new IndexWriter(indexAllPath,new StandardAnalyzer(),true);
  }
  iter=contentList.iterator();
  while (iter.hasNext()) {
    content=(GenericValue)iter.next();
    indexContent(dispatcher,delegator,context,content,writer);
  }
  writer.optimize();
  writer.close();
}

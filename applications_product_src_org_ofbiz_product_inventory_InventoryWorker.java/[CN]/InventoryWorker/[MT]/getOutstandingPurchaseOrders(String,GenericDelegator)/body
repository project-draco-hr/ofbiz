{
  try {
    List purchaseOrderConditions=UtilMisc.toList(new EntityExpr("orderStatusId",EntityOperator.NOT_EQUAL,"ORDER_COMPLETED"),new EntityExpr("orderStatusId",EntityOperator.NOT_EQUAL,"ORDER_CANCELLED"),new EntityExpr("orderStatusId",EntityOperator.NOT_EQUAL,"ORDER_REJECTED"),new EntityExpr("itemStatusId",EntityOperator.NOT_EQUAL,"ITEM_COMPLETED"),new EntityExpr("itemStatusId",EntityOperator.NOT_EQUAL,"ITEM_CANCELLED"),new EntityExpr("itemStatusId",EntityOperator.NOT_EQUAL,"ITEM_REJECTED"));
    purchaseOrderConditions.add(new EntityExpr("orderTypeId",EntityOperator.EQUALS,"PURCHASE_ORDER"));
    purchaseOrderConditions.add(new EntityExpr("productId",EntityOperator.EQUALS,productId));
    List purchaseOrders=delegator.findList("OrderHeaderAndItems",new EntityConditionList(purchaseOrderConditions,EntityOperator.AND),null,UtilMisc.toList("estimatedDeliveryDate DESC","orderDate"),null,false);
    return purchaseOrders;
  }
 catch (  GenericEntityException ex) {
    Debug.logError("Unable to find outstanding purchase orders for product [" + productId + "] due to "+ ex.getMessage()+ " - returning null",module);
    return null;
  }
}

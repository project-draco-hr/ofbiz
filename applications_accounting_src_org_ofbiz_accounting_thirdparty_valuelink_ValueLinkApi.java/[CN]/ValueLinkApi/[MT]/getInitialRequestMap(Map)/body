{
  Map request=new HashMap();
  request.put("MerchID",merchantId + terminalId);
  request.put("AltMerchNo",props.get("payment.valuelink.altMerchantId"));
  String modes=(String)props.get("payment.valuelink.modes");
  if (modes != null && modes.length() > 0) {
    request.put("Modes",modes);
  }
  String merchTime=(String)context.get("MerchTime");
  if (merchTime == null) {
    merchTime=this.getDateString();
  }
  request.put("MerchTime",merchTime);
  String termTxNo=(String)context.get("TermTxnNo");
  if (termTxNo == null) {
    termTxNo=delegator.getNextSeqId("ValueLinkKey");
  }
  request.put("TermTxnNo",termTxNo);
  request.put("EncryptID",this.getWorkingKeyIndex());
  if (debug) {
    Debug.log("Created Initial Request Map : " + request,module);
  }
  return request;
}

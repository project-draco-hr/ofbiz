{
  Region regionEnd=null;
  try {
    regionEnd=RegionStack.peek(pageContext.getRequest());
  }
 catch (  Exception e) {
    throw new JspException("Error finding region on stack: " + e.getMessage());
  }
  if (regionEnd == null)   throw new JspException("Can't find region on stack");
  if (renderingSection()) {
    Section section=regionEnd.get(sectionName);
    if (section == null)     return EVAL_PAGE;
    section.render(pageContext);
  }
 else   if (renderingRegion()) {
    try {
      regionEnd.render(pageContext);
      RegionStack.pop(pageContext.getRequest());
    }
 catch (    Exception ex) {
      Debug.logError(ex,"Error rendering region [" + regionEnd.getId() + "]: ",module);
      throw new JspException("Error rendering region [" + regionEnd.getId() + "]: "+ ex.getMessage());
    }
  }
  return EVAL_PAGE;
}

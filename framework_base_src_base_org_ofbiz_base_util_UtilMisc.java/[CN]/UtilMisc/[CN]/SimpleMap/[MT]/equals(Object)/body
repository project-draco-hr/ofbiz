{
  if (realMapIfNeeded != null) {
    return realMapIfNeeded.equals(obj);
  }
 else {
    Map mapObj=(Map)obj;
    if (mapObj.size() != names.length)     return false;
    for (int i=0; i < names.length; i++) {
      if (!mapObj.containsKey(names[i]))       return false;
      Object mapValue=mapObj.get(names[i]);
      if (mapValue == null) {
        if (values[i] != null)         return false;
      }
 else {
        if (!mapValue.equals(values[i]))         return false;
      }
    }
    return true;
  }
}

{
  if (dispatcherName == null) {
    dispatcherName=delegator.getDelegatorName();
    Debug.logWarning("Got a getLocalDispatcher call with a null dispatcherName, assuming default for the name.",module);
  }
  if (UtilValidate.isNotEmpty(delegator.getDelegatorTenantId())) {
    dispatcherName+="#" + delegator.getDelegatorTenantId();
  }
  LocalDispatcher dispatcher=dispatcherCache.get(dispatcherName);
  if (dispatcher == null) {
    if (Debug.infoOn())     Debug.logInfo("Creating new dispatcher [" + dispatcherName + "] ("+ Thread.currentThread().getName()+ ")",module);
    dispatcher=dispatcherFactory.createLocalDispatcher(dispatcherName,delegator);
    dispatcherCache.putIfAbsent(dispatcherName,dispatcher);
  }
  return dispatcher;
}

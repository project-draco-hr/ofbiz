{
  List<Node> nodes=new ArrayList<Node>();
  NodeIterator ni=startNode.getNodes();
  while (ni.hasNext()) {
    Node nextNode=ni.nextNode();
    if (nextNode.hasNodes()) {
      nodes.addAll(getAllChildNodes(nextNode));
    }
    nodes.add(nextNode);
  }
  return nodes;
}

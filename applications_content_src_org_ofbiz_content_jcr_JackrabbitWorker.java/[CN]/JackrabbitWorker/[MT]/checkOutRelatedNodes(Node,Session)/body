{
  List<Node> nodesToCheckOut=new ArrayList<Node>();
  nodesToCheckOut.add(startNode);
  nodesToCheckOut.add(startNode.getParent());
  if (startNode.hasNodes()) {
    nodesToCheckOut.addAll(getAllChildNodes(startNode));
  }
  VersionManager vm=session.getWorkspace().getVersionManager();
  for (  Node node : nodesToCheckOut) {
    if (!"/".equals(node.getPath())) {
      vm.checkout(node.getPath());
    }
  }
}

{
  DynamicViewEntity dve=new DynamicViewEntity();
  Table table=selectStatement.getTable();
  addMember(dve,table.getTableName());
  addJoined(dve,table.getTableName().getAlias(),table.getJoined());
  for (  FieldAll fieldAll : selectStatement.getFieldAlls()) {
    dve.addAliasAll(fieldAll.getAlias(),null);
  }
  for (  Relation relation : selectStatement.getRelations()) {
    dve.addRelation(relation.getType(),relation.getTitle(),relation.getEntityName(),buildKeyMaps(relation));
  }
  List<String> groupBy=selectStatement.getGroupBy();
  if (groupBy == null) {
    groupBy=Collections.emptyList();
  }
  for (  FieldDef fieldDef : selectStatement.getFieldDefs()) {
    addFieldDef(dve,groupBy,fieldDef.getAlias(),fieldDef);
  }
  return new EntitySelectPlan(dve,plan(selectStatement.getWhereCondition()),plan(selectStatement.getHavingCondition()),selectStatement.getOrderBy());
}

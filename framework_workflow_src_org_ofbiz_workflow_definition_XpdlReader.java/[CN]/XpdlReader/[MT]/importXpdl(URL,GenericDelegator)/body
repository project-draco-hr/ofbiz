{
  List values=readXpdl(location,delegator);
  boolean beganTransaction=false;
  try {
    beganTransaction=TransactionUtil.begin();
  }
 catch (  GenericTransactionException gte) {
    Debug.logError(gte,"Unable to begin transaction",module);
  }
  try {
    delegator.storeAll(values);
    TransactionUtil.commit(beganTransaction);
  }
 catch (  GenericEntityException e) {
    try {
      TransactionUtil.rollback(beganTransaction,"Error importing XPDL",e);
    }
 catch (    GenericEntityException e2) {
      Debug.logError(e2,"Problems rolling back transaction",module);
    }
    throw new DefinitionParserException("Could not store values",e);
  }
}

{
  boolean passed=true;
  if (this.condition != null) {
    if (!this.condition.eval(context)) {
      passed=false;
    }
  }
  if (passed) {
    ModelMenuAction.runSubActions(this.actions,context);
    String parentPortalPageId=this.getParentPortalPageId(context);
    if (UtilValidate.isNotEmpty(parentPortalPageId)) {
      List<GenericValue> portalPages=this.getPortalPages(context);
      for (      GenericValue portalPage : portalPages) {
        if (UtilValidate.isNotEmpty(portalPage.getString("portalPageName"))) {
          ModelMenuItem localItem=new ModelMenuItem(this.getModelMenu());
          localItem.name=portalPage.getString("portalPageId");
          localItem.setTitle(portalPage.getString("portalPageName"));
          localItem.link=new Link(this);
          localItem.link.setTarget("showPortalPage?portalPageId=" + portalPage.getString("portalPageId") + "&parentPortalPageId="+ parentPortalPageId);
          localItem.link.setText(portalPage.getString("portalPageName"));
          menuStringRenderer.renderMenuItem(writer,context,localItem);
        }
      }
    }
 else {
      menuStringRenderer.renderMenuItem(writer,context,this);
    }
  }
}

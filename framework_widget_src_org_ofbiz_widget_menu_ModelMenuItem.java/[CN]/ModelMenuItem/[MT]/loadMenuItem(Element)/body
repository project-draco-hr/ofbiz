{
  this.entityName=menuItemElement.getAttribute("entity-name");
  this.setTitle(menuItemElement.getAttribute("title"));
  this.setTooltip(menuItemElement.getAttribute("tooltip"));
  this.setParentPortalPageId(menuItemElement.getAttribute("parent-portal-page-value"));
  this.titleStyle=menuItemElement.getAttribute("title-style");
  this.disabledTitleStyle=menuItemElement.getAttribute("disabled-title-style");
  this.widgetStyle=menuItemElement.getAttribute("widget-style");
  this.tooltipStyle=menuItemElement.getAttribute("tooltip-style");
  this.selectedStyle=menuItemElement.getAttribute("selected-style");
  this.setHideIfSelected(menuItemElement.getAttribute("hide-if-selected"));
  this.disableIfEmpty=menuItemElement.getAttribute("disable-if-empty");
  this.align=menuItemElement.getAttribute("align");
  this.alignStyle=menuItemElement.getAttribute("align-style");
  String positionStr=menuItemElement.getAttribute("position");
  try {
    if (UtilValidate.isNotEmpty(positionStr)) {
      position=Integer.valueOf(positionStr);
    }
  }
 catch (  Exception e) {
    Debug.logError(e,"Could not convert position attribute of the field element to an integer: [" + positionStr + "], using the default of the menu renderer",module);
  }
  this.setAssociatedContentId(menuItemElement.getAttribute("associated-content-id"));
  this.cellWidth=menuItemElement.getAttribute("cell-width");
  dataMap.put("name",getName());
  Element subMenuElement=UtilXml.firstChildElement(menuItemElement,"sub-menu");
  if (subMenuElement != null) {
    String subMenuLocation=subMenuElement.getAttribute("location");
    String subMenuName=subMenuElement.getAttribute("name");
    try {
      this.subMenu=MenuFactory.getMenuFromLocation(subMenuLocation,subMenuName);
    }
 catch (    IOException e) {
      String errMsg="Error getting subMenu in menu named [" + this.modelMenu.getName() + "]: "+ e.toString();
      Debug.logError(e,errMsg,module);
      throw new RuntimeException(errMsg);
    }
catch (    SAXException e2) {
      String errMsg="Error getting subMenu in menu named [" + this.modelMenu.getName() + "]: "+ e2.toString();
      Debug.logError(e2,errMsg,module);
      throw new RuntimeException(errMsg);
    }
catch (    ParserConfigurationException e3) {
      String errMsg="Error getting subMenu in menu named [" + this.modelMenu.getName() + "]: "+ e3.toString();
      Debug.logError(e3,errMsg,module);
      throw new RuntimeException(errMsg);
    }
  }
  Element linkElement=UtilXml.firstChildElement(menuItemElement,"link");
  if (linkElement != null) {
    link=new Link(linkElement,this);
  }
  List<? extends Element> itemElements=UtilXml.childElementList(menuItemElement,"menu-item");
  for (  Element itemElement : itemElements) {
    ModelMenuItem modelMenuItem=new ModelMenuItem(itemElement,this);
    modelMenuItem=this.addUpdateMenuItem(modelMenuItem);
  }
  Element conditionElement=UtilXml.firstChildElement(menuItemElement,"condition");
  if (conditionElement != null) {
    this.condition=new ModelMenuCondition(this,conditionElement);
  }
  Element actionsElement=UtilXml.firstChildElement(conditionElement,"actions");
  if (actionsElement != null) {
    this.actions=ModelWidgetAction.readSubActions(this,actionsElement);
  }
}

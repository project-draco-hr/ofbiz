{
  trace("is Aggregated Item",productId);
  try {
    Delegator delegator=cart.getDelegator();
    GenericValue product=null;
    product=delegator.findOne("Product",UtilMisc.toMap("productId",productId),true);
    if (UtilValidate.isNotEmpty(product) && ("AGGREGATED".equals(product.getString("productTypeId")) || "AGGREGATED_SERVICE".equals(product.getString("productTypeId")))) {
      return true;
    }
  }
 catch (  GenericEntityException e) {
    trace("item lookup error",e);
    Debug.logError(e,module);
  }
catch (  Exception e) {
    trace("general exception",e);
    Debug.logError(e,module);
  }
  return false;
}

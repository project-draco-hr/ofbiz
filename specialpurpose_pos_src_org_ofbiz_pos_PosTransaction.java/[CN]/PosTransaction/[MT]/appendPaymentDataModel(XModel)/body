{
  if (cart != null) {
    int paymentInfoSize=cart.selectedPayments();
    for (int i=0; i < paymentInfoSize; i++) {
      ShoppingCart.CartPaymentInfo inf=(ShoppingCart.CartPaymentInfo)cart.getPaymentInfo(i);
      GenericValue paymentInfoObj=inf.getValueObject(session.getDelegator());
      GenericValue paymentMethodType=null;
      GenericValue paymentMethod=null;
      if ("PaymentMethod".equals(paymentInfoObj.getEntityName())) {
        paymentMethod=paymentInfoObj;
        try {
          paymentMethodType=paymentMethod.getRelatedOne("PaymentMethodType");
        }
 catch (        GenericEntityException e) {
          Debug.logError(e,module);
        }
      }
 else {
        paymentMethodType=paymentInfoObj;
      }
      Object desc=paymentMethodType != null ? paymentMethodType.get("description",defaultLocale) : "??";
      String descString=desc.toString();
      double amount=0;
      if (inf.amount == null) {
        amount=cart.getGrandTotal() - cart.getPaymentTotal();
      }
 else {
        amount=inf.amount.doubleValue();
      }
      XModel paymentLine=Journal.appendNode(model,"tr","","");
      Journal.appendNode(paymentLine,"td","sku","");
      Journal.appendNode(paymentLine,"td","desc",descString);
      Journal.appendNode(paymentLine,"td","qty","-");
      Journal.appendNode(paymentLine,"td","price",UtilFormatOut.formatPrice(-1 * amount));
      Journal.appendNode(paymentLine,"td","index",new Integer(i).toString());
    }
  }
}

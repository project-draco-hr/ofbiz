{
  if (cart != null) {
    double taxAmount=cart.getTotalSalesTax();
    double total=cart.getGrandTotal();
    List adjustments=cart.getAdjustments();
    if (adjustments != null && adjustments.size() > 0) {
      Iterator iter=adjustments.iterator();
      while (iter.hasNext()) {
        GenericValue orderAdjustment=(GenericValue)iter.next();
        XModel adjustmentLine=Journal.appendNode(model,"tr","adjustment","");
        Journal.appendNode(adjustmentLine,"td","sku","");
        Journal.appendNode(adjustmentLine,"td","desc",UtilProperties.getMessage("pos","(SalesDiscount)",defaultLocale));
        Journal.appendNode(adjustmentLine,"td","qty","");
        Journal.appendNode(adjustmentLine,"td","price",UtilFormatOut.formatPrice(orderAdjustment.getDouble("amount")));
        Journal.appendNode(adjustmentLine,"td","index","-1");
      }
    }
    XModel taxLine=Journal.appendNode(model,"tr","tax","");
    Journal.appendNode(taxLine,"td","sku","");
    Journal.appendNode(taxLine,"td","desc",UtilProperties.getMessage("pos","Sales_Tax",defaultLocale));
    Journal.appendNode(taxLine,"td","qty","");
    Journal.appendNode(taxLine,"td","price",UtilFormatOut.formatPrice(taxAmount));
    Journal.appendNode(taxLine,"td","index","-1");
    XModel totalLine=Journal.appendNode(model,"tr","total","");
    Journal.appendNode(totalLine,"td","sku","");
    Journal.appendNode(totalLine,"td","desc",UtilProperties.getMessage("pos","Grand_Total",defaultLocale));
    Journal.appendNode(totalLine,"td","qty","");
    Journal.appendNode(totalLine,"td","price",UtilFormatOut.formatPrice(total));
    Journal.appendNode(totalLine,"td","index","-1");
  }
}

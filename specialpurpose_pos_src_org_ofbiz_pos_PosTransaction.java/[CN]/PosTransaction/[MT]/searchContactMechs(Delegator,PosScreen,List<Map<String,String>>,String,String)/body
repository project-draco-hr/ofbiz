{
  ListIterator<Map<String,String>> partyListIt=partyList.listIterator();
  while (partyListIt.hasNext()) {
    Map<String,String> party=partyListIt.next();
    String partyId=party.get("partyId");
    List<Map<String,Object>> partyContactMechValueMaps=ContactMechWorker.getPartyContactMechValueMaps(delegator,partyId,false,contactMechType);
    Integer nb=0;
    for (    Map<String,Object> partyContactMechValueMap : partyContactMechValueMaps) {
      nb++;
      String keyType=null;
      String key=null;
      if ("TELECOM_NUMBER".equals(contactMechType)) {
        keyType="telecomNumber";
        key="contactNumber";
      }
 else       if ("EMAIL_ADDRESS".equals(contactMechType)) {
        keyType="contactMech";
        key="infoString";
      }
      Map<String,Object> keyTypeMap=(Map<String,Object>)partyContactMechValueMap.get(keyType);
      String keyTypeValue=((String)keyTypeMap.get(key)).trim();
      if (valueToCompare.equals(keyTypeValue) || UtilValidate.isEmpty(valueToCompare)) {
        if (nb == 1) {
          party.put(key,keyTypeValue);
          partyListIt.set(party);
        }
 else {
          Map<String,String> partyClone=FastMap.newInstance();
          partyClone.putAll(party);
          partyClone.put(key,keyTypeValue);
          partyListIt.add(partyClone);
        }
      }
    }
  }
  return partyList;
}

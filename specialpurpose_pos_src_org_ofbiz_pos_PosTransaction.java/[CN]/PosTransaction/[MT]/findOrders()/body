{
  LocalDispatcher dispatcher=session.getDispatcher();
  Map<String,Object> svcCtx=FastMap.newInstance();
  svcCtx.put("userLogin",session.getUserLogin());
  svcCtx.put("partyId",partyId);
  List<String> orderStatusIds=FastList.newInstance();
  orderStatusIds.add("ORDER_CREATED");
  svcCtx.put("orderStatusId",orderStatusIds);
  svcCtx.put("viewIndex",1);
  svcCtx.put("viewSize",25);
  svcCtx.put("showAll","Y");
  Map<String,Object> svcRes=null;
  try {
    svcRes=dispatcher.runSync("findOrders",svcCtx);
  }
 catch (  GenericServiceException e) {
    Debug.logError(e,module);
  }
  if (svcRes == null) {
    Debug.logInfo(UtilProperties.getMessage("EcommerceUiLabels","EcommerceNoShoppingListsCreate",locale),module);
  }
 else   if (ServiceUtil.isError(svcRes)) {
    Debug.logError(ServiceUtil.getErrorMessage(svcRes) + " - " + svcRes,module);
  }
 else {
    Integer orderListSize=(Integer)svcRes.get("orderListSize");
    if (orderListSize > 0) {
      List<GenericValue> orderList=UtilGenerics.checkList(svcRes.get("orderList"),GenericValue.class);
      return orderList;
    }
  }
  return null;
}

{
  if (this.shipAddress == null) {
    GenericValue facility=(GenericValue)session.getAttribute("facility");
    if (facility == null) {
      return null;
    }
    List fcp=null;
    try {
      fcp=facility.getRelatedByAnd("FacilityContactMechPurpose",UtilMisc.toMap("contactMechPurposeTypeId","SHIP_ORIG_LOCATION"));
    }
 catch (    GenericEntityException e) {
      Debug.logError(e,module);
    }
    fcp=EntityUtil.filterByDate(fcp);
    GenericValue purp=EntityUtil.getFirst(fcp);
    if (purp != null) {
      try {
        this.shipAddress=session.getDelegator().findByPrimaryKey("PostalAddress",UtilMisc.toMap("contactMechId",purp.getString("contactMechId")));
      }
 catch (      GenericEntityException e) {
        Debug.logError(e,module);
      }
    }
  }
  return this.shipAddress;
}

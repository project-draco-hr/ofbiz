{
  if (this.shipAddress == null) {
    GenericValue facility=(GenericValue)session.getAttribute("facility");
    if (facility == null) {
      return null;
    }
    GenericDelegator delegator=session.getDelegator();
    GenericValue facilityContactMech=ContactMechWorker.getFacilityContactMechByPurpose(delegator,facilityId,UtilMisc.toList("SHIP_ORIG_LOCATION","PRIMARY_LOCATION"));
    if (facilityContactMech != null) {
      try {
        this.shipAddress=session.getDelegator().findByPrimaryKey("PostalAddress",UtilMisc.toMap("contactMechId",facilityContactMech.getString("contactMechId")));
      }
 catch (      GenericEntityException e) {
        Debug.logError(e,module);
      }
    }
  }
  return this.shipAddress;
}

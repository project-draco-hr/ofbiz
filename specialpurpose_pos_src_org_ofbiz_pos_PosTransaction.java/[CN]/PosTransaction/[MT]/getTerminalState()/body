{
  GenericDelegator delegator=session.getDelegator();
  List states=null;
  try {
    states=delegator.findByAnd("PosTerminalState",UtilMisc.toMap("posTerminalId",this.getTerminalId()));
  }
 catch (  GenericEntityException e) {
    Debug.logError(e,module);
  }
  states=EntityUtil.filterByDate(states,UtilDateTime.nowTimestamp(),"openedDate","closedDate",true);
  return EntityUtil.getFirst(states);
}

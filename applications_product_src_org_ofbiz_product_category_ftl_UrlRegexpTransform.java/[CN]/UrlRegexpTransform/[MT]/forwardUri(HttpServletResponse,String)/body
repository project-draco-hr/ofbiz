{
  Perl5Matcher matcher=new Perl5Matcher();
  boolean foundMatch=false;
  Integer responseCodeInt=null;
  if (UrlRegexpConfigUtil.checkUseUrlRegexp() && UrlRegexpConfigUtil.getForwardPatterns() != null && UrlRegexpConfigUtil.getForwardReplacements() != null) {
    Iterator<String> keys=UrlRegexpConfigUtil.getForwardPatterns().keySet().iterator();
    while (keys.hasNext()) {
      String key=keys.next();
      Pattern pattern=UrlRegexpConfigUtil.getForwardPatterns().get(key);
      String replacement=UrlRegexpConfigUtil.getForwardReplacements().get(key);
      if (matcher.matches(uri,pattern)) {
        for (int i=1; i < matcher.getMatch().groups(); i++) {
          replacement=replacement.replaceAll("\\$" + i,matcher.getMatch().group(i));
        }
        uri=replacement;
        responseCodeInt=UrlRegexpConfigUtil.getForwardResponseCodes().get(key);
        foundMatch=true;
        break;
      }
    }
  }
  if (foundMatch) {
    if (responseCodeInt == null) {
      response.setStatus(UrlRegexpConfigUtil.DEFAULT_RESPONSECODE);
    }
 else {
      response.setStatus(responseCodeInt.intValue());
    }
    response.setHeader("Location",uri);
  }
 else   if (UrlRegexpConfigUtil.isDebugEnabled()) {
    Debug.logInfo("Can NOT forward this url: " + uri,module);
  }
  return foundMatch;
}

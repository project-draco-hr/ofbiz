{
  if (request == null) {
    throw new ViewHandlerException("The HttpServletRequest object was null, how did that happen?");
  }
  if (UtilValidate.isEmpty(page)) {
    throw new ViewHandlerException("View page was null or empty, but must be specified");
  }
  if (UtilValidate.isEmpty(info)) {
    throw new ViewHandlerException("View fnfo string was null or empty, but must be used to specify an Entity that is mapped to the Entity Engine datasource that the report will use.");
  }
  request.setAttribute(ContextFilter.FORWARDED_FROM_SERVLET,Boolean.TRUE);
  Delegator delegator=(Delegator)request.getAttribute("delegator");
  if (delegator == null) {
    throw new ViewHandlerException("The delegator object was null, how did that happen?");
  }
  try {
    String datasourceName=delegator.getEntityHelperName(info);
    Report report=new Report();
    report.setDatabaseConnection(ConnectionFactory.getConnection(datasourceName));
    Debug.logInfo("before reading file",module);
    report.read(new File(context.getRealPath(page)));
    Debug.logInfo("before set layout engine",module);
    report.setLayoutEngine(new jimm.datavision.layout.HTMLLE(response.getWriter()));
    Debug.logInfo("before run report",module);
    report.runReport();
    Debug.logInfo("after run report, end",module);
  }
 catch (  UserCancellationException e) {
    throw new ViewHandlerException("User cancelled report",e);
  }
catch (  FileNotFoundException e) {
    throw new ViewHandlerException("Report file not found [" + page + "]",e);
  }
catch (  IOException ie) {
    throw new ViewHandlerException("IO Error in region",ie);
  }
catch (  java.sql.SQLException e) {
    throw new ViewHandlerException("Database error while running report",e);
  }
catch (  Exception e) {
    throw new ViewHandlerException("Error in report",e);
  }
}

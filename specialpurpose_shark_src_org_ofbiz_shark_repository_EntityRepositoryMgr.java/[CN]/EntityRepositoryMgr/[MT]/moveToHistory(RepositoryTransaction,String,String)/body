{
  Debug.logInfo("XPDL Move to History : " + xpdlId + "/"+ xpdlVersion,module);
  Delegator delegator=SharkContainer.getDelegator();
  GenericValue value=this.getXpdlValue(xpdlId,xpdlVersion,false);
  value.set(org.ofbiz.shark.SharkConstants.isHistorical,"Y");
  try {
    value.store();
    delegator.removeByAnd(org.ofbiz.shark.SharkConstants.WfRepositoryRef,UtilMisc.toMap(org.ofbiz.shark.SharkConstants.xpdlId,xpdlId));
  }
 catch (  GenericEntityException e) {
    throw new RepositoryException(e);
  }
}

{
  if (delegatorName == null) {
    delegatorName="default";
  }
  do {
    Delegator delegator=delegatorCache.get(delegatorName);
    if (delegator != null) {
      delegator.initEntityEcaHandler();
      delegator.initDistributedCacheClear();
      return delegator;
    }
    try {
      delegator=UtilObject.getObjectFromFactory(DelegatorFactory.class,delegatorName);
    }
 catch (    ClassNotFoundException e) {
      Debug.logError(e,module);
    }
    delegatorCache.putIfAbsent(delegatorName,delegator);
  }
 while (true);
}

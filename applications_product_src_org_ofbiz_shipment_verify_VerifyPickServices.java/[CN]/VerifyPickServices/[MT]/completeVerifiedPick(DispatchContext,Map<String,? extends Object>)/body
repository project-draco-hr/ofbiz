{
  GenericDelegator delegator=dctx.getDelegator();
  LocalDispatcher dispatcher=dctx.getDispatcher();
  String shipmentId=null;
  VerifyPickSession pickSession=(VerifyPickSession)context.get("verifyPickSession");
  String orderId=(String)context.get("orderId");
  String facilityId=(String)context.get("facilityId");
  String shipGroupSeqId=(String)context.get("shipGroupSeqId");
  GenericValue userLogin=(GenericValue)context.get("userLogin");
  try {
    shipmentId=pickSession.complete(orderId);
    Map<String,Object> shipment=FastMap.newInstance();
    shipment.put("shipmentId",shipmentId);
    pickSession.clearAllRows();
    return shipment;
  }
 catch (  GeneralException ex) {
    return ServiceUtil.returnError(ex.getMessage(),ex.getMessageList());
  }
}

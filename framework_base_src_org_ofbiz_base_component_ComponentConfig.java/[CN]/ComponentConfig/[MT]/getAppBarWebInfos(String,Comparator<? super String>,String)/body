{
  List<WebappInfo> webInfos=serverWebApps.get(serverName + menuName);
  if (webInfos == null) {
synchronized (ComponentConfig.class) {
      if (webInfos == null) {
        Map<String,WebappInfo> tm=null;
        if (comp != null) {
          tm=new TreeMap<String,WebappInfo>(comp);
        }
 else {
          tm=new TreeMap<String,WebappInfo>();
        }
        for (        ComponentConfig cc : getAllComponents()) {
          for (          WebappInfo wInfo : cc.getWebappInfos()) {
            String key=UtilValidate.isNotEmpty(wInfo.position) ? wInfo.position : wInfo.title;
            if (serverName.equals(wInfo.server) && wInfo.appBarDisplay) {
              if (UtilValidate.isNotEmpty(menuName)) {
                if (menuName.equals(wInfo.menuName)) {
                  tm.put(key,wInfo);
                }
              }
 else {
                tm.put(key,wInfo);
              }
            }
          }
        }
        List<WebappInfo> webInfoList=new ArrayList<WebappInfo>();
        webInfoList.addAll(tm.values());
        serverWebApps.put(serverName + menuName,webInfoList);
        return webInfoList;
      }
    }
  }
  return webInfos;
}

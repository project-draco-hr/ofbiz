{
  this.globalName=globalName;
  if (!rootLocation.endsWith("/")) {
    rootLocation=rootLocation + "/";
  }
  this.rootLocation=rootLocation.replace('\\','/');
  File rootLocationDir=new File(rootLocation);
  if (!rootLocationDir.exists()) {
    throw new ComponentException("The given component root location is does not exist: " + rootLocation);
  }
  if (!rootLocationDir.isDirectory()) {
    throw new ComponentException("The given component root location is not a directory: " + rootLocation);
  }
  String xmlFilename=rootLocation + "/" + OFBIZ_COMPONENT_XML_FILENAME;
  URL xmlUrl=UtilURL.fromFilename(xmlFilename);
  if (xmlUrl == null) {
    throw new ComponentException("Could not find the " + OFBIZ_COMPONENT_XML_FILENAME + " configuration file in the component root location: "+ rootLocation);
  }
  Document ofbizComponentDocument=null;
  try {
    ofbizComponentDocument=UtilXml.readXmlDocument(xmlUrl,true);
  }
 catch (  SAXException e) {
    throw new ComponentException("Error reading the component config file: " + xmlUrl,e);
  }
catch (  ParserConfigurationException e) {
    throw new ComponentException("Error reading the component config file: " + xmlUrl,e);
  }
catch (  IOException e) {
    throw new ComponentException("Error reading the component config file: " + xmlUrl,e);
  }
  Element ofbizComponentElement=ofbizComponentDocument.getDocumentElement();
  this.componentName=ofbizComponentElement.getAttribute("name");
  this.enabled="true".equalsIgnoreCase(ofbizComponentElement.getAttribute("enabled"));
  if (UtilValidate.isEmpty(this.globalName)) {
    this.globalName=this.componentName;
  }
  for (  Element curElement : UtilXml.childElementList(ofbizComponentElement,"resource-loader")) {
    ResourceLoaderInfo resourceLoaderInfo=new ResourceLoaderInfo(curElement);
    this.resourceLoaderInfos.put(resourceLoaderInfo.name,resourceLoaderInfo);
  }
  for (  Element curElement : UtilXml.childElementList(ofbizComponentElement,"classpath")) {
    ClasspathInfo classpathInfo=new ClasspathInfo(this,curElement);
    this.classpathInfos.add(classpathInfo);
  }
  for (  Element curElement : UtilXml.childElementList(ofbizComponentElement,"entity-resource")) {
    EntityResourceInfo entityResourceInfo=new EntityResourceInfo(this,curElement);
    this.entityResourceInfos.add(entityResourceInfo);
  }
  for (  Element curElement : UtilXml.childElementList(ofbizComponentElement,"service-resource")) {
    ServiceResourceInfo serviceResourceInfo=new ServiceResourceInfo(this,curElement);
    this.serviceResourceInfos.add(serviceResourceInfo);
  }
  for (  Element curElement : UtilXml.childElementList(ofbizComponentElement,"test-suite")) {
    TestSuiteInfo testSuiteInfo=new TestSuiteInfo(this,curElement);
    this.testSuiteInfos.add(testSuiteInfo);
  }
  for (  Element curElement : UtilXml.childElementList(ofbizComponentElement,"keystore")) {
    KeystoreInfo keystoreInfo=new KeystoreInfo(this,curElement);
    this.keystoreInfos.add(keystoreInfo);
  }
  for (  Element curElement : UtilXml.childElementList(ofbizComponentElement,"webapp")) {
    WebappInfo webappInfo=new WebappInfo(this,curElement);
    this.webappInfos.add(webappInfo);
  }
  try {
    this.containers.addAll(ContainerConfig.getContainers(xmlUrl));
  }
 catch (  ContainerException ce) {
    throw new ComponentException("Error reading containers for component: " + this.globalName,ce);
  }
  if (Debug.verboseOn())   Debug.logVerbose("Read component config : [" + rootLocation + "]",module);
}

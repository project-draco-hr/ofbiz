{
  GenericValue userLogin=(GenericValue)request.getSession().getAttribute("userLogin");
  Delegator delegator=(Delegator)request.getAttribute("delegator");
  JcrTextHelper jackrabbit=new JcrTextHelperJackrabbit(userLogin,delegator,null,"/");
  try {
    JSONArray fileTree=jackrabbit.getJsonDataTree();
    request.setAttribute("dataTree",StringUtil.wrapString(fileTree.toString()));
  }
 catch (  RepositoryException e) {
    Debug.logError(e,module);
    request.setAttribute("_ERROR_MESSAGE_",e.toString());
    return "error";
  }
 finally {
    jackrabbit.closeSession();
  }
  return "success";
}

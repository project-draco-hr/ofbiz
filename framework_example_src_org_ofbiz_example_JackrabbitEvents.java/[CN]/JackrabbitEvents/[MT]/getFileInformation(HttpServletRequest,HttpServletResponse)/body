{
  GenericValue userLogin=(GenericValue)request.getSession().getAttribute("userLogin");
  String contentPath=request.getParameter("path");
  JcrFileHelper fileHelper=new JackrabbitFileHelper(userLogin);
  OfbizRepositoryMapping orm;
  try {
    orm=fileHelper.getRepositoryContent(contentPath);
  }
 catch (  ClassCastException e) {
    Debug.logError(e,module);
    request.setAttribute("_ERROR_MESSAGE_",e.getMessage());
    return "error";
  }
catch (  PathNotFoundException e) {
    Debug.logError(e,module);
    request.setAttribute("_ERROR_MESSAGE_",e.getMessage());
    return "error";
  }
  if (fileHelper.isFileContent()) {
    JackrabbitFile file=(JackrabbitFile)orm;
    request.setAttribute("fileName",file.getPath());
    request.setAttribute("fileLastModified",file.getResource().getLastModified().getTime());
    request.setAttribute("fileMimeType",file.getResource().getMimeType());
    request.setAttribute("fileCreationDate",file.getCreationDate().getTime());
  }
 else   if (fileHelper.isFolderContent()) {
    JackrabbitFolder folder=(JackrabbitFolder)orm;
    request.setAttribute("fileName",folder.getPath());
    request.setAttribute("fileCreationDate",folder.getCreationDate().getTime());
  }
  return "success";
}

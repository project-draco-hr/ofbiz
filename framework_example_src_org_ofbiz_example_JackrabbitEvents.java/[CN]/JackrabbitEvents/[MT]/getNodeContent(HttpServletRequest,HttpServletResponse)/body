{
  GenericValue userLogin=(GenericValue)request.getSession().getAttribute("userLogin");
  String contentPath=request.getParameter("path");
  String version=request.getParameter("versions");
  String language=request.getParameter("language");
  if (UtilValidate.isEmpty(contentPath)) {
    String msg="A node path is missing, please pass the path to the node which should be read from the repository.";
    Debug.logError(msg,module);
    request.setAttribute("_ERROR_MESSAGE_",msg);
    return "error";
  }
  JcrDataHelper articleHelper=new JackrabbitArticleHelper(userLogin);
  JackrabbitArticle ormArticle=null;
  try {
    if (UtilValidate.isEmpty(version)) {
      ormArticle=articleHelper.readContentFromRepository(contentPath,language);
    }
 else {
      ormArticle=articleHelper.readContentFromRepository(contentPath,language,version);
    }
  }
 catch (  ClassCastException e) {
    Debug.logError(e,module);
    request.setAttribute("_ERROR_MESSAGE_",e.getMessage());
    return "error";
  }
catch (  PathNotFoundException e) {
    Debug.logError(e,module);
    request.setAttribute("_ERROR_MESSAGE_",e.getMessage());
    return "error";
  }
  request.setAttribute("path",ormArticle.getPath());
  request.setAttribute("language",ormArticle.getLanguage());
  request.setAttribute("title",ormArticle.getTitle());
  request.setAttribute("version",ormArticle.getVersion());
  request.setAttribute("versionList",articleHelper.getVersionListForCurrentArticle());
  request.setAttribute("languageList",articleHelper.getAvailableLanguageList());
  request.setAttribute("createDate",ormArticle.getCreationDate());
  request.setAttribute("content",ormArticle.getContent());
  return "success";
}

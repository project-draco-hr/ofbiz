{
  GenericValue userLogin=(GenericValue)request.getSession().getAttribute("userLogin");
  JcrDataHelper articleHelper=new JackrabbitArticleHelper(userLogin);
  String contentPath=request.getParameter("path");
  String language=request.getParameter("msgLocale");
  String title=request.getParameter("title");
  Calendar pubDate=new GregorianCalendar();
  String content=request.getParameter("message");
  try {
    articleHelper.storeContentInRepository(contentPath,language,title,content,pubDate);
  }
 catch (  ObjectContentManagerException e) {
    Debug.logError(e,module);
    request.setAttribute("_ERROR_MESSAGE_",e.getMessage());
    return "error";
  }
catch (  ItemExistsException e) {
    Debug.logError(e,module);
    request.setAttribute("_ERROR_MESSAGE_",e.getMessage());
    return "error";
  }
 finally {
    articleHelper.closeContentSession();
  }
  return "success";
}

{
  PackingSession session=(PackingSession)context.get("packingSession");
  Map packageWeights=(Map)context.get("packageWeights");
  String weightUomId=(String)context.get("weightUomId");
  String shippingContactMechId=(String)context.get("shippingContactMechId");
  String shipmentMethodTypeId=(String)context.get("shipmentMethodTypeId");
  String carrierPartyId=(String)context.get("carrierPartyId");
  String carrierRoleTypeId=(String)context.get("carrierRoleTypeId");
  String productStoreId=(String)context.get("productStoreId");
  double shippableWeight=setSessionPackageWeights(session,packageWeights);
  Double estimatedShipCost=session.getShipmentCostEstimate(shippingContactMechId,shipmentMethodTypeId,carrierPartyId,carrierRoleTypeId,productStoreId,null,null,new Double(shippableWeight),null);
  session.setAdditionalShippingCharge(estimatedShipCost);
  session.setWeightUomId(weightUomId);
  Map result=ServiceUtil.returnSuccess();
  result.put("additionalShippingCharge",estimatedShipCost);
  return result;
}

{
  if (response != null && response.length() > 0) {
    List orders=readResponseFromEbay(response,locale,(String)context.get("productStoreId"),delegator);
    if (orders != null && orders.size() > 0) {
      Iterator orderIter=orders.iterator();
      while (orderIter.hasNext()) {
        Map order=(Map)orderIter.next();
        order.put("productStoreId",(String)context.get("productStoreId"));
        order.put("userLogin",(GenericValue)context.get("userLogin"));
        Map error=createShoppingCart(delegator,dispatcher,locale,order,Boolean.FALSE);
        String errorMsg=ServiceUtil.getErrorMessage(error);
        if (errorMsg != null) {
          order.put("errorMessage",errorMsg);
        }
      }
      Map result=FastMap.newInstance();
      result.put("responseMessage",ModelService.RESPOND_SUCCESS);
      result.put("orderList",orders);
      return result;
    }
 else {
      Debug.logError("No orders found",module);
      return ServiceUtil.returnFailure(UtilProperties.getMessage(resource,"ordersImportFromEbay.noOrdersFound",locale));
    }
  }
 else {
    Debug.logError("No orders found",module);
    return ServiceUtil.returnFailure(UtilProperties.getMessage(resource,"ordersImportFromEbay.noOrdersFound",locale));
  }
}

{
  Object obj=null;
  if (this.variables instanceof LocalizedMap) {
    Locale locale=UtilMisc.ensureLocale(this.variables.get("locale"));
    Object localizedObj=((LocalizedMap)this.variables).get(variable,locale);
    if (localizedObj == null) {
      localizedObj=this.variables.get(variable);
    }
    obj=localizedObj;
  }
 else {
    obj=this.variables.get(variable);
  }
  if (obj != null) {
    return new BasicValueExpression(obj);
  }
  return null;
}

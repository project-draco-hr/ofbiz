{
  InputStream inStream=null;
  try {
    inStream=blob.getBinaryStream();
    int blobLength=(int)blob.length();
    byte[] byteBuffer=new byte[blobLength];
    int offset=0;
    int bytesRead=inStream.read(byteBuffer,offset,blobLength);
    while (bytesRead > 0) {
      offset+=bytesRead;
      bytesRead=inStream.read(byteBuffer,offset,blobLength);
    }
    return byteBuffer;
  }
 catch (  Exception e) {
    throw new SQLException(e);
  }
 finally {
    if (inStream != null) {
      try {
        inStream.close();
      }
 catch (      IOException e) {
      }
    }
  }
}

{
  Delegator delegator=ctx.getDelegator();
  List<String> statusTypes=checkList(context.get("statusTypeIds"),String.class);
  Locale locale=(Locale)context.get("locale");
  if (UtilValidate.isEmpty(statusTypes)) {
    return ServiceUtil.returnError(UtilProperties.getMessage(resource,"CommonStatusMandatory",locale));
  }
  List<GenericValue> statusItems=FastList.newInstance();
  for (  String statusTypeId : statusTypes) {
    try {
      List<GenericValue> myStatusItems=delegator.findByAnd("StatusItem",UtilMisc.toMap("statusTypeId",statusTypeId),UtilMisc.toList("sequenceId"),true);
      statusItems.addAll(myStatusItems);
    }
 catch (    GenericEntityException e) {
      Debug.logError(e,module);
    }
  }
  Map<String,Object> ret=FastMap.newInstance();
  ret.put("statusItems",statusItems);
  return ret;
}

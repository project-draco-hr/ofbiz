{
  GenericValue userLogin=(GenericValue)request.getSession().getAttribute("userLogin");
  String contentPath=request.getParameter("path");
  JcrDataHelper articleHelper=new JackrabbitArticleHelper(userLogin);
  JackrabbitArticle ormArticle=null;
  try {
    ormArticle=articleHelper.readContentFromRepository(contentPath);
  }
 catch (  ClassCastException e1) {
    Debug.logError(e1,module);
    request.setAttribute("_ERROR_MESSAGE_",e1.getMessage());
    return "error";
  }
catch (  PathNotFoundException e1) {
    Debug.logError(e1,module);
    request.setAttribute("_ERROR_MESSAGE_",e1.getMessage());
    return "error";
  }
  ormArticle.setTitle(request.getParameter("title"));
  ormArticle.setContent(request.getParameter("content"));
  try {
    articleHelper.updateContentInRepository(ormArticle);
  }
 catch (  ObjectContentManagerException e) {
    Debug.logError(e,module);
    request.setAttribute("_ERROR_MESSAGE_",e.toString());
  }
catch (  RepositoryException e) {
    Debug.logError(e,module);
    request.setAttribute("_ERROR_MESSAGE_",e.toString());
  }
 finally {
    articleHelper.closeContentSession();
  }
  return "success";
}

{
  this.delegator=delegator;
  this.mode="wait".equals(model.semaphore) ? SEMAPHORE_MODE_WAIT : ("fail".equals(model.semaphore) ? SEMAPHORE_MODE_FAIL : SEMAPHORE_MODE_NONE);
  this.model=model;
  this.lock=null;
}

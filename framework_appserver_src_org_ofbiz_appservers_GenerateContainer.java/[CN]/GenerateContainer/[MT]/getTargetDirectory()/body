{
  String targetDirectoryName=args.length > 1 ? args[1] : null;
  if (targetDirectoryName == null) {
    targetDirectoryName=target;
  }
  String targetDirectory=null;
  if (!isGeronimo) {
    targetDirectory=ofbizHome + targetDirectoryName + args[0];
  }
 else {
    targetDirectory=ofbizHome + targetDirectoryName;
  }
  File targetDir=new File(targetDirectory);
  if (!targetDir.exists()) {
    boolean created=targetDir.mkdirs();
    if (!created) {
      throw new ContainerException("Unable to create target directory - " + targetDirectory);
    }
  }
  if (!targetDirectory.endsWith("/")) {
    targetDirectory=targetDirectory + "/";
  }
  return targetDirectory;
}

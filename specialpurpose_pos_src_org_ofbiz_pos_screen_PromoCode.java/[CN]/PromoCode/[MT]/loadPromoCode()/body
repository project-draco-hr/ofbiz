{
  if (wasMouseClicked()) {
    String code=this.m_codeEdit.getText();
    if (UtilValidate.isNotEmpty(code)) {
      String response=addProductPromoCode(code);
      if (response != null) {
        Debug.logError(response,module);
        m_pos.showDialog("dialog/error/exception",response);
      }
 else {
        promoLoaded=true;
      }
      this.m_codeEdit.setText(null);
      closeDlg();
    }
  }
}

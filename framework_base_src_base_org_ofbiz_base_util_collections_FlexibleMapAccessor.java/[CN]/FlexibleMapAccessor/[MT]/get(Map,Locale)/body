{
  if (base == null) {
    return null;
  }
  Map newBase=null;
  if (this.subMapAccessor != null) {
    try {
      newBase=this.subMapAccessor.getSubMap(base,false);
    }
 catch (    Exception e) {
      String errMsg="Error getting map accessor sub-map [" + this.subMapAccessor.extName + "] as part of ["+ this.original+ "]: "+ e.toString();
      Debug.logError(e,errMsg,module);
      throw new RuntimeException(errMsg);
    }
  }
 else {
    newBase=base;
  }
  try {
    Object ret=null;
    if (this.isListReference) {
      List lst=(List)newBase.get(this.extName);
      if (lst == null) {
        return null;
      }
      if (lst.size() == 0) {
        return null;
      }
      ret=lst.get(this.isAddAtEnd ? lst.size() - 1 : this.listIndex);
    }
 else {
      ret=getByLocale(this.extName,base,newBase,locale);
    }
    if (ret == null) {
      ret=getByLocale(this.original,base,base,locale);
    }
    return ret;
  }
 catch (  Exception e) {
    String errMsg="Error getting map accessor entry with name [" + this.extName + "] or ["+ this.original+ "]: "+ e.toString();
    Debug.logError(e,errMsg,module);
    throw new RuntimeException(errMsg);
  }
}

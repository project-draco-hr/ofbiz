{
  if (base == null) {
    throw new IllegalArgumentException("Cannot put a value in a null base Map");
  }
  if (this.subMapAccessor != null) {
    Map subBase=this.subMapAccessor.getSubMap(base,true);
    if (subBase == null) {
      return;
    }
    base=subBase;
  }
  if (this.isListReference) {
    List lst=(List)base.get(this.extName);
    if (lst == null) {
      lst=FastList.newInstance();
      base.put(this.extName,lst);
    }
    if (value != null) {
      if (this.isAddAtEnd) {
        lst.add(value);
      }
 else {
        if (this.isAddAtIndex) {
          lst.add(this.listIndex,value);
        }
 else {
          lst.set(this.listIndex,value);
        }
      }
    }
  }
 else {
    base.put(this.extName,value);
  }
}

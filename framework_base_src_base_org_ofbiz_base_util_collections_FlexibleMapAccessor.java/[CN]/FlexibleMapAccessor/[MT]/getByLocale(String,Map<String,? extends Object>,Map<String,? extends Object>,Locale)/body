{
  if (sub == null) {
    return null;
  }
  if (sub instanceof LocalizedMap) {
    LocalizedMap<T> locMap=cast(sub);
    if (locale != null) {
      return locMap.get(name,locale);
    }
 else     if (base.containsKey("locale")) {
      return locMap.get(name,UtilMisc.ensureLocale(base.get("locale")));
    }
 else {
      return locMap.get(name,Locale.getDefault());
    }
  }
 else {
    T getReturn=UtilGenerics.<T>cast(sub.get(name));
    return getReturn;
  }
}

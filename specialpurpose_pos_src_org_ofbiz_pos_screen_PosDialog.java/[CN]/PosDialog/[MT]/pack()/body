{
  dialog.pack();
  Dimension pageSize=page.getSize();
  if (pageSize.getHeight() > 0 || pageSize.getWidth() > 0) {
    dialog.setSize(page.getSize());
  }
 else {
    Container contentPane=dialog.getContentPane();
    Point size=this.getMaxCoordinates(contentPane);
    this.setSize(size.x + 2 * padding + 2,size.y + 2 * padding + 4);
  }
}

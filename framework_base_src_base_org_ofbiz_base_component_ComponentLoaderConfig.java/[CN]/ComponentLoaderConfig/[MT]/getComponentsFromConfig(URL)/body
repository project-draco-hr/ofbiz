{
  if (configUrl == null) {
    throw new ComponentException("Component config file does not exist: " + configUrl);
  }
  List<ComponentDef> componentsFromConfig=null;
  Document document=null;
  try {
    document=UtilXml.readXmlDocument(configUrl,true);
  }
 catch (  SAXException e) {
    throw new ComponentException("Error reading the component config file: " + configUrl,e);
  }
catch (  ParserConfigurationException e) {
    throw new ComponentException("Error reading the component config file: " + configUrl,e);
  }
catch (  IOException e) {
    throw new ComponentException("Error reading the component config file: " + configUrl,e);
  }
  Element root=document.getDocumentElement();
  List<? extends Element> toLoad=UtilXml.childElementList(root);
  if (toLoad != null && toLoad.size() > 0) {
    componentsFromConfig=new LinkedList<ComponentDef>();
    for (    Element element : toLoad) {
      componentsFromConfig.add(new ComponentDef(element));
    }
  }
  return componentsFromConfig;
}

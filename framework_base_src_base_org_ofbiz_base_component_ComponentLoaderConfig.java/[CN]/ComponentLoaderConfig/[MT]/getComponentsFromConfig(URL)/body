{
  if (configUrl == null) {
    throw new ComponentException("Component config file does not exist: " + configUrl);
  }
  List componentsFromConfig=null;
  Document document=null;
  try {
    document=UtilXml.readXmlDocument(configUrl,true);
  }
 catch (  SAXException e) {
    throw new ComponentException("Error reading the component config file: " + configUrl,e);
  }
catch (  ParserConfigurationException e) {
    throw new ComponentException("Error reading the component config file: " + configUrl,e);
  }
catch (  IOException e) {
    throw new ComponentException("Error reading the component config file: " + configUrl,e);
  }
  Element root=document.getDocumentElement();
  List toLoad=UtilXml.childElementList(root);
  if (toLoad != null && toLoad.size() > 0) {
    componentsFromConfig=new LinkedList();
    Iterator i=toLoad.iterator();
    while (i.hasNext()) {
      Element element=(Element)i.next();
      componentsFromConfig.add(new ComponentDef(element));
    }
  }
  return componentsFromConfig;
}

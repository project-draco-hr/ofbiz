{
  String key=getExprString(context,this.base);
  Object property=getProperty(context);
  Integer index=UtilMisc.toIntegerObject(property);
  if (index != null) {
    List<Object> list=getListElementFromMap(base,key,true);
    base.put(key,list);
    if (this.child == null) {
      list.set(index,value);
      return;
    }
    Map<String,Object> newBase=null;
    try {
      newBase=UtilGenerics.<Map<String,Object>>cast(list.get(index));
    }
 catch (    Exception e) {
      throw new RuntimeException("Variable is not a Map: " + this.original);
    }
    this.child.put(context,newBase,value);
  }
 else {
    Map<String,Object> newBase=getMapPutElement(base,key,true);
    String newKey=property.toString();
    if (this.child == null) {
      newBase.put(newKey,value);
    }
 else {
      Map<String,Object> thisElement=getMapPutElement(newBase,newKey,true);
      this.child.put(context,thisElement,value);
    }
  }
}

{
  this.servletContext=context;
  String rootDir=servletContext.getRealPath("/");
  File contextRoot=new File(rootDir);
  File webInfPath=new File(contextRoot,"WEB-INF");
  configureClasspath(webInfPath);
  try {
    siteContext=new SiteContext(contextRoot,"WEB-INF/jpublish.xml");
    siteContext.setWebInfPath(webInfPath);
  }
 catch (  Exception e) {
    Debug.logError(e,"Cannot load SiteContext",module);
  }
  try {
    ActionManager actionManager=siteContext.getActionManager();
    actionManager.executeStartupActions();
  }
 catch (  Exception e) {
    Debug.logError(e,"Problems executing JPublish startup actions",module);
  }
  servletContext.setAttribute("jpublishWrapper",this);
}

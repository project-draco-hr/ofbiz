{
  File webLibPath=new File(webInfPath,"lib");
  File webClassPath=new File(webInfPath,"classes");
  StringBuilder classPath=new StringBuilder();
  classPath.append(System.getProperty("java.class.path"));
  if (webClassPath.exists()) {
    classPath.append(System.getProperty("path.separator"));
    classPath.append(webClassPath);
  }
  if (webLibPath.exists()) {
    File[] files=webLibPath.listFiles();
    for (int i=0; i < files.length; i++) {
      if (files[i].getName().toLowerCase().endsWith(".jar") || files[i].getName().toLowerCase().endsWith(".zip")) {
        classPath.append(System.getProperty("path.separator"));
        classPath.append(files[i]);
      }
    }
  }
  AccessController.doPrivileged(new SetClassPathAction(classPath.toString()));
}

{
  GenericDelegator delegator=dctx.getDelegator();
  String orderId=(String)context.get("orderId");
  GenericValue order=findGoogleOrder(delegator,orderId);
  if (order != null) {
    MerchantInfo mInfo=getMerchantInfo();
    String externalId=order.getString("externalId");
    if (UtilValidate.isNotEmpty(externalId)) {
      Double amountToCharge=(Double)context.get("captureAmount");
      ChargeOrderRequest cor=new ChargeOrderRequest(mInfo,externalId,amountToCharge.floatValue());
      try {
        cor.send();
      }
 catch (      CheckoutException e) {
        Debug.logError(e,module);
      }
    }
  }
  return ServiceUtil.returnSuccess();
}

{
  GenericValue config=getGoogleConfiguration(delegator,productStoreId);
  if (config == null) {
    Debug.logError("No google configuration found for product store ID : " + productStoreId,module);
    return null;
  }
  String merchantId=config.getString("merchantId");
  String merchantKey=config.getString("merchantKey");
  String envEnumId=config.getString("envEnumId");
  String currencyCode=config.getString("currencyUomId");
  if (UtilValidate.isEmpty(merchantId) || UtilValidate.isEmpty(merchantKey)) {
    return null;
  }
  String productionRoot=EntityUtilProperties.getPropertyValue("google-checkout.properties","production.root.url",delegator);
  String sandboxRoot=EntityUtilProperties.getPropertyValue("google-checkout.properties","sandbox.root.url",delegator);
  String merchantCheckoutCommand=EntityUtilProperties.getPropertyValue("google-checkout.properties","merchant.checkout.command","merchantCheckout",delegator);
  String checkoutCommand=EntityUtilProperties.getPropertyValue("google-checkout.properties","checkout.command","checkout",delegator);
  String requestCommand=EntityUtilProperties.getPropertyValue("google-checkout.properties","request.command","request",delegator);
  String environment=null;
  String checkoutUrl="";
  String merchantCheckoutUrl="";
  String requestUrl="";
  if ("GOOGLE_SANDBOX".equals(envEnumId)) {
    merchantCheckoutUrl=sandboxRoot + "/" + merchantCheckoutCommand+ "/Merchant/"+ merchantId;
    checkoutUrl=sandboxRoot + "/" + checkoutCommand+ "/Merchant/"+ merchantId;
    requestUrl=sandboxRoot + "/" + requestCommand+ "/Merchant/"+ merchantId;
    environment=EnvironmentType.Sandbox;
  }
 else   if ("GOOGLE_PRODUCTION".equals(envEnumId)) {
    merchantCheckoutUrl=productionRoot + "/" + merchantCheckoutCommand+ "/Merchant/"+ merchantId;
    checkoutUrl=productionRoot + "/" + checkoutCommand+ "/Merchant/"+ merchantId;
    requestUrl=productionRoot + "/" + requestCommand+ "/Merchant/"+ merchantId;
    environment=EnvironmentType.Production;
  }
 else {
    Debug.logError("Environment must be one of " + EnvironmentType.Sandbox + " or "+ EnvironmentType.Production+ ".",module);
    return null;
  }
  return new MerchantInfo(merchantId,merchantKey,environment,currencyCode,checkoutUrl,merchantCheckoutUrl,requestUrl);
}

{
  String merchantId=UtilProperties.getPropertyValue("googleCheckout.properties","merchantId");
  String merchantKey=UtilProperties.getPropertyValue("googleCheckout.properties","merchantKey");
  String environment=UtilProperties.getPropertyValue("googleCheckout.properties","environment.mode","Sandbox");
  String currencyCode="USD";
  if (UtilValidate.isEmpty(merchantId) || UtilValidate.isEmpty(merchantKey)) {
    return null;
  }
  String productionRoot=UtilProperties.getPropertyValue("googleCheckout.properties","production.root.url");
  String sandboxRoot=UtilProperties.getPropertyValue("googleCheckout.properties","sandbox.root.url");
  String merchantCheckoutCommand=UtilProperties.getPropertyValue("googleCheckout.properties","merchant.checkout.command","merchantCheckout");
  String checkoutCommand=UtilProperties.getPropertyValue("googleCheckout.properties","checkout.command","checkout");
  String requestCommand=UtilProperties.getPropertyValue("googleCheckout.properties","request.command","request");
  String checkoutUrl="";
  String merchantCheckoutUrl="";
  String requestUrl="";
  if (EnvironmentType.Sandbox.equals(environment)) {
    merchantCheckoutUrl=sandboxRoot + "/" + merchantCheckoutCommand+ "/Merchant/"+ merchantId;
    checkoutUrl=sandboxRoot + "/" + checkoutCommand+ "/Merchant/"+ merchantId;
    requestUrl=sandboxRoot + "/" + requestCommand+ "/Merchant/"+ merchantId;
  }
 else   if (EnvironmentType.Production.equals(environment)) {
    merchantCheckoutUrl=productionRoot + "/" + merchantCheckoutCommand+ "/Merchant/"+ merchantId;
    checkoutUrl=productionRoot + "/" + checkoutCommand+ "/Merchant/"+ merchantId;
    requestUrl=productionRoot + "/" + requestCommand+ "/Merchant/"+ merchantId;
  }
 else {
    Debug.logError("Environment must be one of " + EnvironmentType.Sandbox + " or "+ EnvironmentType.Production+ ".",module);
    return null;
  }
  return new MerchantInfo(merchantId,merchantKey,environment,currencyCode,checkoutUrl,merchantCheckoutUrl,requestUrl);
}

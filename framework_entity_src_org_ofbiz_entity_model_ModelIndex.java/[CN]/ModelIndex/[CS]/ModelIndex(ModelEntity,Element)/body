{
  super(mainEntity);
  this.name=UtilXml.checkEmpty(indexElement.getAttribute("name")).intern();
  this.unique="true".equals(UtilXml.checkEmpty(indexElement.getAttribute("unique")));
  this.description=StringUtil.internString(UtilXml.childElementValue(indexElement,"description"));
  NodeList indexFieldList=indexElement.getElementsByTagName("index-field");
  for (int i=0; i < indexFieldList.getLength(); i++) {
    Element indexFieldElement=(Element)indexFieldList.item(i);
    if (indexFieldElement.getParentNode() == indexElement) {
      String fieldName=indexFieldElement.getAttribute("name").intern();
      String function=indexFieldElement.getAttribute("function");
      this.fields.add(new Field(fieldName,UtilValidate.isNotEmpty(function) ? Function.valueOf(function.toUpperCase()) : null));
    }
  }
}

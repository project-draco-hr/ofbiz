{
  Map<String,MapProcessor> simpleMapProcessors=simpleMapProcessorsResourceCache.get(xmlResource);
  if (simpleMapProcessors == null) {
synchronized (SimpleMapProcessor.class) {
      simpleMapProcessors=simpleMapProcessorsResourceCache.get(xmlResource);
      if (simpleMapProcessors == null) {
        URL xmlURL=null;
        try {
          xmlURL=FlexibleLocation.resolveLocation(xmlResource,loader);
        }
 catch (        MalformedURLException e) {
          throw new MiniLangException("Could not find SimpleMapProcessor XML document in resource: " + xmlResource + "; error was: "+ e.toString(),e);
        }
        if (xmlURL == null) {
          throw new MiniLangException("Could not find SimpleMapProcessor XML document in resource: " + xmlResource);
        }
        simpleMapProcessors=getAllProcessors(xmlURL);
        simpleMapProcessorsResourceCache.put(xmlResource,simpleMapProcessors);
      }
    }
  }
  return simpleMapProcessors;
}

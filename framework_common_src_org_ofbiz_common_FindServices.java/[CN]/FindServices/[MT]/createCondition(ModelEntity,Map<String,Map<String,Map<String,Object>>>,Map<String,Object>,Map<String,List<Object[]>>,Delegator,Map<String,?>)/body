{
  Map<String,Map<String,Object>> subMap=null;
  Map<String,Object> subMap2=null;
  EntityComparisonOperator<?,?> fieldOp=null;
  Object fieldValue=null;
  EntityExpr cond=null;
  List<EntityCondition> tmpList=FastList.newInstance();
  String opString=null;
  boolean ignoreCase=false;
  List<ModelField> fields=modelEntity.getFieldsUnmodifiable();
  for (  ModelField modelField : fields) {
    String fieldName=modelField.getName();
    subMap=normalizedFields.get(fieldName);
    if (subMap == null) {
      continue;
    }
    subMap2=subMap.get("fld0");
    opString=(String)subMap2.get("op");
    ignoreCase="Y".equals(subMap2.get("ic"));
    if (opString != null) {
      if (opString.equals("contains")) {
        fieldOp=EntityOperator.LIKE;
      }
 else       if (opString.equals("not-contains")) {
        fieldOp=EntityOperator.NOT_LIKE;
      }
 else       if (opString.equals("empty")) {
        fieldOp=EntityOperator.EQUALS;
      }
 else {
        fieldOp=entityOperators.get(opString);
      }
    }
 else {
      fieldOp=EntityOperator.EQUALS;
    }
    fieldValue=subMap2.get("value");
    if (fieldValue == null) {
      continue;
    }
    if (opString != null) {
      if (opString.equals("contains")) {
        fieldOp=EntityOperator.LIKE;
        fieldValue="%" + fieldValue + "%";
      }
 else       if ("not-contains".equals(opString) || "notContains".equals(opString)) {
        fieldOp=EntityOperator.NOT_LIKE;
        fieldValue="%" + fieldValue + "%";
      }
 else       if (opString.equals("empty")) {
        fieldOp=EntityOperator.EQUALS;
        fieldValue=null;
        ignoreCase=false;
      }
 else       if (opString.equals("like")) {
        fieldOp=EntityOperator.LIKE;
        fieldValue=fieldValue + "%";
      }
 else       if ("not-like".equals(opString) || "notLike".equals(opString)) {
        fieldOp=EntityOperator.NOT_LIKE;
        fieldValue=fieldValue + "%";
      }
 else       if (opString.equals("greaterThanFromDayStart")) {
        fieldValue=dayStart((String)fieldValue,0);
        fieldOp=EntityOperator.GREATER_THAN;
        ignoreCase=false;
      }
 else       if (opString.equals("sameDay")) {
        String timeStampString=(String)fieldValue;
        fieldValue=dayStart(timeStampString,0);
        fieldOp=EntityOperator.GREATER_THAN_EQUAL_TO;
        ignoreCase=false;
        subMap2=subMap.get("fld1");
        if (subMap2 == null) {
          subMap2=FastMap.newInstance();
          subMap.put("fld1",subMap2);
        }
        String endOfDay=dayStart(timeStampString,1);
        subMap2.put("value",endOfDay);
        subMap2.put("op","lessThan");
      }
 else {
        fieldOp=entityOperators.get(opString);
      }
    }
 else {
      fieldOp=EntityOperator.EQUALS;
    }
    Object fieldObject=null;
    if (fieldOp != EntityOperator.IN || !(fieldValue instanceof Collection<?>)) {
      fieldObject=modelEntity.convertFieldValue(modelField,fieldValue,delegator,context);
    }
 else {
      fieldObject=fieldValue;
    }
    if (ignoreCase && fieldObject instanceof String) {
      cond=EntityCondition.makeCondition(EntityFunction.UPPER_FIELD(fieldName),fieldOp,EntityFunction.UPPER(((String)fieldValue).toUpperCase()));
    }
 else {
      if (fieldObject.equals(GenericEntity.NULL_FIELD.toString())) {
        fieldObject=null;
      }
      cond=EntityCondition.makeCondition(fieldName,fieldOp,fieldObject);
    }
    if (EntityOperator.NOT_EQUAL.equals(fieldOp) && fieldObject != null) {
      tmpList.add(EntityCondition.makeCondition(UtilMisc.toList(cond,EntityCondition.makeCondition(fieldName,null)),EntityOperator.OR));
    }
 else {
      tmpList.add(cond);
    }
    subMap2=subMap.get("fld1");
    if (subMap2 == null) {
      continue;
    }
    opString=(String)subMap2.get("op");
    if (opString != null) {
      if (opString.equals("contains")) {
        fieldOp=EntityOperator.LIKE;
      }
 else       if ("not-contains".equals(opString) || "notContains".equals(opString)) {
        fieldOp=EntityOperator.LIKE;
      }
 else       if (opString.equals("empty")) {
        fieldOp=EntityOperator.EQUALS;
      }
 else {
        fieldOp=entityOperators.get(opString);
      }
    }
 else {
      fieldOp=EntityOperator.EQUALS;
    }
    fieldValue=(String)subMap2.get("value");
    if (fieldValue == null) {
      continue;
    }
    if ("like".equals(opString) || "not-like".equals(opString) || "notLike".equals(opString)) {
      fieldValue=fieldValue + "%";
    }
 else     if ("contains".equals(opString) || "not-contains".equals(opString) || "notContains".equals(opString)) {
      fieldValue=fieldValue + "%" + fieldValue+ "%";
    }
 else     if (opString.equals("empty")) {
      fieldOp=EntityOperator.EQUALS;
      fieldValue=null;
    }
 else     if (opString.equals("upToDay")) {
      fieldValue=dayStart((String)fieldValue,0);
      fieldOp=EntityOperator.LESS_THAN;
    }
 else     if (opString.equals("upThruDay")) {
      fieldValue=dayStart((String)fieldValue,1);
      fieldOp=EntityOperator.LESS_THAN;
    }
    fieldObject=modelEntity.convertFieldValue(modelField,fieldValue,delegator,context);
    cond=EntityCondition.makeCondition(fieldName,fieldOp,fieldObject);
    tmpList.add(cond);
    List<Object[]> origList=origValueMap.get(fieldName);
    if (UtilValidate.isNotEmpty(origList)) {
      for (      Object[] arr : origList) {
        queryStringMap.put((String)arr[0],arr[1]);
      }
    }
  }
  return tmpList;
}

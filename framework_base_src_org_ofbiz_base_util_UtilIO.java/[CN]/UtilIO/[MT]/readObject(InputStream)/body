{
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  IOUtils.copy(in,baos);
  in.close();
  byte[] bytes=baos.toByteArray();
  try {
    char[] buffer=StringUtils.chomp(readString(bytes)).toCharArray();
    return parseObject(buffer,0,buffer.length);
  }
 catch (  Exception e) {
  }
  ObjectInputStream oin=new ObjectInputStream(new ByteArrayInputStream(bytes));
  Serializable value=(Serializable)oin.readObject();
  oin.close();
  return value;
}

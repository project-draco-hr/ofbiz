{
  if (!config.enabled()) {
    Debug.logInfo("Not Loading component : [" + config.getComponentName() + "] (disabled)",module);
    return;
  }
  Debug.logInfo("Loading component : [" + config.getComponentName() + "]",module);
  List classpathInfos=config.getClasspathInfos();
  String configRoot=config.getRootLocation();
  configRoot=configRoot.replace('\\','/');
  if (!configRoot.endsWith("/")) {
    configRoot=configRoot + "/";
  }
  if (classpathInfos != null) {
    Iterator cpi=classpathInfos.iterator();
    while (cpi.hasNext()) {
      ComponentConfig.ClasspathInfo cp=(ComponentConfig.ClasspathInfo)cpi.next();
      String location=cp.location.replace('\\','/');
      if (location.startsWith("/")) {
        location=location.substring(1);
      }
      if ("dir".equals(cp.type)) {
        classPath.addComponent(configRoot + location);
      }
 else       if ("jar".equals(cp.type)) {
        String dirLoc=location;
        if (dirLoc.endsWith("/*")) {
          dirLoc=location.substring(0,location.length() - 2);
        }
        File path=new File(configRoot + dirLoc);
        if (path.exists()) {
          if (path.isDirectory()) {
            File files[]=path.listFiles();
            for (int i=0; i < files.length; i++) {
              String file=files[i].getName();
              if (file.endsWith(".jar") || file.endsWith(".zip")) {
                classPath.addComponent(files[i]);
              }
            }
          }
 else {
            classPath.addComponent(configRoot + location);
          }
        }
 else {
          Debug.logWarning("Location '" + configRoot + dirLoc+ "' does not exist",module);
        }
      }
 else {
        Debug.logError("Classpath type '" + cp.type + "' is not supported; '"+ location+ "' not loaded",module);
      }
    }
  }
}

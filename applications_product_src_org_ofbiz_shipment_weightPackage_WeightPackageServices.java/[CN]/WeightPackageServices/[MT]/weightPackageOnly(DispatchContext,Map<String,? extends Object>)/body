{
  GenericDelegator delegator=dctx.getDelegator();
  Locale locale=(Locale)context.get("locale");
  WeightPackageSession weightPackageSession=(WeightPackageSession)context.get("weightPackageSession");
  String orderId=(String)context.get("orderId");
  try {
    GenericValue shipment=EntityUtil.getFirst(delegator.findByAnd("Shipment",UtilMisc.toMap("primaryOrderId",orderId,"statusId","SHIPMENT_PICKED")));
    if (UtilValidate.isEmpty(shipment)) {
      return ServiceUtil.returnError(UtilProperties.getMessage("OrderErrorUiLabels","OrderErrorOrderNotVerified",UtilMisc.toMap("orderId",orderId),locale));
    }
  }
 catch (  GeneralException e) {
    ServiceUtil.returnError(e.getMessage());
  }
  return ServiceUtil.returnSuccess();
}

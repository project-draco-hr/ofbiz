{
  String delegatorName=null;
  try {
    delegatorName=(String)obj;
  }
 catch (  Exception e) {
  }
  if (delegatorName == null) {
    delegatorName="default";
    Debug.logWarning(new Exception("Location where getting delegator with null name"),"Got a getGenericDelegator call with a null delegatorName, assuming default for the name.",module);
  }
  GenericDelegator delegator=GenericDelegator.delegatorCache.get(delegatorName);
  if (delegator == null) {
synchronized (GenericDelegator.delegatorCache) {
      delegator=GenericDelegator.delegatorCache.get(delegatorName);
      if (delegator == null) {
        if (Debug.infoOn())         Debug.logInfo("Creating new delegator [" + delegatorName + "] ("+ Thread.currentThread().getName()+ ")",module);
        try {
          delegator=new GenericDelegator(delegatorName);
        }
 catch (        GenericEntityException e) {
          Debug.logError(e,"Error creating delegator",module);
        }
        if (delegator != null) {
          GenericDelegator.delegatorCache.put(delegatorName,delegator);
        }
 else {
          Debug.logError("Could not create delegator with name " + delegatorName + ", constructor failed (got null value) not sure why/how.",module);
        }
      }
    }
  }
  return delegator;
}

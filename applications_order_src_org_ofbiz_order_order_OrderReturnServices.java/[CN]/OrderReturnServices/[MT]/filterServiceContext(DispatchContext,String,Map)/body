{
  ModelService modelService=dctx.getModelService(serviceName);
  if (modelService == null) {
    throw new GenericServiceException("Problems getting the service model");
  }
  Map serviceContext=FastMap.newInstance();
  List modelParmInList=modelService.getInModelParamList();
  Iterator modelParmInIter=modelParmInList.iterator();
  while (modelParmInIter.hasNext()) {
    ModelParam modelParam=(ModelParam)modelParmInIter.next();
    String paramName=modelParam.name;
    Object value=context.get(paramName);
    if (value != null) {
      serviceContext.put(paramName,value);
    }
  }
  return serviceContext;
}

{
  GenericDelegator delegator=dctx.getDelegator();
  Locale locale=(Locale)context.get("locale");
  String errMsg=null;
  try {
    EntityListIterator eli=delegator.find("Product",EntityCondition.makeCondition("isVirtual",EntityOperator.EQUALS,"Y"),null,null,null,null);
    GenericValue product=null;
    int numSoFar=0;
    while ((product=(GenericValue)eli.next()) != null) {
      product.set("smallImageUrl",null);
      product.set("mediumImageUrl",null);
      product.set("largeImageUrl",null);
      product.set("detailImageUrl",null);
      product.store();
      numSoFar++;
      if (numSoFar % 500 == 0) {
        Debug.logInfo("Image URLs cleared for " + numSoFar + " products.",module);
      }
    }
    eli.close();
    Debug.logInfo("Completed - Image URLs set for " + numSoFar + " products.",module);
  }
 catch (  GenericEntityException e) {
    Map messageMap=UtilMisc.toMap("errMessage",e.toString());
    errMsg=UtilProperties.getMessage(resource,"productutilservices.entity_error_running_clearAllVirtualProductImageNames",messageMap,locale);
    Debug.logError(e,errMsg,module);
    return ServiceUtil.returnError(errMsg);
  }
  return ServiceUtil.returnSuccess();
}

{
  if (!jtable.isEnabled()) {
    return;
  }
  PosTransaction tx=PosTransaction.getCurrentTx(pos.getSession());
  XModel jmodel=this.createModel();
  if (UtilValidate.isNotEmpty(tx)) {
    tx.appendItemDataModel(jmodel);
    this.appendEmpty(jmodel);
    tx.appendTotalDataModel(jmodel);
    if (tx.selectedPayments() > 0) {
      this.appendEmpty(jmodel);
      tx.appendPaymentDataModel(jmodel);
    }
    if (pos.getInput().isFunctionSet("PAID")) {
      tx.appendChangeDataModel(jmodel);
    }
  }
 else {
    this.appendEmpty(jmodel);
  }
  jtable.setSelectedRow(0);
  try {
    jtable.update();
  }
 catch (  ArrayIndexOutOfBoundsException e) {
    Debug.logError(e,"Unable to repaint the Journal",module);
  }
}

{
  if (product == null) {
    return null;
  }
  List<GenericValue> features=FastList.newInstance();
  try {
    if (product != null) {
      List<GenericValue> productAppls;
      if (productFeatureApplTypeId == null) {
        productAppls=product.getRelated("ProductFeatureAppl");
      }
 else {
        productAppls=product.getRelatedByAnd("ProductFeatureAppl",UtilMisc.toMap("productFeatureApplTypeId",productFeatureApplTypeId));
      }
      for (      GenericValue productAppl : productAppls) {
        features.add(productAppl.getRelatedOne("ProductFeature"));
      }
      features=EntityUtil.orderBy(features,UtilMisc.toList("description"));
    }
  }
 catch (  GenericEntityException e) {
    Debug.logError(e,module);
  }
  return features;
}

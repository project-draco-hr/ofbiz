{
  List<GenericValue> productAssocs=getAggregatedAssocs(delegator,aggregatedProductId);
  if (UtilValidate.isNotEmpty(productAssocs) && UtilValidate.isNotEmpty(configId)) {
    Iterator<GenericValue> pai=productAssocs.iterator();
    while (pai.hasNext()) {
      GenericValue productAssoc=pai.next();
      GenericValue product=productAssoc.getRelatedOne("AssocProduct");
      if (configId.equals(product.getString("configId"))) {
        return productAssoc.getString("productIdTo");
      }
    }
  }
  return null;
}

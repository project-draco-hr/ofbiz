{
  GenericValue aggregatedProduct=delegator.findOne("Product",UtilMisc.toMap("productId",aggregatedProductId),false);
  if (UtilValidate.isNotEmpty(aggregatedProduct) && ("AGGREGATED".equals(aggregatedProduct.getString("productTypeId")) || "AGGREGATED_SERVICE".equals(aggregatedProduct.getString("productTypeId")))) {
    List<GenericValue> productAssocs=EntityUtil.filterByDate(aggregatedProduct.getRelatedByAnd("MainProductAssoc",UtilMisc.toMap("productAssocTypeId","PRODUCT_CONF")));
    return productAssocs;
  }
  return null;
}

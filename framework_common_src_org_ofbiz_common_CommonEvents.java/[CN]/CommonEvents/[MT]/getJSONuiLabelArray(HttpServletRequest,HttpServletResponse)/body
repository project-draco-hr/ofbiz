{
  String requiredLabels=request.getParameter("requiredLabels");
  JSONObject uiLabelObject=null;
  if (UtilValidate.isNotEmpty(requiredLabels)) {
    uiLabelObject=(JSONObject)JSONSerializer.toJSON(requiredLabels);
  }
  JSONObject jsonUiLabel=new JSONObject();
  Locale locale=request.getLocale();
  if (!uiLabelObject.isEmpty()) {
    Set<String> resourceSet=UtilGenerics.checkSet(uiLabelObject.keySet());
    for (    String resource : resourceSet) {
      JSONArray labels=uiLabelObject.getJSONArray(resource);
      if (labels.isEmpty() || labels == null) {
        continue;
      }
      Iterator<String> jsonLabelIterator=UtilGenerics.cast(labels.iterator());
      JSONArray resourceLabelList=new JSONArray();
      while (jsonLabelIterator.hasNext()) {
        String label=jsonLabelIterator.next();
        String receivedLabel=UtilProperties.getMessage(resource,label,locale);
        if (UtilValidate.isNotEmpty(receivedLabel)) {
          resourceLabelList.add(receivedLabel);
        }
      }
      jsonUiLabel.element(resource,resourceLabelList);
    }
  }
  writeJSONtoResponse(jsonUiLabel,response);
  return "success";
}

{
  if (resource == null || resource.length() <= 0) {
    return null;
  }
  String cacheKey=resource.replace(".properties","");
  Properties properties=resourceCache.get(cacheKey);
  if (properties == null) {
    try {
      URL url=UtilURL.fromResource(resource);
      if (url == null)       return null;
      String fileName=url.getFile();
      File file=new File(fileName);
      if (file.isDirectory()) {
        Debug.logError(fileName + " is (also?) a directory! No properties assigned.",module);
        return null;
      }
      properties=resourceCache.putIfAbsentAndGet(cacheKey,getProperties(url));
    }
 catch (    MissingResourceException e) {
      Debug.logInfo(e,module);
    }
  }
  if (properties == null) {
    Debug.logInfo("[UtilProperties.getProperties] could not find resource: " + resource,module);
    return null;
  }
  return properties;
}

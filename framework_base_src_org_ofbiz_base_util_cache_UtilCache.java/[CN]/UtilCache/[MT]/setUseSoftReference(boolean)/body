{
  if (this.useSoftReference != useSoftReference) {
    this.useSoftReference=useSoftReference;
    for (    K key : cacheLineTable.keySet()) {
      CacheLine<V> line=cacheLineTable.get(key);
      if (useSoftReference) {
        if (line instanceof SoftRefCacheLine)         continue;
        cacheLineTable.put(key,new SoftRefCacheLine<V>(line.getValue(),line.loadTime,line.expireTime));
      }
 else {
        if (line instanceof HardRefCacheLine)         continue;
        cacheLineTable.put(key,new HardRefCacheLine<V>(line.getValue(),line.loadTime,line.expireTime));
      }
    }
  }
}

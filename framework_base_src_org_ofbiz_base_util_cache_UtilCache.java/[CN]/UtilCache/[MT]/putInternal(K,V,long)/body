{
  Object nulledKey=fromKey(key);
  CacheLine<V> oldCacheLine=memoryTable.put(nulledKey,createCacheLine(key,value,expireTimeNanos));
  V oldValue=oldCacheLine == null ? null : cancel(oldCacheLine);
  if (fileTable != null) {
    try {
      if (oldValue == null)       oldValue=fileTable.get(nulledKey);
      fileTable.put(nulledKey,value);
      jdbmMgr.commit();
    }
 catch (    IOException e) {
      Debug.logError(e,module);
    }
  }
  if (oldValue == null) {
    noteAddition(key,value);
    return null;
  }
 else {
    noteUpdate(key,value,oldValue);
    return oldValue;
  }
}

{
  try {
    Iterator<Map<String,Object>> it=parties.iterator();
    while (it.hasNext()) {
      Map<String,Object> result=it.next();
      String partyId=(String)result.get("partyId");
      GenericValue commEventRole=delegator.findByPrimaryKey("CommunicationEventRole",UtilMisc.toMap("communicationEventId",communicationEventId,"partyId",partyId,"roleTypeId",roleTypeId));
      if (commEventRole == null) {
        Map<String,Object> input=UtilMisc.toMap("communicationEventId",communicationEventId,"partyId",partyId,"roleTypeId",roleTypeId,"userLogin",userLogin,"contactMechId",(String)result.get("contactMechId"),"statusId","COM_ROLE_CREATED");
        dispatcher.runSync("createCommunicationEventRole",input);
      }
    }
  }
 catch (  GenericServiceException e) {
    Debug.logError(e,module);
  }
catch (  Exception e) {
    Debug.logError(e,module);
  }
}

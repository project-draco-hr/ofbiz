{
  if (isReadOnlyCart()) {
    throw new CartItemModifyException("Cart items cannot be changed");
  }
  String previousCurrency=this.currencyUom;
  this.currencyUom=currencyUom;
  if (!previousCurrency.equals(this.currencyUom)) {
    Iterator itemIterator=this.iterator();
    while (itemIterator.hasNext()) {
      ShoppingCartItem item=(ShoppingCartItem)itemIterator.next();
      item.updatePrice(dispatcher,this);
    }
  }
}

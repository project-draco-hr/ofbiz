{
  if (this.productPromoCodes.contains(productPromoCodeId)) {
    return "The promotion code [" + productPromoCodeId + "] has already been entered.";
  }
  String checkResult=ProductPromoWorker.checkCanUsePromoCode(productPromoCodeId,this.getPartyId(),this.getDelegator());
  if (checkResult == null) {
    this.productPromoCodes.add(productPromoCodeId);
    ProductPromoWorker.doPromotions(this,dispatcher);
    return null;
  }
 else {
    return checkResult;
  }
}

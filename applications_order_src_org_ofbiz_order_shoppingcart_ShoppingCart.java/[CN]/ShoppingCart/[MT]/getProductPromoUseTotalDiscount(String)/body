{
  BigDecimal totalDiscount=BigDecimal.ZERO;
  Iterator productPromoUseInfoIter=this.productPromoUseInfoList.iterator();
  while (productPromoUseInfoIter.hasNext()) {
    ProductPromoUseInfo productPromoUseInfo=(ProductPromoUseInfo)productPromoUseInfoIter.next();
    if (productPromoId == null || productPromoId.equals(productPromoUseInfo.productPromoId)) {
      totalDiscount=totalDiscount.add(productPromoUseInfo.getTotalDiscountAmount());
    }
  }
  return totalDiscount;
}

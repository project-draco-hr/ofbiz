{
  double itemsTotal=0.00;
  Iterator i=iterator();
  while (i.hasNext()) {
    ShoppingCartItem cartItem=(ShoppingCartItem)i.next();
    GenericValue product=cartItem.getProduct();
    if (product != null && "N".equals(product.getString("includeInPromotions"))) {
      continue;
    }
    itemsTotal+=cartItem.getItemSubTotal();
  }
  return itemsTotal;
}

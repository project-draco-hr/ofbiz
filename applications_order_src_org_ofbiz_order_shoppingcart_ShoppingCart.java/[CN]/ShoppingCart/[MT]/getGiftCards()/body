{
  List paymentMethods=this.getPaymentMethods();
  List giftCards=new LinkedList();
  if (paymentMethods != null) {
    Iterator i=paymentMethods.iterator();
    while (i.hasNext()) {
      GenericValue pm=(GenericValue)i.next();
      if ("GIFT_CARD".equals(pm.getString("paymentMethodTypeId"))) {
        try {
          GenericValue gc=pm.getRelatedOne("GiftCard");
          giftCards.add(gc);
        }
 catch (        GenericEntityException e) {
          Debug.logError(e,"Unable to get gift card record from payment method : " + pm,module);
        }
      }
    }
  }
  return giftCards;
}

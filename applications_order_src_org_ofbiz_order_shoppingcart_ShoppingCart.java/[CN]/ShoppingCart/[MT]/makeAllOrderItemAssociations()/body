{
  List allOrderItemAssociations=new LinkedList();
  if (getOrderType().equals("PURCHASE_ORDER")) {
    Iterator itemIter=cartLines.iterator();
    while (itemIter.hasNext()) {
      ShoppingCartItem item=(ShoppingCartItem)itemIter.next();
      String requirementId=item.getRequirementId();
      if (requirementId != null) {
        try {
          List commitments=getDelegator().findByAnd("OrderRequirementCommitment",UtilMisc.toMap("requirementId",requirementId));
          GenericValue commitment=EntityUtil.getFirst(commitments);
          if (commitment != null) {
            GenericValue orderItemAssociation=getDelegator().makeValue("OrderItemAssociation",null);
            orderItemAssociation.set("salesOrderId",commitment.getString("orderId"));
            orderItemAssociation.set("soItemSeqId",commitment.getString("orderItemSeqId"));
            orderItemAssociation.set("poItemSeqId",item.getOrderItemSeqId());
            allOrderItemAssociations.add(orderItemAssociation);
          }
        }
 catch (        GenericEntityException e) {
          Debug.logError(e,"Unable to load OrderRequirementCommitment records for requirement ID : " + requirementId,module);
        }
      }
    }
  }
  return allOrderItemAssociations;
}

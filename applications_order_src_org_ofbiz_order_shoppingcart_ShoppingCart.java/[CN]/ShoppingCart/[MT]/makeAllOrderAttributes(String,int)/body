{
  List allOrderAttributes=new LinkedList();
  Iterator i=orderAttributes.entrySet().iterator();
  while (i.hasNext()) {
    Map.Entry entry=(Map.Entry)i.next();
    GenericValue orderAtt=this.getDelegator().makeValue("OrderAttribute");
    if (UtilValidate.isNotEmpty(orderId)) {
      orderAtt.set("orderId",orderId);
    }
    String key=(String)entry.getKey();
    String value=(String)entry.getValue();
    orderAtt.put("attrName",key);
    orderAtt.put("attrValue",value);
switch (mode) {
case ALL:
      allOrderAttributes.add(orderAtt);
    break;
case FILLED_ONLY:
  if (UtilValidate.isNotEmpty(value)) {
    allOrderAttributes.add(orderAtt);
  }
break;
case EMPTY_ONLY:
if (UtilValidate.isEmpty(value)) {
allOrderAttributes.add(orderAtt);
}
break;
default :
allOrderAttributes.add(orderAtt);
break;
}
}
return allOrderAttributes;
}

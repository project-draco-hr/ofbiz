{
  ModelEntity model=entity.getModelEntity();
  String entityName=model.getEntityName();
  Iterator<ModelField> i=model.getFieldsIterator();
  while (i.hasNext()) {
    ModelField field=i.next();
    ModelField.EncryptMethod encryptMethod=field.getEncryptMethod();
    if (encryptMethod.isEncrypted()) {
      Object obj=entity.get(field.getName());
      if (obj != null) {
        if (obj instanceof String && UtilValidate.isEmpty(obj)) {
          continue;
        }
        entity.dangerousSetNoCheckButFast(field,this.encryptFieldValue(entityName,encryptMethod,obj));
      }
    }
  }
}

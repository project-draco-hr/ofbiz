{
  if (element == null)   return null;
  String entityName=element.getTagName();
  if (entityName.indexOf('-') > 0)   entityName=entityName.substring(entityName.indexOf('-') + 1);
  if (entityName.indexOf(':') > 0)   entityName=entityName.substring(entityName.indexOf(':') + 1);
  GenericValue value=this.makeValue(entityName,null);
  ModelEntity modelEntity=value.getModelEntity();
  Iterator modelFields=modelEntity.getFieldsIterator();
  while (modelFields.hasNext()) {
    ModelField modelField=(ModelField)modelFields.next();
    String name=modelField.getName();
    String attr=element.getAttribute(name);
    if (attr != null && attr.length() > 0) {
      value.setString(name,attr);
    }
 else {
      Element subElement=UtilXml.firstChildElement(element,name);
      if (subElement != null) {
        value.setString(name,UtilXml.elementValue(subElement));
      }
    }
  }
  return value;
}

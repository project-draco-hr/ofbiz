{
  this.setDelegatorNames(delegatorFullName);
  if (UtilValidate.isNotEmpty(this.delegatorTenantId)) {
    Delegator baseDelegator=DelegatorFactory.getDelegator(this.delegatorBaseName);
    GenericValue tenant=baseDelegator.findOne("Tenant",true,"tenantId",this.delegatorTenantId);
    if (tenant == null) {
      throw new GenericEntityException("No Tenant record found for delegator [" + this.delegatorFullName + "] with tenantId ["+ this.delegatorTenantId+ "]");
    }
 else     if ("Y".equals(tenant.getString("disabled"))) {
      throw new GenericEntityException("No Tenant record found for delegator [" + this.delegatorFullName + "] with tenantId ["+ this.delegatorTenantId+ "]");
    }
  }
  this.modelReader=ModelReader.getModelReader(delegatorBaseName);
  this.modelGroupReader=ModelGroupReader.getModelGroupReader(delegatorBaseName);
  cache=new Cache(delegatorFullName);
  List<String> warningList=FastList.newInstance();
  Debug.logImportant("Doing entity definition check...",module);
  ModelEntityChecker.checkEntities(this,warningList);
  if (warningList.size() > 0) {
    Debug.logWarning("=-=-=-=-= Found " + warningList.size() + " warnings when checking the entity definitions:",module);
    for (    String warning : warningList) {
      Debug.logWarning(warning,module);
    }
  }
  Set<String> groupNames=getModelGroupReader().getGroupNames(delegatorBaseName);
  for (  String groupName : groupNames) {
    initializeOneGenericHelper(groupName);
  }
  this.crypto=new EntityCrypto(this);
}

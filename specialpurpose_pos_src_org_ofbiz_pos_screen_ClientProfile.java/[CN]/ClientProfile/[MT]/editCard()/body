{
  if (wasMouseClicked() && SHOW_KEYBOARD_IN_SAVE_SALE && !SWIP_WITH_CARD) {
    try {
      NumericKeypad numericKeypad=new NumericKeypad(m_pos);
      numericKeypad.setMinus(true);
      numericKeypad.setPercent(false);
      m_cardEdit.setText(numericKeypad.openDlg());
    }
 catch (    Exception e) {
      Debug.logError(e,module);
    }
    m_dialog.repaint();
  }
 else {
    String card=m_cardEdit.getText();
    if (SWIP_WITH_CARD && UtilValidate.isNotEmpty(m_cardEdit.getText()) && (card.startsWith(";") && card.endsWith("&"))) {
      m_cardEdit.setText(card.substring(1,card.length() - 1));
    }
  }
  return;
}

{
  if (wasMouseClicked() && UtilProperties.propertyValueEqualsIgnoreCase("parameters","ShowKeyboardInSaveSale","Y") && !SWIP_WITH_CARD) {
    try {
      NumericKeypad numericKeypad=new NumericKeypad(m_pos);
      numericKeypad.setMinus(false);
      numericKeypad.setPercent(false);
      numericKeypad.setText(m_cardEdit.getText());
      m_cardEdit.setText(numericKeypad.openDlg());
    }
 catch (    Exception e) {
      Debug.logError(e,module);
    }
    m_dialog.repaint();
  }
 else {
    String card=m_cardEdit.getText();
    if (SWIP_WITH_CARD && UtilValidate.isNotEmpty(m_cardEdit.getText()) && (card.startsWith(START_SENTINEL) && card.endsWith(END_SENTINEL))) {
      m_cardEdit.setText(card.substring(1,card.length() - 1));
    }
  }
  return;
}

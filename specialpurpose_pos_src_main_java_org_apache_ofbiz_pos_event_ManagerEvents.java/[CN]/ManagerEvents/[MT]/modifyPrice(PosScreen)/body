{
  PosTransaction trans=PosTransaction.getCurrentTx(pos.getSession());
  String cartIndex=null;
  try {
    cartIndex=MenuEvents.getSelectedIdx(pos);
  }
 catch (  ArrayIndexOutOfBoundsException e) {
  }
  if (cartIndex == null) {
    pos.getOutput().print(UtilProperties.getMessage(PosTransaction.resource,"PosInvalidSelection",Locale.getDefault()));
    pos.getJournal().refresh(pos);
    pos.getInput().clear();
  }
  Input input=pos.getInput();
  String value=input.value();
  if (UtilValidate.isNotEmpty(value)) {
    BigDecimal price=ZERO;
    boolean parsed=false;
    try {
      price=new BigDecimal(value);
      parsed=true;
    }
 catch (    NumberFormatException e) {
    }
    if (parsed) {
      price=price.movePointLeft(2);
      trans.modifyPrice(cartIndex,price);
      trans.calcTax();
    }
  }
  pos.refresh();
}

{
  if (closed) {
    throw new IOException("Writer is closed");
  }
  while (len > 0 && (cbuf[len - 1] == '\n' || cbuf[len - 1] == '\r')) {
    len--;
  }
  if (len > 0) {
    logger.log(priority,String.copyValueOf(cbuf,off,len));
  }
}

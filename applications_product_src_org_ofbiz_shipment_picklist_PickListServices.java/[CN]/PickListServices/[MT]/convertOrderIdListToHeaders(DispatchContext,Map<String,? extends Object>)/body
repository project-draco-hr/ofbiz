{
  GenericDelegator delegator=dctx.getDelegator();
  List<GenericValue> orderHeaderList=UtilGenerics.checkList(context.get("orderHeaderList"));
  List<String> orderIdList=UtilGenerics.checkList(context.get("orderIdList"));
  if (orderHeaderList == null) {
    if (orderIdList != null) {
      List<EntityCondition> conditionList1=FastList.newInstance();
      List<EntityCondition> conditionList2=FastList.newInstance();
      conditionList2.add(EntityCondition.makeCondition("statusId",EntityOperator.EQUALS,"ORDER_APPROVED"));
      conditionList2.add(EntityCondition.makeCondition("orderTypeId",EntityOperator.EQUALS,"SALES_ORDER"));
      Iterator<String> i=orderIdList.iterator();
      while (i.hasNext()) {
        String orderId=i.next();
        conditionList1.add(EntityCondition.makeCondition("orderId",EntityOperator.EQUALS,orderId));
      }
      EntityCondition idCond=EntityCondition.makeCondition(conditionList1,EntityOperator.OR);
      conditionList2.add(idCond);
      EntityCondition cond=EntityCondition.makeCondition(conditionList2,EntityOperator.AND);
      try {
        orderHeaderList=delegator.findList("OrderHeader",cond,null,UtilMisc.toList("+orderDate"),null,false);
      }
 catch (      GenericEntityException e) {
        Debug.logError(e,module);
        return ServiceUtil.returnError(e.getMessage());
      }
      Debug.log("Recieved orderIdList  - " + orderIdList,module);
      Debug.log("Found orderHeaderList - " + orderHeaderList,module);
    }
  }
  Map<String,Object> result=ServiceUtil.returnSuccess();
  result.put("orderHeaderList",orderHeaderList);
  return result;
}

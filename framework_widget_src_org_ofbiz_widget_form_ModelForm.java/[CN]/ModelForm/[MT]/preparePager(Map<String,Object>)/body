{
  this.rowCount=0;
  String lookupName=this.getListName();
  if (UtilValidate.isEmpty(lookupName)) {
    Debug.logError("No value for list or iterator name found.",module);
    return;
  }
  Object obj=context.get(lookupName);
  if (obj == null) {
    Debug.logInfo("No object for list or iterator name:" + lookupName + " found.",module);
    return;
  }
  Iterator iter=null;
  List items=null;
  if (obj instanceof Iterator) {
    iter=(Iterator)obj;
    setPaginate(true);
  }
 else   if (obj instanceof List) {
    items=(List)obj;
    iter=items.listIterator();
    setPaginate(true);
  }
  getListLimits(context,obj);
  int listSize=((Integer)context.get("listSize")).intValue();
  int lowIndex=((Integer)context.get("lowIndex")).intValue();
  int highIndex=((Integer)context.get("highIndex")).intValue();
  Debug.logInfo("preparePager: low - high = " + lowIndex + " - "+ highIndex,module);
  if (isOverridenListSize()) {
    lowIndex=0;
    highIndex=((Integer)context.get("viewSize")).intValue();
  }
  if (iter == null)   return;
  int itemIndex=-1;
  Object item=this.safeNext(iter);
  while (item != null && itemIndex < highIndex) {
    itemIndex++;
    item=this.safeNext(iter);
  }
  Debug.logInfo("preparePager: Found rows = " + itemIndex,module);
  if ((itemIndex + 1) < highIndex) {
    highIndex=itemIndex + 1;
    context.put("highIndex",Integer.valueOf(isOverridenListSize() ? listSize : highIndex));
  }
  context.put("actualPageSize",Integer.valueOf(highIndex - lowIndex));
  if (iter instanceof EntityListIterator) {
    try {
      ((EntityListIterator)iter).first();
    }
 catch (    GenericEntityException e) {
      Debug.logError(e,"Error rewinding list form render EntityListIterator: " + e.toString(),module);
    }
  }
}

{
  List hiddenIgnoredFieldList=FastList.newInstance();
  Iterator fieldIter=fieldList.iterator();
  while (fieldIter.hasNext()) {
    ModelFormField modelFormField=(ModelFormField)fieldIter.next();
    if (position != -1 && modelFormField.getPosition() != position) {
      continue;
    }
    ModelFormField.FieldInfo fieldInfo=modelFormField.getFieldInfo();
switch (fieldInfo.getFieldType()) {
case ModelFormField.FieldInfo.HIDDEN:
case ModelFormField.FieldInfo.IGNORED:
      if (modelFormField.shouldUse(context)) {
        hiddenIgnoredFieldList.add(modelFormField);
        if (alreadyRendered != null)         alreadyRendered.add(modelFormField.getName());
      }
    break;
case ModelFormField.FieldInfo.DISPLAY:
case ModelFormField.FieldInfo.DISPLAY_ENTITY:
  ModelFormField.DisplayField displayField=(ModelFormField.DisplayField)fieldInfo;
if (displayField.getAlsoHidden() && modelFormField.shouldUse(context)) {
  hiddenIgnoredFieldList.add(modelFormField);
}
break;
case ModelFormField.FieldInfo.HYPERLINK:
ModelFormField.HyperlinkField hyperlinkField=(ModelFormField.HyperlinkField)fieldInfo;
if (hyperlinkField.getAlsoHidden() && modelFormField.shouldUse(context)) {
hiddenIgnoredFieldList.add(modelFormField);
}
break;
}
}
return hiddenIgnoredFieldList;
}

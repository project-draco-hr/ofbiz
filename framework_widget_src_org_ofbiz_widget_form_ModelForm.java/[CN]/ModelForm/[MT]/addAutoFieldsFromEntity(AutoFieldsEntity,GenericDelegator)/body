{
  autoFieldsEntities.add(autoFieldsEntity);
  ModelEntity modelEntity=delegator.getModelEntity(autoFieldsEntity.entityName);
  if (modelEntity == null) {
    throw new IllegalArgumentException("Error finding Entity with name " + autoFieldsEntity.entityName + " for auto-fields-entity in a form widget");
  }
  Iterator modelFieldIter=modelEntity.getFieldsIterator();
  while (modelFieldIter.hasNext()) {
    ModelField modelField=(ModelField)modelFieldIter.next();
    if (modelField.getIsAutoCreatedInternal()) {
      continue;
    }
    ModelFormField modelFormField=this.addFieldFromEntityField(modelEntity,modelField,autoFieldsEntity.defaultFieldType,autoFieldsEntity.defaultPosition);
    if (UtilValidate.isNotEmpty(autoFieldsEntity.mapName)) {
      modelFormField.setMapName(autoFieldsEntity.mapName);
    }
  }
}

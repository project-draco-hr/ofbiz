{
  if (currentWidget instanceof ModelScreenWidget.Section) {
    List<ModelWidgetAction> actions=((ModelScreenWidget.Section)currentWidget).getActions();
    List<ModelScreenWidget> subWidgets=((ModelScreenWidget.Section)currentWidget).getSubWidgets();
    List<ModelScreenWidget> failWidgets=((ModelScreenWidget.Section)currentWidget).getFailWidgets();
    if (actions != null) {
      for (      ModelWidgetAction screenOperation : actions) {
        if (screenOperation instanceof ModelWidgetAction.Service) {
          String serviceName=((ModelWidgetAction.Service)screenOperation).getServiceNameExdr().getOriginal();
          if (UtilValidate.isNotEmpty(serviceName))           allServiceNamesUsed.add(serviceName);
        }
      }
    }
    if (subWidgets != null) {
      for (      ModelScreenWidget widget : subWidgets) {
        findServiceNamesUsedInWidget(widget,allServiceNamesUsed);
      }
    }
    if (failWidgets != null) {
      for (      ModelScreenWidget widget : failWidgets) {
        findServiceNamesUsedInWidget(widget,allServiceNamesUsed);
      }
    }
  }
 else   if (currentWidget instanceof ModelScreenWidget.DecoratorSection) {
    ModelScreenWidget.DecoratorSection decoratorSection=(ModelScreenWidget.DecoratorSection)currentWidget;
    for (    ModelScreenWidget widget : decoratorSection.getSubWidgets()) {
      findServiceNamesUsedInWidget(widget,allServiceNamesUsed);
    }
  }
 else   if (currentWidget instanceof ModelScreenWidget.DecoratorScreen) {
    ModelScreenWidget.DecoratorScreen decoratorScreen=(ModelScreenWidget.DecoratorScreen)currentWidget;
    Collection<ModelScreenWidget.DecoratorSection> sections=decoratorScreen.getSectionMap().values();
    for (    ModelScreenWidget section : sections) {
      findServiceNamesUsedInWidget(section,allServiceNamesUsed);
    }
  }
 else   if (currentWidget instanceof ModelScreenWidget.Container) {
    ModelScreenWidget.Container container=(ModelScreenWidget.Container)currentWidget;
    for (    ModelScreenWidget widget : container.getSubWidgets()) {
      findServiceNamesUsedInWidget(widget,allServiceNamesUsed);
    }
  }
 else   if (currentWidget instanceof ModelScreenWidget.Screenlet) {
    ModelScreenWidget.Screenlet screenlet=(ModelScreenWidget.Screenlet)currentWidget;
    for (    ModelScreenWidget widget : screenlet.getSubWidgets()) {
      findServiceNamesUsedInWidget(widget,allServiceNamesUsed);
    }
  }
}

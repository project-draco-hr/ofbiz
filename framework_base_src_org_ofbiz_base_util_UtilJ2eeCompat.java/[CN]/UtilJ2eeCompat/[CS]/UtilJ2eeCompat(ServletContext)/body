{
  boolean usestream=true;
  String serverInfo=context == null ? "" : context.getServerInfo().toLowerCase();
  Debug.logInfo("serverInfo: " + serverInfo,module);
  if (serverInfo.indexOf(TOMCAT) >= 0) {
    Debug.logInfo("Apache Tomcat detected, using response.getWriter to write text out instead of response.getOutputStream",module);
    usestream=false;
  }
 else   if (serverInfo.indexOf(REX_IP) >= 0) {
    Debug.logInfo("Trade City RexIP detected, using response.getWriter to write text out instead of response.getOutputStream",module);
    usestream=false;
  }
 else   if (serverInfo.indexOf(JRUN) >= 0) {
    Debug.logInfo("JRun detected, using response.getWriter to write text out instead of response.getOutputStream",module);
    usestream=false;
  }
 else   if (serverInfo.indexOf(JETTY) >= 0) {
    Debug.logInfo("Jetty detected, using response.getWriter to write text out instead of response.getOutputStream",module);
    usestream=false;
  }
 else   if (serverInfo.indexOf(ORION) >= 0) {
    Debug.logInfo("Orion detected, using response.getWriter to write text out instead of response.getOutputStream",module);
    usestream=false;
  }
 else   if (serverInfo.indexOf(WEBSPHERE) >= 0) {
    Debug.logInfo("IBM Websphere Application Server detected, using response.getWriter to write text out instead of response.getOutputStream",module);
    usestream=false;
  }
  useOutputStreamNotWriter=usestream;
}

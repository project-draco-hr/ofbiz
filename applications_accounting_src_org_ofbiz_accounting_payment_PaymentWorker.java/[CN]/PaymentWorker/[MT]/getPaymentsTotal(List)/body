{
  if (payments == null) {
    throw new IllegalArgumentException("Payment list cannot be null");
  }
  double paymentsTotal=0.00;
  Iterator i=payments.iterator();
  while (i.hasNext()) {
    GenericValue payment=(GenericValue)i.next();
    paymentsTotal+=payment.getDouble("amount").doubleValue();
  }
  return paymentsTotal;
}

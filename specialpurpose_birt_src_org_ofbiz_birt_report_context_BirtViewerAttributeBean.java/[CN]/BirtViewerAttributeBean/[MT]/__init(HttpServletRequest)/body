{
  String reportParam=DataUtil.trimString(ParameterAccessor.getParameter(request,ParameterAccessor.PARAM_REPORT));
  if (reportParam.startsWith("component://")) {
    ClassLoader loader=Thread.currentThread().getContextClassLoader();
    if (loader == null) {
      loader=BirtViewerAttributeBean.class.getClassLoader();
    }
    URL reportFileUrl=null;
    reportFileUrl=FlexibleLocation.resolveLocation(reportParam,loader);
    if (reportFileUrl == null) {
      throw new IllegalArgumentException("Could not resolve location to URL: " + reportParam);
    }
    this.reportDesignName=reportFileUrl.getPath();
  }
 else {
    this.reportDesignName=ParameterAccessor.getReport(request,null);
  }
  if (UtilValidate.isNotEmpty(this.reportDesignName)) {
    this.reportDesignHandle=getDesignHandle(request);
    if (this.reportDesignHandle == null)     throw new ViewerException(ResourceConstants.GENERAL_EXCEPTION_NO_REPORT_DESIGN);
    __initParameters(request);
  }
}

{
  this.entityName=eca.getAttribute("entity");
  this.operationName=eca.getAttribute("operation");
  this.eventName=eca.getAttribute("event");
  this.runOnError="true".equals(eca.getAttribute("run-on-error"));
  for (  Element element : UtilXml.childElementList(eca,"condition")) {
    conditions.add(new EntityEcaCondition(element,true));
  }
  for (  Element element : UtilXml.childElementList(eca,"condition-field")) {
    conditions.add(new EntityEcaCondition(element,false));
  }
  if (Debug.verboseOn()) {
    Debug.logVerbose("Conditions: " + conditions,module);
  }
  for (  Element actionOrSetElement : UtilXml.childElementList(eca,nameSet)) {
    if ("action".equals(actionOrSetElement.getNodeName())) {
      this.actionsAndSets.add(new EntityEcaAction(actionOrSetElement));
    }
 else {
      this.actionsAndSets.add(new EntityEcaSetField(actionOrSetElement));
    }
  }
  if (Debug.verboseOn()) {
    Debug.logVerbose("actions and sets (intermixed): " + actionsAndSets,module);
  }
}

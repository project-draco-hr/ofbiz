{
  Collection partyAssigns=(Collection)pageContext.getAttribute(partyAssignsAttrName);
  if (!partyAssigns.isEmpty()) {
    GenericValue partyAssignAcepted=null;
    for (Iterator partyAssignIt=partyAssigns.iterator(); partyAssignIt.hasNext(); ) {
      GenericValue partyAssign=(GenericValue)partyAssignIt.next();
      if (((String)partyAssign.get("statusId")).equals("CAL_ACCEPTED")) {
        partyAssignAcepted=partyAssign;
        break;
      }
    }
    if (partyAssignAcepted != null)     try {
      final Collection applicationSandboxs=partyAssignAcepted.getRelated("ApplicationSandbox");
      GenericValue applicationSandbox=(GenericValue)applicationSandboxs.toArray()[0];
      return (String)applicationSandbox.get("applicationId");
    }
 catch (    GenericEntityException ee) {
      Debug.logWarning(ee,module);
    }
  }
  Debug.logWarning("Can't find applicationId",module);
  return null;
}

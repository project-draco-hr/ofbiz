{
  if (fragment == null) {
    Debug.logWarning("[UtilXml.writeXmlDocument] DocumentFragment was null, doing nothing",module);
    return null;
  }
  ByteArrayOutputStream bos=new ByteArrayOutputStream();
  List<? extends Element> elementList=UtilXml.childElementList(fragment);
  for (  Element element : elementList) {
    writeXmlDocument(bos,element);
  }
  String outString=bos.toString("UTF-8");
  if (bos != null)   bos.close();
  return outString;
}

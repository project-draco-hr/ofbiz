{
  Map<String,Object> result=new HashMap<String,Object>();
  Delegator delegator=ctx.getDelegator();
  String orderId=(String)context.get("orderId");
  String partyId=(String)context.get("partyId");
  String roleTypeId=(String)context.get("roleTypeId");
  Map<String,String> fields=UtilMisc.<String,String>toMap("orderId",orderId,"partyId",partyId,"roleTypeId",roleTypeId);
  GenericValue testValue=null;
  try {
    testValue=delegator.findOne("OrderRole",fields,false);
  }
 catch (  GenericEntityException e) {
    result.put(ModelService.RESPONSE_MESSAGE,ModelService.RESPOND_ERROR);
    result.put(ModelService.ERROR_MESSAGE,"ERROR: Could not add role to order (" + e.getMessage() + ").");
    return result;
  }
  if (testValue == null) {
    result.put(ModelService.RESPONSE_MESSAGE,ModelService.RESPOND_SUCCESS);
    return result;
  }
  try {
    GenericValue value=delegator.findOne("OrderRole",fields,false);
    value.remove();
  }
 catch (  GenericEntityException e) {
    result.put(ModelService.RESPONSE_MESSAGE,ModelService.RESPOND_ERROR);
    result.put(ModelService.ERROR_MESSAGE,"ERROR: Could not remove role from order (" + e.getMessage() + ").");
    return result;
  }
  result.put(ModelService.RESPONSE_MESSAGE,ModelService.RESPOND_SUCCESS);
  return result;
}

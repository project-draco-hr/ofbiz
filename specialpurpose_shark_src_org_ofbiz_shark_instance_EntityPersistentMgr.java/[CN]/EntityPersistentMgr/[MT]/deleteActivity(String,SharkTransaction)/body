{
  if (Debug.infoOn())   Debug.log(":: deleteActivity ::",module);
  Activity activity=(Activity)this.restoreActivity(activityId,trans);
  List assignments=this.getAllAssignmentsForActivity(activityId,trans);
  if (assignments != null) {
    Iterator i=assignments.iterator();
    while (i.hasNext()) {
      Assignment assignment=(Assignment)i.next();
      try {
        assignment.remove();
      }
 catch (      GenericEntityException e) {
        throw new PersistenceException(e);
      }
    }
    try {
      activity.remove();
    }
 catch (    GenericEntityException e) {
      throw new PersistenceException(e);
    }
  }
}

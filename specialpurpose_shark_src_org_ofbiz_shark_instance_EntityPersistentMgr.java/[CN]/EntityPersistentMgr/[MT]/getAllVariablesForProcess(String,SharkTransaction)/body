{
  if (Debug.verboseOn())   Debug.log(":: getAllVariablesForProcess ::",module);
  Delegator delegator=SharkContainer.getDelegator();
  List createdList=new ArrayList();
  List lookupList=null;
  try {
    lookupList=delegator.findByAnd(org.ofbiz.shark.SharkConstants.WfProcessVariable,UtilMisc.toMap(org.ofbiz.shark.SharkConstants.processId,processId));
  }
 catch (  GenericEntityException e) {
    Debug.logError(e,module);
    throw new PersistenceException(e);
  }
  if (UtilValidate.isNotEmpty(lookupList)) {
    Debug.logInfo("Lookup list contains : " + lookupList.size(),module);
    Iterator i=lookupList.iterator();
    while (i.hasNext()) {
      GenericValue v=(GenericValue)i.next();
      createdList.add(ProcessVariable.getInstance(this,v));
    }
  }
 else {
    Debug.logInfo("Lookup list empty",module);
  }
  if (Debug.verboseOn())   Debug.log("Returning list : " + createdList.size(),module);
  return createdList;
}

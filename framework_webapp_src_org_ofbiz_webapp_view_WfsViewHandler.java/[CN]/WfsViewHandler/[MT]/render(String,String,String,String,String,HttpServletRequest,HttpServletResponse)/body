{
  if (request == null)   throw new ViewHandlerException("Null HttpServletRequest object");
  if (page == null || page.length() == 0)   throw new ViewHandlerException("Null or empty source");
  if (Debug.infoOn())   Debug.logInfo("Retreiving HTTP resource at: " + page,module);
  try {
    String result=null;
    List<GenericValue> entityList=UtilGenerics.cast(request.getAttribute("entityList"));
    SimpleSequence simpleList=new SimpleSequence(entityList);
    Map<String,Object> ctx=FastMap.newInstance();
    ctx.put("entityList",simpleList);
    StringWriter outWriter=new StringWriter();
    Template template=getDocTemplate(page);
    template.process(ctx,outWriter);
    outWriter.close();
    result=outWriter.toString();
    Debug.logInfo(result,result);
    response.getWriter().print(result);
  }
 catch (  FileNotFoundException e) {
    throw new ViewHandlerException(e.getMessage(),e);
  }
catch (  IOException e) {
    throw new ViewHandlerException("IO Error in view",e);
  }
catch (  URISyntaxException e) {
    throw new ViewHandlerException(e.getMessage(),e);
  }
catch (  TemplateException e) {
    throw new ViewHandlerException(e.getMessage(),e);
  }
}

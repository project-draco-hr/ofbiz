{
  Map paramMap=UtilHttp.getParameterMap(request);
  StringBuffer queryString=new StringBuffer();
  if (paramMap != null && paramMap.size() > 0) {
    queryString.append("?");
    Iterator i=paramMap.keySet().iterator();
    while (i.hasNext()) {
      String name=(String)i.next();
      Object value=paramMap.get(name);
      if (value instanceof String) {
        if (queryString.length() > 1) {
          queryString.append("&");
        }
        queryString.append(name);
        queryString.append("=");
        queryString.append(value);
      }
    }
  }
  return queryString.toString();
}

{
  while (running) {
    long now=System.currentTimeMillis();
    if ((lastKey > -1) && (now - lastKey) >= MAX_WAIT) {
      this.sendData();
    }
    if (!running) {
      break;
    }
 else {
      try {
        Thread.sleep(MAX_WAIT);
      }
 catch (      InterruptedException e) {
      }
    }
  }
}

{
  PosTransaction trans=PosTransaction.getCurrentTx(pos.getSession());
  if (!trans.isOpen()) {
    pos.showDialog("dialog/error/terminalclosed");
    return;
  }
  PromoCode promoCode=new PromoCode(trans,pos);
  promoCode.openDlg();
  if (promoCode.isPromoLoaded()) {
    NavagationEvents.showPosScreen(pos);
  }
}

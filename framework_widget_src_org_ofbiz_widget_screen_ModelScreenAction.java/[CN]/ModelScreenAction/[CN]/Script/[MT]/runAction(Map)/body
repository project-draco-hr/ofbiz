{
  if (location.endsWith(".bsh")) {
    try {
      BshUtil.runBshAtLocation(location,context);
    }
 catch (    GeneralException e) {
      throw new GeneralException("Error running BSH script at location [" + location + "]",e);
    }
  }
 else   if (location.endsWith(".groovy")) {
    try {
      GroovyUtil.runScriptAtLocation(location,context);
    }
 catch (    GeneralException e) {
      throw new GeneralException("Error running Groovy script at location [" + location + "]",e);
    }
  }
 else   if (location.contains(".xml#")) {
    String xmlResource=ScreenFactory.getResourceNameFromCombined(location);
    String methodName=ScreenFactory.getScreenNameFromCombined(location);
    Map localContext=FastMap.newInstance();
    localContext.putAll(context);
    DispatchContext ctx=this.modelScreen.getDispatcher(context).getDispatchContext();
    MethodContext methodContext=new MethodContext(ctx,localContext,null);
    try {
      SimpleMethod.runSimpleMethod(xmlResource,methodName,methodContext);
      context.putAll(methodContext.getResults());
    }
 catch (    MiniLangException e) {
      throw new GeneralException("Error running simple method at location [" + location + "]",e);
    }
  }
 else {
    throw new GeneralException("For screen script actions the script type is not yet supported for location: [" + location + "]");
  }
}

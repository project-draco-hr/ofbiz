{
  ClassLoader loader=Thread.currentThread().getContextClassLoader();
  TypeVFSDelegate.Resolver resolver=new TypeVFSDelegate.Resolver(){
    public Object resolve(    String name) throws IOException {
      return CommonsVfsContainer.resolveFile(name);
    }
  }
;
  try {
    vfsDelegate=new TypeVFSDelegate(resolver);
    vfsDelegate.addVFSDelegate(FileName.class,new CommonsVfsFileNameVFSDelegate(vfsDelegate,CommonsVfsContainer.getFileSystemManager()));
    languageManager=new LanguageManager(vfsDelegate,null);
    languageManager.setClassLoader(loader);
    templateManager=new TemplateManager(vfsDelegate,null);
    templateManager.setClassLoader(loader);
  }
 catch (  BSFException e) {
    throw UtilMisc.initCause(new ContainerException("Initializing StandardFileSystemManager"),e);
  }
  return true;
}

{
  result.startTest(this);
  try {
    URL entityXmlURL=FlexibleLocation.resolveLocation(entityXmlUrlString);
    GenericDelegator delegator=modelTestSuite.getDelegator();
    List errorMessages=new ArrayList();
    if ("assert".equals(this.action)) {
      EntityDataAssert.assertData(entityXmlURL,delegator,errorMessages);
    }
 else     if ("load".equals(this.action)) {
      EntitySaxReader reader=new EntitySaxReader(delegator);
      long numberRead=reader.parse(entityXmlURL);
    }
 else {
      result.addFailure(this,new AssertionFailedError("Bad value [" + this.action + "] for action attribute of entity-xml element"));
    }
    if (UtilValidate.isNotEmpty(errorMessages)) {
      Iterator failureIterator=errorMessages.iterator();
      while (failureIterator.hasNext()) {
        String failureMessage=(String)failureIterator.next();
        result.addFailure(this,new AssertionFailedError(failureMessage));
      }
    }
  }
 catch (  Exception e) {
    result.addError(this,e);
  }
  result.endTest(this);
}

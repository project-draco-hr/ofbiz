{
  SequenceBank bank=sequences.get(seqName);
  if (bank == null) {
synchronized (this) {
      bank=sequences.get(seqName);
      if (bank == null) {
        long bankSize=SequenceBank.defaultBankSize;
        if (seqModelEntity != null && seqModelEntity.getSequenceBankSize() != null) {
          bankSize=seqModelEntity.getSequenceBankSize().longValue();
          if (bankSize > SequenceBank.maxBankSize)           bankSize=SequenceBank.maxBankSize;
        }
        bank=new SequenceBank(seqName,bankSize);
        sequences.put(seqName,bank);
      }
    }
  }
  return bank;
}

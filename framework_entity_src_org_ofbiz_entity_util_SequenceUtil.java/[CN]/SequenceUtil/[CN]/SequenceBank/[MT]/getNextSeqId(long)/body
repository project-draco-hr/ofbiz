{
  long stagger=1;
  if (staggerMax > 1) {
    stagger=Math.round(Math.random() * staggerMax);
    if (stagger == 0)     stagger=1;
  }
  if ((curSeqId + stagger) <= maxSeqId) {
    Long retSeqId=new Long(curSeqId);
    curSeqId+=stagger;
    return retSeqId;
  }
 else {
    fillBank(stagger);
    if ((curSeqId + stagger) <= maxSeqId) {
      Long retSeqId=new Long(curSeqId);
      curSeqId+=stagger;
      return retSeqId;
    }
 else {
      Debug.logError("[SequenceUtil.SequenceBank.getNextSeqId] Fill bank failed, returning null",module);
      return null;
    }
  }
}

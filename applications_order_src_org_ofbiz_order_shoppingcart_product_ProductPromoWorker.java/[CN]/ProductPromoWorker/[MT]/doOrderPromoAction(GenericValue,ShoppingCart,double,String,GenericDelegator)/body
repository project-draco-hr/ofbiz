{
  BigDecimal amountBd=(new BigDecimal(amount)).setScale(decimals,rounding);
  GenericValue orderAdjustment=delegator.makeValue("OrderAdjustment",UtilMisc.toMap("orderAdjustmentTypeId","PROMOTION_ADJUSTMENT",amountField,amountBd,"productPromoId",productPromoAction.get("productPromoId"),"productPromoRuleId",productPromoAction.get("productPromoRuleId"),"productPromoActionSeqId",productPromoAction.get("productPromoActionSeqId")));
  if (UtilValidate.isNotEmpty(productPromoAction.getString("orderAdjustmentTypeId"))) {
    orderAdjustment.set("orderAdjustmentTypeId",productPromoAction.get("orderAdjustmentTypeId"));
  }
  cart.addAdjustment(orderAdjustment);
}

{
  boolean include=!"PPPA_EXCLUDE".equals(productPromoApplEnumId);
  Iterator productPromoProductIter=productPromoProducts.iterator();
  while (productPromoProductIter.hasNext()) {
    GenericValue productPromoProduct=(GenericValue)productPromoProductIter.next();
    if (productPromoApplEnumId.equals(productPromoProduct.getString("productPromoApplEnumId"))) {
      String productId=productPromoProduct.getString("productId");
      if (include) {
        productIds.add(productId);
      }
 else {
        productIds.remove(productId);
      }
    }
  }
}

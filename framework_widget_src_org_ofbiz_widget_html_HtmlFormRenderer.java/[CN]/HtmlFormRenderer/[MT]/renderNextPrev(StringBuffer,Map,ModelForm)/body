{
  String targetService=modelForm.getPaginateTarget(context);
  if (targetService == null) {
    targetService="${targetService}";
  }
  if (UtilValidate.isEmpty(targetService)) {
    Debug.logWarning("TargetService is empty.",module);
    return;
  }
  String viewIndexParam=modelForm.getPaginateIndexField(context);
  String viewSizeParam=modelForm.getPaginateSizeField(context);
  int viewIndex=modelForm.getViewIndex(context);
  int viewSize=modelForm.getViewSize(context);
  int listSize=modelForm.getListSize(context);
  int lowIndex=modelForm.getLowIndex(context);
  int highIndex=modelForm.getHighIndex(context);
  int actualPageSize=modelForm.getActualPageSize(context);
  if (actualPageSize >= listSize && listSize >= 0) {
    return;
  }
  if (viewIndexParam.equals("viewIndex"))   viewIndexParam="VIEW_INDEX";
  if (viewSizeParam.equals("viewSize"))   viewSizeParam="VIEW_SIZE";
  String str=(String)context.get("_QBESTRING_");
  ServletContext ctx=(ServletContext)request.getAttribute("servletContext");
  RequestHandler rh=(RequestHandler)ctx.getAttribute("_REQUEST_HANDLER_");
  String queryString=UtilHttp.stripViewParamsFromQueryString(str);
  HashSet paramNames=new HashSet();
  paramNames.add(viewIndexParam);
  paramNames.add(viewSizeParam);
  queryString=UtilHttp.stripNamedParamsFromQueryString(queryString,paramNames);
  String anchor="";
  String paginateAnchor=modelForm.getPaginateTargetAnchor();
  if (paginateAnchor != null)   anchor="#" + paginateAnchor;
  buffer.append("<table border=\"0\" cellpadding=\"2\">\n");
  buffer.append("  <tr>\n");
  buffer.append("    <td align=\"right\">\n");
  buffer.append("      <b>\n");
  if (viewIndex > 0) {
    buffer.append(" <a href=\"");
    String linkText=targetService;
    if (linkText.indexOf("?") < 0)     linkText+="?";
 else     linkText+="&amp;";
    if (queryString != null && !queryString.equals("null"))     linkText+=queryString + "&amp;";
    linkText+=viewSizeParam + "=" + viewSize+ "&amp;"+ viewIndexParam+ "="+ (viewIndex - 1)+ anchor+ "\"";
    String tmp=rh.makeLink(request,response,linkText,false,false,false);
    buffer.append(tmp);
    buffer.append(" class=\"").append(modelForm.getPaginatePreviousStyle()).append("\">").append(modelForm.getPaginatePreviousLabel(context)).append("</a>\n");
  }
  if (listSize > 0) {
    buffer.append("          <span class=\"tabletext\">" + (lowIndex + 1) + " - "+ (lowIndex + actualPageSize)+ " of "+ listSize+ "</span> \n");
  }
  if (highIndex < listSize) {
    buffer.append(" <a href=\"");
    String linkText="" + targetService;
    if (linkText.indexOf("?") < 0)     linkText+="?";
 else     linkText+="&amp;";
    linkText+=queryString + "&amp;" + viewSizeParam+ "="+ viewSize+ "&amp;"+ viewIndexParam+ "="+ (viewIndex + 1)+ anchor+ "\"";
    buffer.append(rh.makeLink(request,response,linkText,false,false,false));
    buffer.append(" class=\"").append(modelForm.getPaginatePreviousStyle()).append("\">").append(modelForm.getPaginateNextLabel(context)).append("</a>\n");
  }
  buffer.append("      </b>\n");
  buffer.append("    </td>\n");
  buffer.append("  </tr>\n");
  buffer.append("</table>\n");
  this.appendWhitespace(buffer);
}

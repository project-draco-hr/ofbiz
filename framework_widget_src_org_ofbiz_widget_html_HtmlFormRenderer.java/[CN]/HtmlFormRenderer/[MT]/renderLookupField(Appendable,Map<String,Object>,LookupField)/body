{
  ModelFormField modelFormField=lookupField.getModelFormField();
  writer.append("<input type=\"text\"");
  appendClassNames(writer,context,modelFormField);
  writer.append(" name=\"");
  writer.append(modelFormField.getParameterName(context));
  writer.append('"');
  String value=modelFormField.getEntry(context,lookupField.getDefaultValue(context));
  if (UtilValidate.isNotEmpty(value)) {
    writer.append(" value=\"");
    writer.append(value);
    writer.append('"');
  }
  writer.append(" size=\"");
  writer.append(Integer.toString(lookupField.getSize()));
  writer.append('"');
  Integer maxlength=lookupField.getMaxlength();
  if (maxlength != null) {
    writer.append(" maxlength=\"");
    writer.append(maxlength.toString());
    writer.append('"');
  }
  String idName=modelFormField.getIdName();
  if (UtilValidate.isNotEmpty(idName)) {
    writer.append(" id=\"");
    writer.append(idName);
    writer.append('"');
  }
  List<ModelForm.UpdateArea> updateAreas=modelFormField.getOnChangeUpdateAreas();
  boolean ajaxEnabled=updateAreas != null && this.javaScriptEnabled;
  if (!lookupField.getClientAutocompleteField() || ajaxEnabled) {
    writer.append(" autocomplete=\"off\"");
  }
  writer.append("/>");
  String descriptionFieldName=lookupField.getDescriptionFieldName();
  if (UtilValidate.isNotEmpty(descriptionFieldName)) {
    writer.append("<a href=\"javascript:call_fieldlookup3(document.");
    writer.append(modelFormField.getModelForm().getCurrentFormName(context));
    writer.append('.');
    writer.append(modelFormField.getParameterName(context));
    writer.append(",'");
    writer.append(descriptionFieldName);
    writer.append(",'");
  }
 else {
    writer.append("<a href=\"javascript:call_fieldlookup2(document.");
    writer.append(modelFormField.getModelForm().getCurrentFormName(context));
    writer.append('.');
    writer.append(modelFormField.getParameterName(context));
    writer.append(",'");
  }
  writer.append(appendExternalLoginKey(lookupField.getFormName(context)));
  writer.append("'");
  List<String> targetParameterList=lookupField.getTargetParameterList();
  for (  String targetParameter : targetParameterList) {
    writer.append(", document.");
    writer.append(modelFormField.getModelForm().getCurrentFormName(context));
    writer.append(".");
    writer.append(targetParameter);
    writer.append(".value");
  }
  writer.append(");\">");
  writer.append("<img src=\"");
  this.appendContentUrl(writer,"/images/fieldlookup.gif");
  writer.append("\" width=\"15\" height=\"14\" border=\"0\" alt=\"Lookup\"/></a>");
  this.addAsterisks(writer,context,modelFormField);
  this.makeHyperlinkString(writer,lookupField.getSubHyperlink(),context);
  this.appendTooltip(writer,context,modelFormField);
  if (ajaxEnabled) {
    appendWhitespace(writer);
    writer.append("<script language=\"JavaScript\" type=\"text/javascript\">");
    appendWhitespace(writer);
    writer.append("ajaxAutoCompleter('" + createAjaxParamsFromUpdateAreas(updateAreas,null,context) + "');");
    appendWhitespace(writer);
    writer.append("</script>");
  }
  appendWhitespace(writer);
}

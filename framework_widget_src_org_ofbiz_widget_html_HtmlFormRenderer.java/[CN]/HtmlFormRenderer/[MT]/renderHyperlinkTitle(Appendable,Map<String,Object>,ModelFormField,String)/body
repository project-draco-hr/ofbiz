{
  if (UtilValidate.isNotEmpty(modelFormField.getHeaderLink())) {
    StringBuffer targetBuffer=new StringBuffer();
    FlexibleStringExpander target=FlexibleStringExpander.getInstance(modelFormField.getHeaderLink());
    String fullTarget=target.expandString(context);
    targetBuffer.append(fullTarget);
    String targetType=HyperlinkField.DEFAULT_TARGET_TYPE;
    if (UtilValidate.isNotEmpty(targetBuffer.toString()) && targetBuffer.toString().toLowerCase().startsWith("javascript:")) {
      targetType="plain";
    }
    WidgetWorker.makeHyperlinkString(writer,modelFormField.getHeaderLinkStyle(),targetType,targetBuffer.toString(),null,titleText,modelFormField,this.request,this.response,null,null);
  }
 else   if (modelFormField.isSortField()) {
    renderSortField(writer,context,modelFormField,titleText);
  }
 else   if (modelFormField.isRowSubmit()) {
    if (UtilValidate.isNotEmpty(titleText))     writer.append(titleText + "<br/>");
    writer.append("<input type=\"checkbox\" name=\"selectAll\" value=\"Y\" onclick=\"javascript:toggleAll(this, '");
    writer.append(modelFormField.getModelForm().getName());
    writer.append("');\"/>");
  }
 else {
    writer.append(titleText);
  }
}

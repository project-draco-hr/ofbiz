{
  if (messageStringList == null || fieldNameSet == null || fieldNameSet.size() == 0) {
    return Collections.EMPTY_LIST;
  }
  List outList=new ArrayList(messageStringList.size());
  Iterator messageStringIter=messageStringList.iterator();
  while (messageStringIter.hasNext()) {
    Object messageStringCur=messageStringIter.next();
    if (messageStringCur instanceof MessageString) {
      MessageString messageString=(MessageString)messageStringCur;
      if (messageString.isForField(fieldNameSet)) {
        if (convertToStrings) {
          outList.add(messageString.toString());
        }
 else {
          outList.add(messageString);
        }
      }
    }
 else {
      continue;
    }
  }
  return outList;
}

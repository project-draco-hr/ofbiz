{
  if (resource == null || resource.length() <= 0)   return;
  if (name == null || name.length() <= 0)   return;
  FlexibleProperties properties=(FlexibleProperties)resourceCache.get(resource);
  if (properties == null) {
    try {
      URL url=UtilURL.fromResource(resource);
      if (url == null)       return;
      properties=FlexibleProperties.makeFlexibleProperties(url);
      resourceCache.put(resource,properties);
    }
 catch (    MissingResourceException e) {
      Debug.log(e.getMessage(),module);
    }
  }
  if (properties == null) {
    Debug.log("[UtilProperties.setPropertyValue] could not find resource: " + resource,module);
    return;
  }
  try {
    properties.setProperty(name,value);
    FileOutputStream propFile=new FileOutputStream(resource);
    properties.store(propFile,"Dynamically modified by OFBiz Framework (org.ofbiz.base.util : UtilProperties.setPropertyValue)\n" + "#\n" + "#    Copyright 2001-2006 The Apache Software Foundation\n"+ "#\n"+ "#    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n"+ "#    use this file except in compliance with the License. You may obtain a copy of\n"+ "#    the License at\n"+ "#\n"+ "#    http://www.apache.org/licenses/LICENSE-2.0\n"+ "#\n"+ "#    Unless required by applicable law or agreed to in writing, software\n"+ "#    distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n"+ "#    WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n"+ "#    License for the specific language governing permissions and limitations\n"+ "#    under the License.");
    propFile.close();
  }
 catch (  FileNotFoundException e) {
    Debug.log(e,"Unable to located the resource file.",module);
  }
catch (  IOException e) {
    Debug.logError(e,module);
  }
}

{
  String resourceCacheKey=resource + "_" + locale.toString();
  ResourceBundle bundle=bundleLocaleCache.get(resourceCacheKey);
  if (bundle == null) {
synchronized (bundleLocaleCache) {
      bundle=bundleLocaleCache.get(resourceCacheKey);
      if (bundle == null) {
        bundle=getBaseResourceBundle(resource,locale);
        if (bundle == null) {
          throw new IllegalArgumentException("Could not find resource bundle [" + resource + "] in the locale ["+ locale+ "]");
        }
        bundleLocaleCache.put(resourceCacheKey,bundle);
      }
    }
  }
  return new ResourceBundleMapWrapper.InternalRbmWrapper(bundle);
}

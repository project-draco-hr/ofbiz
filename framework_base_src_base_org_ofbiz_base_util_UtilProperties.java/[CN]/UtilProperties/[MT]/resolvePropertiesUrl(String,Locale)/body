{
  if (UtilValidate.isEmpty(resource)) {
    throw new IllegalArgumentException("resource cannot be null or empty");
  }
  if (locale == null) {
    throw new IllegalArgumentException("locale cannot be null");
  }
  String resourceName=createResourceName(resource,locale);
  if (propertiesNotFound.contains(resourceName)) {
    return null;
  }
  URL url=null;
  try {
    if (resource.endsWith(".xml")) {
      url=FlexibleLocation.resolveLocation(resource);
      if (url != null) {
        return url;
      }
    }
    url=FlexibleLocation.resolveLocation(resourceName + ".xml");
    if (url != null) {
      return url;
    }
    url=FlexibleLocation.resolveLocation(resourceName + ".properties");
    if (url != null) {
      return url;
    }
    url=FlexibleLocation.resolveLocation(resourceName);
    if (url != null) {
      return url;
    }
  }
 catch (  Exception e) {
    Debug.logInfo("Properties resolver: invalid URL - " + e.getMessage(),module);
  }
  if (propertiesNotFound.size() <= 300) {
    propertiesNotFound.add(resourceName);
  }
  return null;
}

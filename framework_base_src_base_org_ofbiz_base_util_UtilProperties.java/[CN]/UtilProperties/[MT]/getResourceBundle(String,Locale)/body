{
  if (UtilValidate.isEmpty(resource)) {
    throw new IllegalArgumentException("resource cannot be null or empty");
  }
  if (locale == null) {
    throw new IllegalArgumentException("locale cannot be null");
  }
  ResourceBundle bundle=null;
  try {
    bundle=UtilResourceBundle.getBundle(resource,locale,(ClassLoader)null);
  }
 catch (  MissingResourceException e) {
    String resourceCacheKey=resource + "_" + locale.toString();
    if (!resourceNotFoundMessagesShown.contains(resourceCacheKey)) {
      resourceNotFoundMessagesShown.add(resourceCacheKey);
      Debug.log("[UtilProperties.getPropertyValue] could not find resource: " + resource + " for locale "+ locale.toString(),module);
    }
    throw new IllegalArgumentException("Could not find resource bundle [" + resource + "] in the locale ["+ locale.toString()+ "]");
  }
  return bundle;
}

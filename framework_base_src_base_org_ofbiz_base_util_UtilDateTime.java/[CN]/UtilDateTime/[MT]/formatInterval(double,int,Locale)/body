{
  ArrayList parts=new ArrayList(timevals.length);
  for (int i=0; i < timevals.length; i++) {
    int value=Integer.parseInt(timevals[i][0]);
    double remainder=interval % value;
    interval=interval / value;
    parts.add(new Double(remainder));
  }
  Map uiDateTimeMap=UtilProperties.getResourceBundleMap("DateTimeLabels",locale);
  StringBuilder sb=new StringBuilder();
  for (int i=parts.size() - 1; i >= 0 && count > 0; i--) {
    if (sb.length() > 0)     sb.append(", ");
    Double D=(Double)parts.get(i);
    double d=D.doubleValue();
    if (d < 1)     continue;
    count--;
    sb.append(count == 0 ? df.format(d) : Integer.toString(D.intValue()));
    sb.append(' ');
    String label;
    if (D.intValue() == 1) {
      label=(String)uiDateTimeMap.get(timevals[i][1] + ".singular");
    }
 else {
      label=(String)uiDateTimeMap.get(timevals[i][1] + ".plural");
    }
    sb.append(label);
  }
  return sb.toString();
}

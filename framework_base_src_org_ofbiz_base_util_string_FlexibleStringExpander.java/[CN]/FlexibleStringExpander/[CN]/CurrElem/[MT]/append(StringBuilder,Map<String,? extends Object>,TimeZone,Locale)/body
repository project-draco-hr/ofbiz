{
  FlexibleMapAccessor<Object> fma=new FlexibleMapAccessor<Object>(this.str);
  Object obj=fma.get(context,locale);
  if (obj != null) {
    String currencyCode=this.codeExpr.expandString(context,timeZone,locale);
    buffer.append(UtilFormatOut.formatCurrency(Double.valueOf(obj.toString()),currencyCode,locale));
  }
}

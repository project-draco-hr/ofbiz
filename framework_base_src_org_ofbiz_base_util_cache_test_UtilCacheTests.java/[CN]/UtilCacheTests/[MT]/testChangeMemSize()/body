{
  int size=5;
  long ttl=2000;
  UtilCache<String,Serializable> cache=createUtilCache(size,size,ttl,false,false);
  Map<String,Serializable> map=new HashMap<String,Serializable>();
  for (int i=0; i < size; i++) {
    String s=Integer.toString(i);
    assertKey(s,cache,s,new String(s),new String(":" + s),i + 1,map);
  }
  cache.setMaxInMemory(2);
  for (int i=0; i < size - 2; i++) {
    String s=Integer.toString(i);
    map.remove(s);
  }
  assertEquals("size",2,cache.size());
}

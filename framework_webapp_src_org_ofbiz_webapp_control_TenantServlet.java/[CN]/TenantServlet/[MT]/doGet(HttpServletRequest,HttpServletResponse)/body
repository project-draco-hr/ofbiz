{
  Delegator delegator=DelegatorFactory.getDelegator("default");
  try {
    List<GenericValue> tenants=delegator.findList("Tenant",EntityCondition.makeCondition("domainName",request.getServerName()),null,UtilMisc.toList("-createdStamp"),null,false);
    if (UtilValidate.isNotEmpty(tenants)) {
      GenericValue tenant=EntityUtil.getFirst(tenants);
      String initialPath=tenant.getString("initialPath");
      response.sendRedirect(initialPath);
    }
  }
 catch (  GenericEntityException e) {
    String errMsg="Error getting tenant by domain name: " + request.getServerName();
    Debug.logError(e,errMsg,module);
    throw new ServletException(errMsg,e);
  }
}

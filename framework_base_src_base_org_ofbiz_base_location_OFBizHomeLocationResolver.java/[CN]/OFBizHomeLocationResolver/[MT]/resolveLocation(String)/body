{
  String propValue=System.getProperty(envName);
  if (propValue == null) {
    String errMsg="The Java environment (-Dxxx=yyy) variable with name " + envName + " is not set, cannot resolve location.";
    throw new MalformedURLException(errMsg);
  }
  StringBuffer baseLocation=new StringBuffer(FlexibleLocation.stripLocationType(location));
  if (baseLocation.charAt(0) != '/' && propValue.charAt(propValue.length() - 1) != '/') {
    baseLocation.insert(0,'/');
  }
  baseLocation.insert(0,propValue);
  return UtilURL.fromFilename(baseLocation.toString());
}

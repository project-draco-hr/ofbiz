{
  if (payment == null) {
    throw new GenericEntityException("Cannot check payment type: input payment is null");
  }
  GenericValue paymentType=payment.getRelatedOneCache("PaymentType");
  if (paymentType == null) {
    throw new GenericEntityException("Cannot find PaymentType for paymentId " + payment.getString("paymentId"));
  }
  String paymentTypeId=paymentType.getString("paymentTypeId");
  if (inputTypeId.equals(paymentTypeId)) {
    return true;
  }
  return isPaymentTypeRecurse(paymentType,inputTypeId);
}

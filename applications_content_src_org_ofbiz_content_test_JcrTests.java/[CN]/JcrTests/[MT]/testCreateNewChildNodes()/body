{
  JcrTextHelper subnode=jh.addNewNode("subNode");
  assertNotNull(subnode);
  String parentContentId=jh.getContentObject().getString("contentId");
  String childContentId=subnode.getContentObject().getString("contentId");
  List<GenericValue> list=delegator.findByAndCache("ContentAssoc",UtilMisc.toMap("contentId",parentContentId,"contentIdTo",childContentId));
  assertNotNull(list);
  if (UtilValidate.isEmpty(list) || list.size() != 1) {
    assertTrue(false);
  }
  subnode.closeSession();
  JcrTextHelper subsubnode=jh.addNewNode("/subNodeTwo/subSubNodeOne");
  assertNotNull(subsubnode);
  parentContentId=jh.getContentObject().getString("contentId");
  childContentId=subnode.getContentObject().getString("contentId");
  list=delegator.findByAndCache("ContentAssoc",UtilMisc.toMap("contentId",parentContentId,"contentIdTo",childContentId));
  assertNotNull(list);
  if (UtilValidate.isEmpty(list) || list.size() != 1) {
    assertTrue(false);
  }
  subsubnode.closeSession();
}

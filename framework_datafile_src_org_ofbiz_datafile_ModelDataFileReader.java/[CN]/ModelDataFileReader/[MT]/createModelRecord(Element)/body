{
  ModelRecord record=new ModelRecord();
  String tempStr;
  record.name=UtilXml.checkEmpty(recordElement.getAttribute("name"));
  record.typeCode=UtilXml.checkEmpty(recordElement.getAttribute("type-code"));
  record.tcMin=UtilXml.checkEmpty(recordElement.getAttribute("tc-min"));
  if (record.tcMin.length() > 0)   record.tcMinNum=Long.parseLong(record.tcMin);
  record.tcMax=UtilXml.checkEmpty(recordElement.getAttribute("tc-max"));
  if (record.tcMax.length() > 0)   record.tcMaxNum=Long.parseLong(record.tcMax);
  tempStr=UtilXml.checkEmpty(recordElement.getAttribute("tc-isnum"));
  if (tempStr != null && tempStr.length() > 0) {
    record.tcIsNum=Boolean.parseBoolean(tempStr);
  }
  tempStr=UtilXml.checkEmpty(recordElement.getAttribute("tc-position"));
  if (tempStr != null && tempStr.length() > 0) {
    record.tcPosition=Integer.parseInt(tempStr);
  }
  tempStr=UtilXml.checkEmpty(recordElement.getAttribute("tc-length"));
  if (tempStr != null && tempStr.length() > 0) {
    record.tcLength=Integer.parseInt(tempStr);
  }
  record.description=UtilXml.checkEmpty(recordElement.getAttribute("description"));
  record.parentName=UtilXml.checkEmpty(recordElement.getAttribute("parent-name"));
  record.limit=UtilXml.checkEmpty(recordElement.getAttribute("limit"));
  NodeList fList=recordElement.getElementsByTagName("field");
  int priorEnd=-1;
  for (int i=0; i < fList.getLength(); i++) {
    Element fieldElement=(Element)fList.item(i);
    ModelField modelField=createModelField(fieldElement);
    if ((i > 0) && (modelField.position == -1)) {
      modelField.position=priorEnd;
    }
    priorEnd=modelField.position + modelField.length;
    if (modelField != null) {
      record.fields.add(modelField);
    }
 else {
      Debug.logWarning("[ModelDataFileReader.createModelRecord] Weird, modelField was null",module);
    }
  }
  return record;
}

{
  Map servletCtxMap=FastMap.newInstance();
  ServletContext servletContext=(ServletContext)request.getAttribute("servletContext");
  Enumeration applicationAttrNames=servletContext.getAttributeNames();
  while (applicationAttrNames.hasMoreElements()) {
    String attrName=(String)applicationAttrNames.nextElement();
    if (namesToSkip != null && namesToSkip.contains(attrName))     continue;
    Object attrValue=servletContext.getAttribute(attrName);
    servletCtxMap.put(attrName,attrValue);
  }
  if (Debug.verboseOn()) {
    Debug.logVerbose("Made ServletContext Attribute Map with [" + servletCtxMap.size() + "] Entries",module);
    Debug.logVerbose("ServletContext Attribute Map Entries: " + System.getProperty("line.separator") + UtilMisc.printMap(servletCtxMap),module);
  }
  return servletCtxMap;
}

{
  if (Debug.verboseOn()) {
    Debug.logVerbose("Returning response: code = " + responseProps.statusCode + ", message = "+ responseProps.statusMessage,module);
  }
  response.setStatus(responseProps.statusCode);
  if (responseProps.statusCode == HttpServletResponse.SC_UNAUTHORIZED) {
    response.setHeader("WWW-Authenticate","Basic realm=\"OFBiz iCalendar " + request.getAttribute("workEffortId") + "\"");
  }
  if (responseProps.statusMessage != null) {
    Writer writer=getWriter(response,context);
    try {
      writer.write(responseProps.statusMessage);
    }
 catch (    IOException e) {
      throw e;
    }
 finally {
      writer.close();
    }
  }
}

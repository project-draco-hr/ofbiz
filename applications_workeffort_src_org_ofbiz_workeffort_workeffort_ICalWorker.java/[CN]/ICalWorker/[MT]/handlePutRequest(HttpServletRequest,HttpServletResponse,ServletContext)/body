{
  String contentType=request.getContentType();
  Debug.logInfo("[handlePutRequest] content type = " + contentType,module);
  if (contentType != null && !"text/calendar".equals(contentType)) {
    Debug.logInfo("[handlePutRequest] invalid content type",module);
    response.sendError(HttpServletResponse.SC_CONFLICT);
    return;
  }
  setupRequest(request,response);
  String workEffortId=(String)request.getAttribute("workEffortId");
  if (workEffortId == null) {
    Debug.logInfo("[handlePutRequest] workEffortId missing",module);
    response.sendError(HttpServletResponse.SC_BAD_REQUEST);
    return;
  }
  Debug.logInfo("[handlePutRequest] workEffortId = " + workEffortId,module);
  try {
    ICalConverter.storeCalendar(request.getInputStream(),createConversionContext(request));
  }
 catch (  Exception e) {
    Debug.logError(e,"[handlePutRequest] Error while updating calendar: ",module);
    response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);
    return;
  }
  response.setStatus(HttpServletResponse.SC_OK);
}

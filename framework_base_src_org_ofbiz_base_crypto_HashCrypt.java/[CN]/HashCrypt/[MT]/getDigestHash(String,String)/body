{
  if (str == null)   return null;
  try {
    MessageDigest messagedigest=MessageDigest.getInstance(hashType);
    byte[] strBytes=str.getBytes();
    messagedigest.update(strBytes);
    byte[] digestBytes=messagedigest.digest();
    char[] digestChars=Hex.encodeHex(digestBytes);
    StringBuilder sb=new StringBuilder();
    sb.append("{").append(hashType).append("}");
    sb.append(digestChars,0,digestChars.length);
    return sb.toString();
  }
 catch (  Exception e) {
    throw new GeneralRuntimeException("Error while computing hash of type " + hashType,e);
  }
}

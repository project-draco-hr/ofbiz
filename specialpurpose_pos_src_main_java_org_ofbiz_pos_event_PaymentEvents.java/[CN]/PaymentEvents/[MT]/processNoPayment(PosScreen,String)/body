{
  PosTransaction trans=PosTransaction.getCurrentTx(pos.getSession());
  try {
    BigDecimal amount=processAmount(trans,pos,null);
    Debug.logInfo("Processing [" + paymentMethodTypeId + "] Amount : "+ amount,module);
    trans.addPayment(paymentMethodTypeId,amount,null,null);
  }
 catch (  GeneralException e) {
  }
  clearInputPaymentFunctions(pos);
  pos.refresh();
}

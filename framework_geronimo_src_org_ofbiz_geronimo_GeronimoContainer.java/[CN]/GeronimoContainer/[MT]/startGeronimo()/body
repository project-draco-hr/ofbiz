{
  ContainerConfig.Container cc=ContainerConfig.getContainer("geronimo-container",configFile);
  if (cc == null) {
    throw new ContainerException("No geronimo-container configuration found in container config!");
  }
  this.geronimoTcm=new TransactionContextManager();
  try {
    InitialContext ic=new InitialContext();
    ic.rebind("java:comp/UserTransaction",this.geronimoTcm.getTransactionManager());
  }
 catch (  NamingException e) {
    throw new ContainerException("Unable to bind UserTransaction/TransactionManager to JNDI",e);
  }
  try {
    InitialContext ic=new InitialContext();
    Object o=ic.lookup("java:comp/UserTransaction");
    if (o == null) {
      throw new NamingException("Object came back null");
    }
  }
 catch (  NamingException e) {
    throw new ContainerException("Unable to lookup bound objects",e);
  }
  Debug.logInfo("Geronimo is bound to JNDI - java:comp/UserTransaction",module);
}

{
  ApplicationMappingManager mm=SharkEngineManager.getInstance().getApplicationMapPersistenceManager();
  ApplicationMap tad=null;
  if (mm != null) {
    XMLComplexElement cOwn=app.getCollection().getOwner();
    boolean isProcessApp=(cOwn instanceof WorkflowProcess);
    ApplicationMappingTransaction t=null;
    try {
      t=SharkUtilities.createApplicationMappingTransaction();
      tad=SharkEngineManager.getInstance().getApplicationMapPersistenceManager().getApplicationMap(t,app.getPackage().get("Id").toString(),((isProcessApp) ? cOwn.get("Id").toString() : null),applicationId);
    }
 catch (    RootException e) {
      throw e;
    }
 finally {
      SharkUtilities.releaseMappingTransaction(t);
    }
  }
  return tad;
}

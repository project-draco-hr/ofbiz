{
  Binding binding=new Binding();
  if (context != null) {
    Set keySet=context.keySet();
    for (    Object key : keySet) {
      binding.setVariable((String)key,context.get(key));
    }
    binding.setVariable("context",context);
  }
  ClassLoader classLoader=Thread.currentThread().getContextClassLoader();
  return new GroovyShell(classLoader,binding);
}

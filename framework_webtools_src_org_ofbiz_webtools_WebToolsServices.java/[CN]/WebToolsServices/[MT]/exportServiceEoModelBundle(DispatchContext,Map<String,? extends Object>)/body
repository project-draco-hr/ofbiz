{
  String eomodeldFullPath=(String)context.get("eomodeldFullPath");
  String serviceName=(String)context.get("serviceName");
  if (eomodeldFullPath.endsWith("/")) {
    eomodeldFullPath=eomodeldFullPath + serviceName + ".eomodeld";
  }
  if (!eomodeldFullPath.endsWith(".eomodeld")) {
    eomodeldFullPath=eomodeldFullPath + ".eomodeld";
  }
  File outdir=new File(eomodeldFullPath);
  if (!outdir.exists()) {
    outdir.mkdir();
  }
  if (!outdir.isDirectory()) {
    return ServiceUtil.returnError("eomodel Full Path is not a directory: " + eomodeldFullPath);
  }
  if (!outdir.canWrite()) {
    return ServiceUtil.returnError("eomodel Full Path is not write-able: " + eomodeldFullPath);
  }
  try {
    ArtifactInfoFactory aif=ArtifactInfoFactory.getArtifactInfoFactory("default");
    ServiceArtifactInfo serviceInfo=aif.getServiceArtifactInfo(serviceName);
    serviceInfo.writeServiceCallGraphEoModel(eomodeldFullPath);
  }
 catch (  GeneralException e) {
    Debug.logError(e,module);
    return ServiceUtil.returnError("Error getting service info: " + e.toString());
  }
catch (  UnsupportedEncodingException e) {
    return ServiceUtil.returnError("ERROR saving file: " + e.toString());
  }
catch (  FileNotFoundException e) {
    return ServiceUtil.returnError("ERROR: file/directory not found: " + e.toString());
  }
  return ServiceUtil.returnSuccess();
}

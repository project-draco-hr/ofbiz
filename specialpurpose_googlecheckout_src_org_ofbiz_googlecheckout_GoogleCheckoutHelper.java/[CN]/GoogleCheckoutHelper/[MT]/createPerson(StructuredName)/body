{
  Map<String,Object> personMap=FastMap.newInstance();
  personMap.put("firstName",name.getFirstName());
  personMap.put("lastName",name.getLastName());
  personMap.put("userLogin",system);
  Map<String,Object> personResp=dispatcher.runSync("createPerson",personMap);
  if (ServiceUtil.isError(personResp)) {
    throw new GeneralException("Unable to create new customer account: " + ServiceUtil.getErrorMessage(personResp));
  }
  String partyId=(String)personResp.get("partyId");
  Debug.logInfo("New party created : " + partyId,module);
  return partyId;
}

{
  String contactMechPurposeTypeId=getAddressType(addrType);
  List<GenericValue> values=delegator.findByAnd("PartyContactMechPurpose",UtilMisc.toMap("partyId",partyId,"contactMechId",contactMechId,"contactMechPurposeTypeId",contactMechPurposeTypeId));
  if (values == null || values.size() == 0) {
    Map<String,Object> addPurposeMap=FastMap.newInstance();
    addPurposeMap.put("contactMechId",contactMechId);
    addPurposeMap.put("partyId",partyId);
    addPurposeMap.put("contactMechPurposeTypeId",contactMechPurposeTypeId);
    addPurposeMap.put("userLogin",system);
    Map<String,Object> addPurposeResp=dispatcher.runSync("createPartyContactMechPurpose",addPurposeMap);
    if (addPurposeResp != null && ServiceUtil.isError(addPurposeResp)) {
      throw new GeneralException(ServiceUtil.getErrorMessage(addPurposeResp));
    }
  }
}

{
  String realLinkType=WidgetWorker.determineAutoLinkType(linkType,target,targetType,request);
  String encodedDescription=encode(description,modelFormField,context);
  int paginatorNumber=WidgetWorker.getPaginatorNumber(context);
  String viewIndexField=modelFormField.modelForm.getMultiPaginateIndexField(context);
  String viewSizeField=modelFormField.modelForm.getMultiPaginateSizeField(context);
  int viewIndex=modelFormField.modelForm.getViewIndex(context);
  int viewSize=modelFormField.modelForm.getViewSize(context);
  if (viewIndexField.equals("viewIndex" + "_" + paginatorNumber)) {
    viewIndexField="VIEW_INDEX" + "_" + paginatorNumber;
  }
  if (viewSizeField.equals("viewSize" + "_" + paginatorNumber)) {
    viewSizeField="VIEW_SIZE" + "_" + paginatorNumber;
  }
  if ("hidden-form".equals(realLinkType)) {
    parameterMap.put(viewIndexField,Integer.toString(viewIndex));
    parameterMap.put(viewSizeField,Integer.toString(viewSize));
    if (modelFormField != null && "multi".equals(modelFormField.getModelForm().getType())) {
      WidgetWorker.makeHiddenFormLinkAnchor(writer,linkStyle,encodedDescription,confirmation,modelFormField,request,response,context);
      Map<String,Object> wholeFormContext=UtilGenerics.checkMap(context.get("wholeFormContext"));
      Appendable postMultiFormWriter=wholeFormContext != null ? (Appendable)wholeFormContext.get("postMultiFormWriter") : null;
      if (postMultiFormWriter == null) {
        postMultiFormWriter=new StringWriter();
        wholeFormContext.put("postMultiFormWriter",postMultiFormWriter);
      }
      WidgetWorker.makeHiddenFormLinkForm(postMultiFormWriter,target,targetType,targetWindow,parameterMap,modelFormField,request,response,context);
    }
 else {
      WidgetWorker.makeHiddenFormLinkForm(writer,target,targetType,targetWindow,parameterMap,modelFormField,request,response,context);
      WidgetWorker.makeHiddenFormLinkAnchor(writer,linkStyle,encodedDescription,confirmation,modelFormField,request,response,context);
    }
  }
 else {
    makeHyperlinkString(writer,linkStyle,targetType,target,parameterMap,encodedDescription,confirmation,modelFormField,request,response,context,targetWindow);
  }
}

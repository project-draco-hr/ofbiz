{
  if (UtilValidate.isNotEmpty(modelFormField.getHeaderLink())) {
    StringBuilder targetBuffer=new StringBuilder();
    FlexibleStringExpander target=FlexibleStringExpander.getInstance(modelFormField.getHeaderLink());
    String fullTarget=target.expandString(context);
    targetBuffer.append(fullTarget);
    String targetType=HyperlinkField.DEFAULT_TARGET_TYPE;
    if (UtilValidate.isNotEmpty(targetBuffer.toString()) && targetBuffer.toString().toLowerCase().startsWith("javascript:")) {
      targetType="plain";
    }
    StringWriter sr=new StringWriter();
    makeHyperlinkString(sr,modelFormField.getHeaderLinkStyle(),targetType,targetBuffer.toString(),null,titleText,"",modelFormField,this.request,this.response,context,"");
    String title=sr.toString().replace("\"","\'");
    sr=new StringWriter();
    sr.append("<@renderHyperlinkTitle ");
    sr.append(" name=\"");
    sr.append(modelFormField.getModelForm().getName());
    sr.append("\" title=\"");
    sr.append(title);
    sr.append("\" />");
    executeMacro(sr.toString());
  }
 else   if (modelFormField.isSortField() && !"text/csv".equals(this.getContentType()) && !"application/pdf".equals(this.getContentType())) {
    renderSortField(writer,context,modelFormField,titleText);
  }
 else   if (modelFormField.isRowSubmit()) {
    StringWriter sr=new StringWriter();
    sr.append("<@renderHyperlinkTitle ");
    sr.append(" name=\"");
    sr.append(modelFormField.getModelForm().getName());
    sr.append("\" title=\"");
    sr.append(titleText);
    sr.append("\" showSelectAll=\"Y\"/>");
    executeMacro(sr.toString());
  }
 else {
    writer.append(titleText);
  }
}

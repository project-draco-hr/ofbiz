{
  BigDecimal amount;
  if (UtilValidate.isNotEmpty(amtStr)) {
    try {
      amount=new BigDecimal(amtStr);
    }
 catch (    NumberFormatException e) {
      Debug.logError("Invalid number for amount : " + amtStr,module);
      throw new GeneralException();
    }
  }
 else {
    Debug.log("Amount is empty; assumption is full amount : " + this.getTotalDue(),module);
    amount=this.getTotalDue();
    if (amount.compareTo(BigDecimal.ZERO) <= 0) {
      throw new GeneralException();
    }
  }
  return amount;
}

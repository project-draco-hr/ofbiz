{
  Date start=new Date();
  LocalDispatcher dispatcher=dctx.getDispatcher();
  Delegator delegator=dctx.getDelegator();
  String siteId=(String)context.get("contentId");
  String path=(String)context.get("path");
  Locale locale=(Locale)context.get("locale");
  if (path == null) {
    path=SearchWorker.getIndexPath(path);
  }
  Map<String,Object> envContext=new HashMap<String,Object>();
  if (Debug.infoOn())   Debug.logInfo("in indexTree, siteId:" + siteId,module);
  List<String> badIndexList=new ArrayList<String>();
  envContext.put("badIndexList",badIndexList);
  envContext.put("goodIndexCount",Integer.valueOf(0));
  Map<String,Object> results;
  try {
    results=SearchWorker.indexTree(dispatcher,delegator,siteId,envContext,path);
  }
 catch (  Exception e) {
    Debug.logError(e,module);
    return ServiceUtil.returnError(UtilProperties.getMessage(resource,"ContentIndexingTreeError",UtilMisc.toMap("errorString",e.toString()),locale));
  }
  Date end=new Date();
  if (Debug.infoOn())   Debug.logInfo("in indexTree, results:" + results,module);
  if (Debug.infoOn())   Debug.logInfo("Indexing done in: " + (end.getTime() - start.getTime()) + " ms",module);
  return results;
}

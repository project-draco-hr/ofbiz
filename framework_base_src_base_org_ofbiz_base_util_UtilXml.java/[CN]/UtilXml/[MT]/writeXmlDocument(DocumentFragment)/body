{
  if (fragment == null) {
    Debug.logWarning("[UtilXml.writeXmlDocument] DocumentFragment was null, doing nothing",module);
    return null;
  }
  ByteArrayOutputStream bos=new ByteArrayOutputStream();
  List elementList=UtilXml.childElementList(fragment);
  Iterator elementIter=elementList.iterator();
  while (elementIter.hasNext()) {
    Element element=(Element)elementIter.next();
    writeXmlDocument(bos,element);
  }
  String outString=bos.toString("UTF-8");
  if (bos != null)   bos.close();
  return outString;
}

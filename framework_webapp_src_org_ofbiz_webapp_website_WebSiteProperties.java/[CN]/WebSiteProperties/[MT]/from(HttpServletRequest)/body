{
  Assert.notNull("request",request);
  WebSiteProperties webSiteProps=(WebSiteProperties)request.getAttribute("_WEBSITE_PROPS_");
  if (webSiteProps == null) {
    Delegator delegator=(Delegator)request.getAttribute("delegator");
    if (delegator != null) {
      String webSiteId=WebSiteWorker.getWebSiteId(request);
      if (webSiteId != null) {
        GenericValue webSiteValue=delegator.findOne("WebSite",UtilMisc.toMap("webSiteId",webSiteId),true);
        if (webSiteValue != null) {
          webSiteProps=from(webSiteValue);
        }
      }
    }
    if (webSiteProps == null) {
      webSiteProps=new WebSiteProperties();
    }
    request.setAttribute("_WEBSITE_PROPS_",webSiteProps);
  }
  return webSiteProps;
}

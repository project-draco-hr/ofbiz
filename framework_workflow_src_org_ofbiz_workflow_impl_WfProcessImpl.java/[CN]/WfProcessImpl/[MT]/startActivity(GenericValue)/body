{
  WfActivity activity=WfFactory.getWfActivity(value,workEffortId);
  GenericResultWaiter req=new GenericResultWaiter();
  if (Debug.verboseOn())   Debug.logVerbose("[WfProcess.startActivity] : Attempting to start activity (" + activity.name() + ")",module);
  LocalDispatcher dispatcher=this.getDispatcher();
  JobManager jm=dispatcher.getJobManager();
  if (jm == null) {
    throw new WfException("No job manager found on the service dispatcher; cannot start activity");
  }
  try {
    Job activityJob=new StartActivityJob(activity,req);
    jm.runJob(activityJob);
  }
 catch (  JobManagerException e) {
    throw new WfException("JobManager error",e);
  }
  if (req.status() == GenericResultWaiter.SERVICE_FAILED) {
    Throwable reqt=req.getThrowable();
    if (reqt instanceof CannotStart)     Debug.logVerbose("[WfProcess.startActivity] : Cannot start activity. Waiting for manual start.",module);
 else     if (reqt instanceof AlreadyRunning)     throw new WfException("Activity already running",reqt);
 else     throw new WfException("Activity error",reqt);
  }
}

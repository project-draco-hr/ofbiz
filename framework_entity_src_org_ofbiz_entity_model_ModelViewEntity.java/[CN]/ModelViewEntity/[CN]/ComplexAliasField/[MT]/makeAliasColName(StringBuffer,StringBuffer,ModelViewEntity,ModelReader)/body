{
  ModelEntity modelEntity=modelViewEntity.getAliasedEntity(entityAlias,modelReader);
  ModelField modelField=modelViewEntity.getAliasedField(modelEntity,field,modelReader);
  String colName=entityAlias + "." + modelField.getColName();
  if (UtilValidate.isNotEmpty(defaultValue)) {
    colName="COALESCE(" + colName + ","+ defaultValue+ ")";
  }
  if (UtilValidate.isNotEmpty(function)) {
    String prefix=(String)functionPrefixMap.get(function);
    if (prefix == null) {
      Debug.logWarning("Specified alias function [" + function + "] not valid; must be: min, max, sum, avg, count or count-distinct; using a column name with no function function",module);
    }
 else {
      colName=prefix + colName + ")";
    }
  }
  colNameBuffer.append(colName);
  if (fieldTypeBuffer.length() == 0) {
    fieldTypeBuffer.append(modelField.type);
  }
}

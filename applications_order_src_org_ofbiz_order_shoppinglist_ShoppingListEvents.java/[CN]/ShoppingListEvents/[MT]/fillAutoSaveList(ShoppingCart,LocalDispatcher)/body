{
  if (cart != null && dispatcher != null) {
    GenericValue userLogin=ShoppingListEvents.getCartUserLogin(cart);
    if (userLogin == null)     return;
    GenericDelegator delegator=cart.getDelegator();
    String autoSaveListId=getAutoSaveListId(delegator,dispatcher,null,userLogin,cart.getProductStoreId());
    try {
      String[] itemsArray=makeCartItemsArray(cart);
      if (itemsArray != null && itemsArray.length != 0) {
        addBulkFromCart(delegator,dispatcher,cart,userLogin,autoSaveListId,itemsArray,false,false);
      }
    }
 catch (    IllegalArgumentException e) {
      throw new GeneralException(e.getMessage(),e);
    }
  }
}

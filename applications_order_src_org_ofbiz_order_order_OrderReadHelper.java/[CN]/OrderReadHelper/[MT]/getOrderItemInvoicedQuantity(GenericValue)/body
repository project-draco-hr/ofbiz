{
  BigDecimal invoiced=BigDecimal.ZERO;
  try {
    List<GenericValue> billings=orderItem.getRelated("OrderItemBilling");
    for (Iterator<GenericValue> iter=billings.iterator(); iter.hasNext(); ) {
      GenericValue billing=iter.next();
      BigDecimal quantity=billing.getBigDecimal("quantity");
      if (quantity != null) {
        invoiced=invoiced.add(quantity);
      }
    }
  }
 catch (  GenericEntityException e) {
    Debug.logError(e,e.getMessage(),module);
  }
  return invoiced;
}

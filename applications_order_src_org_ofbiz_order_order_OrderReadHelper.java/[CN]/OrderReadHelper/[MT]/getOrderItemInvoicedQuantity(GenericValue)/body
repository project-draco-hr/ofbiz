{
  double invoiced=0;
  try {
    List billings=orderItem.getRelated("OrderItemBilling");
    for (Iterator iter=billings.iterator(); iter.hasNext(); ) {
      GenericValue billing=(GenericValue)iter.next();
      Double quantity=billing.getDouble("quantity");
      if (quantity != null) {
        invoiced+=quantity.doubleValue();
      }
    }
  }
 catch (  GenericEntityException e) {
    Debug.logError(e,e.getMessage(),module);
  }
  return invoiced;
}

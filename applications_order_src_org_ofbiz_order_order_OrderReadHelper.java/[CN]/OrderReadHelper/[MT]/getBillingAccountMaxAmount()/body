{
  if (getBillingAccount() == null) {
    return 0.0;
  }
 else {
    List paymentPreferences=getPaymentPreferences();
    GenericValue billingAccountPaymentPreference=EntityUtil.getFirst(EntityUtil.filterByAnd(paymentPreferences,UtilMisc.toMap("paymentMethodTypeId","EXT_BILLACT")));
    if ((billingAccountPaymentPreference != null) && (billingAccountPaymentPreference.getDouble("maxAmount") != null)) {
      return billingAccountPaymentPreference.getDouble("maxAmount").doubleValue();
    }
 else {
      return 0.0;
    }
  }
}

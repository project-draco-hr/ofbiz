{
  BigDecimal quantityShipped=ZERO;
  List issuance=getOrderItemIssuances(orderItem);
  if (issuance != null) {
    Iterator i=issuance.iterator();
    while (i.hasNext()) {
      GenericValue issue=(GenericValue)i.next();
      BigDecimal issueQty=issue.getBigDecimal("quantity");
      BigDecimal cancelQty=issue.getBigDecimal("cancelQuantity");
      if (cancelQty == null) {
        cancelQty=ZERO;
      }
      if (issueQty == null) {
        issueQty=ZERO;
      }
      quantityShipped=quantityShipped.add(issueQty.subtract(cancelQty)).setScale(scale,rounding);
    }
  }
  return quantityShipped.setScale(scale,rounding);
}

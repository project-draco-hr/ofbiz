{
  BigDecimal adjustment=ZERO;
  if (orderAdjustment.get("amount") != null) {
    BigDecimal amount=orderAdjustment.getBigDecimal("amount").setScale(taxCalcScale,taxRounding);
    adjustment=adjustment.add(amount);
  }
 else   if (orderAdjustment.get("sourcePercentage") != null) {
    BigDecimal percent=orderAdjustment.getBigDecimal("sourcePercentage").setScale(taxCalcScale,taxRounding);
    BigDecimal amount=orderSubTotal.multiply(percent).multiply(percentage).setScale(taxCalcScale,taxRounding);
    adjustment=adjustment.add(amount);
  }
  return adjustment.setScale(scale,rounding);
}

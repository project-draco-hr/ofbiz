{
  String message=methodContext.expandString(this.message);
  String propertyResource=methodContext.expandString(this.propertyResource);
  if (!isProperty && message != null) {
    return message;
  }
 else   if (isProperty && propertyResource != null && message != null) {
    String propMsg=UtilProperties.getMessage(propertyResource,message,methodContext.getEnvMap(),methodContext.getLocale());
    if (propMsg == null) {
      return "In Simple Map Processing property message could not be found in resource [" + propertyResource + "] with name ["+ message+ "]. ";
    }
 else {
      return propMsg;
    }
  }
 else {
    Debug.logInfo("[FlexibleMessage.getMessage] No message found, returning empty string",module);
    return "";
  }
}

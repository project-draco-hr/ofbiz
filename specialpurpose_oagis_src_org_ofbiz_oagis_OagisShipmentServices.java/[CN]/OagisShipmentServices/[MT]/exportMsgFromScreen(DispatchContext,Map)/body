{
  String bodyScreenUri=(String)serviceContext.remove("bodyScreenUri");
  Map bodyParameters=(Map)serviceContext.remove("bodyParameters");
  MapStack screenContext=MapStack.create();
  Writer bodyWriter=new StringWriter();
  ScreenRenderer screens=new ScreenRenderer(bodyWriter,screenContext,htmlScreenRenderer);
  if (bodyParameters != null) {
    screens.populateContextForService(dctx,bodyParameters);
    screenContext.putAll(bodyParameters);
  }
  try {
    screens.render(bodyScreenUri);
  }
 catch (  Exception e) {
    String errMsg="Error rendering [text/xml]: " + e.toString();
    Debug.logError(e,errMsg,module);
    return ServiceUtil.returnError(errMsg);
  }
  Map result=ServiceUtil.returnSuccess();
  Debug.logInfo(bodyWriter.toString(),module);
  result.put("body",bodyWriter.toString());
  return result;
}

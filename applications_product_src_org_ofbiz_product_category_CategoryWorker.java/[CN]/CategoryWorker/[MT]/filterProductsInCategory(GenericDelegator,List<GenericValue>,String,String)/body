{
  List<GenericValue> newList=FastList.newInstance();
  if (productCategoryId == null)   return newList;
  if (valueObjects == null)   return null;
  Iterator<GenericValue> valIter=valueObjects.iterator();
  while (valIter.hasNext()) {
    GenericValue curValue=valIter.next();
    String productId=curValue.getString(productIdFieldName);
    if (isProductInCategory(delegator,productId,productCategoryId)) {
      newList.add(curValue);
    }
  }
  return newList;
}

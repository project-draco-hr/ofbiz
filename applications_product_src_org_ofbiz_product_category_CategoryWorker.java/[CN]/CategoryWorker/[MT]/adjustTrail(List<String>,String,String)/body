{
  List<String> trail=FastList.newInstance();
  if (origTrail != null) {
    trail.addAll(origTrail);
  }
  if (UtilValidate.isEmpty(previousCategoryId)) {
    if (trail.contains(currentCategoryId)) {
      int cindex=trail.lastIndexOf(currentCategoryId);
      trail=trail.subList(0,cindex);
      return trail;
    }
 else {
      trail.clear();
      trail.add("TOP");
      if (UtilValidate.isNotEmpty(previousCategoryId)) {
        trail.add(previousCategoryId);
      }
    }
  }
  if (!trail.contains(previousCategoryId)) {
    trail.clear();
    trail.add("TOP");
    if (UtilValidate.isNotEmpty(previousCategoryId)) {
      trail.add(previousCategoryId);
    }
  }
 else {
    int index=trail.indexOf(previousCategoryId);
    trail=trail.subList(0,index);
  }
  trail.add(currentCategoryId);
  if (Debug.verboseOn())   Debug.logVerbose("[CategoryWorker.setTrail] Continuing list: Added currentCategory: " + currentCategoryId,module);
  return trail;
}

{
  if (productCategoryId == null)   return new LinkedList();
  if (valueObjects == null)   return null;
  List newList=FastList.newInstance();
  Iterator valIter=valueObjects.iterator();
  while (valIter.hasNext()) {
    GenericValue curValue=(GenericValue)valIter.next();
    String productId=curValue.getString(productIdFieldName);
    if (isProductInCategory(delegator,productId,productCategoryId)) {
      newList.add(curValue);
    }
  }
  return newList;
}

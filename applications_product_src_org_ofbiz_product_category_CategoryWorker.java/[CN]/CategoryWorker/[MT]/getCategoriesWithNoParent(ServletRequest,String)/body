{
  GenericDelegator delegator=(GenericDelegator)request.getAttribute("delegator");
  Collection results=new LinkedList();
  try {
    Collection allCategories=delegator.findList("ProductCategory",null,null,null,null,false);
    if (allCategories == null)     return;
    Iterator aciter=allCategories.iterator();
    while (aciter.hasNext()) {
      GenericValue curCat=(GenericValue)aciter.next();
      Collection parentCats=curCat.getRelatedCache("CurrentProductCategoryRollup");
      if (parentCats == null || parentCats.size() <= 0)       results.add(curCat);
    }
  }
 catch (  GenericEntityException e) {
    Debug.logWarning(e,module);
  }
  request.setAttribute(attributeName,results);
}

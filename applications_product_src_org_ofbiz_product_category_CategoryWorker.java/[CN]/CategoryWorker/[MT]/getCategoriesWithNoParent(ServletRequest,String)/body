{
  Delegator delegator=(Delegator)request.getAttribute("delegator");
  Collection<GenericValue> results=FastList.newInstance();
  try {
    Collection<GenericValue> allCategories=delegator.findList("ProductCategory",null,null,null,null,false);
    for (    GenericValue curCat : allCategories) {
      Collection<GenericValue> parentCats=curCat.getRelatedCache("CurrentProductCategoryRollup");
      if (parentCats == null || parentCats.size() <= 0)       results.add(curCat);
    }
  }
 catch (  GenericEntityException e) {
    Debug.logWarning(e,module);
  }
  request.setAttribute(attributeName,results);
}

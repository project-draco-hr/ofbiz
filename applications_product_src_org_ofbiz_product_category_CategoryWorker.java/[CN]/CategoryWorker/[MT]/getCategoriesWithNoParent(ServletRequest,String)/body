{
  GenericDelegator delegator=(GenericDelegator)request.getAttribute("delegator");
  Collection<GenericValue> results=FastList.newInstance();
  try {
    Collection<GenericValue> allCategories=delegator.findList("ProductCategory",null,null,null,null,false);
    if (allCategories == null)     return;
    Iterator<GenericValue> aciter=allCategories.iterator();
    while (aciter.hasNext()) {
      GenericValue curCat=aciter.next();
      Collection<GenericValue> parentCats=curCat.getRelatedCache("CurrentProductCategoryRollup");
      if (parentCats == null || parentCats.size() <= 0)       results.add(curCat);
    }
  }
 catch (  GenericEntityException e) {
    Debug.logWarning(e,module);
  }
  request.setAttribute(attributeName,results);
}

{
  String globalSystemPropsFileName=System.getProperty("ofbiz.system.props");
  if (globalSystemPropsFileName != null) {
    FileInputStream stream=null;
    try {
      stream=new FileInputStream(globalSystemPropsFileName);
      System.getProperties().load(stream);
    }
 catch (    IOException e) {
      throw (StartupException)new StartupException("Couldn't load global system props").initCause(e);
    }
 finally {
      if (stream != null) {
        try {
          stream.close();
        }
 catch (        IOException e) {
          throw (StartupException)new StartupException("Couldn't close stream").initCause(e);
        }
      }
    }
  }
  try {
    this.config=Config.getInstance(args);
  }
 catch (  IOException e) {
    throw (StartupException)new StartupException("Couldn't not fetch config instance").initCause(e);
  }
  if (args.length > 1) {
    this.loaderArgs.addAll(Arrays.asList(args).subList(1,args.length));
  }
  if (!fullInit) {
    return;
  }
  initClasspath();
  createLogDirectory();
  createListenerThread();
  if (config.useShutdownHook) {
    Runtime.getRuntime().addShutdownHook(new Thread(){
      @Override public void run(){
        shutdownServer();
      }
    }
);
  }
 else {
    System.out.println("Shutdown hook disabled");
  }
  initStartLoaders();
}

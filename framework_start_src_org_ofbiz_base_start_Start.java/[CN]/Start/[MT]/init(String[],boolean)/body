{
  String globalSystemPropsFileName=System.getProperty("ofbiz.system.props");
  if (globalSystemPropsFileName != null) {
    try {
      System.getProperties().load(new FileInputStream(globalSystemPropsFileName));
    }
 catch (    IOException e) {
      throw (IOException)new IOException("Couldn't load global system props").initCause(e);
    }
  }
  String firstArg=args.length > 0 ? args[0] : "";
  String cfgFile=Start.getConfigFileName(firstArg);
  this.config=new Config();
  config.readConfig(cfgFile);
  if (args.length > 0) {
    this.loaderArgs=new String[args.length];
    System.arraycopy(args,0,this.loaderArgs,0,this.loaderArgs.length);
  }
  if (fullInit) {
    initClasspath();
    createLogDirectory();
    createListenerThread();
    if (config.useShutdownHook) {
      Runtime.getRuntime().addShutdownHook(new Thread(){
        public void run(){
          shutdownServer();
        }
      }
);
    }
 else {
      System.out.println("Shutdown hook disabled");
    }
    if (!initStartLoaders()) {
      System.exit(99);
    }
  }
}

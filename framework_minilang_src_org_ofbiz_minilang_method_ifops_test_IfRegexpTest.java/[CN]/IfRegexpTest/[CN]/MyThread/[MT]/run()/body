{
  int tryCount=0;
  while (!stopNow) {
    MethodContext methodContext=new MethodContext(dispatcher.getDispatchContext(),UtilMisc.toMap("locale",Locale.getDefault()),null);
    try {
      tryCount++;
      String responseCode=SimpleMethod.runSimpleMethod("component://minilang/script/org/ofbiz/minilang/method/ifops/IfRegexpTests.xml","testIfRegexp",methodContext);
      if (!"success".equals(methodContext.getEnv("responseMessage"))) {
        success=false;
        Debug.logError("ResponseCode not success: [" + responseCode + "], tryCount: ["+ tryCount+ "], envMap: ["+ methodContext.getEnvMap()+ "]",module);
        if (friend != null)         friend.stopNow=true;
        break;
      }
    }
 catch (    MiniLangException e) {
      throw new RuntimeException(e);
    }
  }
}

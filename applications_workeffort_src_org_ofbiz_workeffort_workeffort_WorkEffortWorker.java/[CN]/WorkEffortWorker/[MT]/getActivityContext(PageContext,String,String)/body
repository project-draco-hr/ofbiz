{
  LocalDispatcher dispatcher=(LocalDispatcher)pageContext.getRequest().getAttribute("dispatcher");
  GenericValue userLogin=(GenericValue)pageContext.getSession().getAttribute("userLogin");
  Map<String,Object> svcCtx=UtilMisc.toMap("workEffortId",workEffortId,"userLogin",userLogin);
  Map<String,Object> result=null;
  try {
    result=dispatcher.runSync("wfGetActivityContext",svcCtx);
  }
 catch (  GenericServiceException e) {
    Debug.logError(e,module);
  }
  if (result != null && result.get(ModelService.RESPONSE_MESSAGE).equals(ModelService.RESPOND_ERROR))   Debug.logError((String)result.get(ModelService.ERROR_MESSAGE),module);
  if (result != null && result.containsKey("activityContext")) {
    Object aC=UtilGenerics.checkMap(result.get("activityContext"));
    pageContext.setAttribute(attribute,aC);
  }
}

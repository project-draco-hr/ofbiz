{
  if (dispatcher == null) {
    throw new WfException("LocalDispatcher is null; cannot create job for activity startup");
  }
  WfActivity activity=WfFactory.getWfActivity(delegator,workEffortId);
  if (Debug.verboseOn())   Debug.logVerbose("Starting activity: " + activity.name(),module);
  if (activityRunning(activity))   throw new WfException("Activity is already running");
  Job job=new StartActivityJob(activity);
  if (Debug.verboseOn())   Debug.logVerbose("Job: " + job,module);
  try {
    dispatcher.getJobManager().runJob(job);
  }
 catch (  JobManagerException e) {
    throw new WfException(e.getMessage(),e);
  }
}

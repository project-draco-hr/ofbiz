{
  LocalDispatcher dispatcher=dctx.getDispatcher();
  Long quantity=(Long)context.get("quantity");
  StringBuffer bankOfNumbers=new StringBuffer();
  for (long i=0; i < quantity.longValue(); i++) {
    Map createProductPromoCodeMap=null;
    try {
      createProductPromoCodeMap=dispatcher.runSync("createProductPromoCode",dctx.makeValidContext("createProductPromoCode","IN",context));
    }
 catch (    GenericServiceException err) {
      return ServiceUtil.returnError("Could not create a bank of promo codes",null,null,createProductPromoCodeMap);
    }
    if (ServiceUtil.isError(createProductPromoCodeMap)) {
      return ServiceUtil.returnError("Could not create a bank of promo codes",null,null,createProductPromoCodeMap);
    }
    bankOfNumbers.append((String)createProductPromoCodeMap.get("productPromoCodeId"));
    bankOfNumbers.append("<br/>");
  }
  return ServiceUtil.returnSuccess(bankOfNumbers.toString());
}

{
  LocalDispatcher dispatcher=dctx.getDispatcher();
  Long quantity=(Long)context.get("quantity");
  Locale locale=(Locale)context.get("locale");
  StringBuilder bankOfNumbers=new StringBuilder();
  for (long i=0; i < quantity.longValue(); i++) {
    Map<String,Object> createProductPromoCodeMap=null;
    try {
      createProductPromoCodeMap=dispatcher.runSync("createProductPromoCode",dctx.makeValidContext("createProductPromoCode","IN",context));
    }
 catch (    GenericServiceException err) {
      return ServiceUtil.returnError(UtilProperties.getMessage(resource,"ProductPromoCodeCannotBeCreated",locale),null,null,createProductPromoCodeMap);
    }
    if (ServiceUtil.isError(createProductPromoCodeMap)) {
      return ServiceUtil.returnError(UtilProperties.getMessage(resource,"ProductPromoCodeCannotBeCreated",locale),null,null,createProductPromoCodeMap);
    }
    bankOfNumbers.append((String)createProductPromoCodeMap.get("productPromoCodeId"));
    bankOfNumbers.append("<br/>");
  }
  return ServiceUtil.returnSuccess(bankOfNumbers.toString());
}

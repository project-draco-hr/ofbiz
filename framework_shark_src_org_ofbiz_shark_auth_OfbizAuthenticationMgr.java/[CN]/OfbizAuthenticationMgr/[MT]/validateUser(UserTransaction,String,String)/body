{
  String service=ServiceConfigUtil.getElementAttr("authorization","service-name");
  if (service == null) {
    throw new RootException("No Authentication Service Defined");
  }
  LocalDispatcher dispatcher=SharkContainer.getDispatcher();
  Map context=UtilMisc.toMap("login.username",userName,"login.password",password,"isServiceAuth",new Boolean(true));
  Map serviceResult=null;
  try {
    serviceResult=dispatcher.runSync(service,context);
  }
 catch (  GenericServiceException e) {
    throw new RootException(e);
  }
  if (!ServiceUtil.isError(serviceResult)) {
    GenericValue userLogin=(GenericValue)serviceResult.get("userLogin");
    if (userLogin != null) {
      return true;
    }
  }
  return false;
}

{
  ViewHandler handler=null;
  String handlerClass=null;
  try {
    handlerClass=this.requestHandler.getControllerConfig().getViewHandlerMap().get(type);
  }
 catch (  WebAppConfigurationException e) {
    Debug.logError(e,"Exception thrown while parsing controller.xml file: ",module);
  }
  if (handlerClass == null) {
    throw new ViewHandlerException("Unknown handler type: " + type);
  }
  try {
    handler=(ViewHandler)ObjectType.getInstance(handlerClass);
    handler.setName(type);
    handler.init(context);
  }
 catch (  ClassNotFoundException cnf) {
    Debug.logWarning("Warning: could not load view handler class because it was not found; note that some views may not work: " + cnf.toString(),module);
  }
catch (  InstantiationException ie) {
    throw new ViewHandlerException("Cannot get instance of the handler",ie);
  }
catch (  IllegalAccessException iae) {
    throw new ViewHandlerException(iae.getMessage(),iae);
  }
  return handler;
}

{
  if (basePath == null) {
    basePath=System.getProperty("ofbiz.home");
  }
  Set<String> stringsToFindInPath=FastSet.newInstance();
  Set<String> stringsToFindInFile=FastSet.newInstance();
  if (partialPath != null)   stringsToFindInPath.add(partialPath);
  if (rootElementName != null)   stringsToFindInFile.add("<" + rootElementName + " ");
  if (xsdOrDtdName != null)   stringsToFindInFile.add(xsdOrDtdName);
  List<File> fileList=FastList.newInstance();
  FileUtil.searchFiles(fileList,new File(basePath),new SearchTextFilesFilter("xml",stringsToFindInPath,stringsToFindInFile),true);
  return fileList;
}

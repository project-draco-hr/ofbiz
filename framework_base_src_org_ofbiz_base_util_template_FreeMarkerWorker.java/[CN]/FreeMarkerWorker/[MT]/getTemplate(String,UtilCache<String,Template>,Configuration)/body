{
  Template template=(Template)cache.get(templateLocation);
  if (template == null) {
synchronized (cache) {
      template=(Template)cache.get(templateLocation);
      if (template == null) {
        Reader templateReader=makeReader(templateLocation);
        template=new Template(templateLocation,templateReader,config);
        templateReader.close();
        cache.put(templateLocation,template);
      }
    }
  }
  return template;
}

{
  KeyStore trustStore=KeyStoreUtil.getSystemTrustStore();
  List trustMgrs=FastList.newInstance();
  trustMgrs.addAll(Arrays.asList(getTrustManagers(trustStore)));
  Iterator i=ComponentConfig.getAllKeystoreInfos().iterator();
  while (i.hasNext()) {
    ComponentConfig.KeystoreInfo ksi=(ComponentConfig.KeystoreInfo)i.next();
    if (ksi.isCertStore()) {
      KeyStore ks=KeyStoreUtil.getComponentKeyStore(ksi.componentConfig.getComponentName(),ksi.getName());
      trustMgrs.addAll(Arrays.asList(getTrustManagers(ks)));
    }
  }
  return (TrustManager[])trustMgrs.toArray(new TrustManager[trustMgrs.size()]);
}

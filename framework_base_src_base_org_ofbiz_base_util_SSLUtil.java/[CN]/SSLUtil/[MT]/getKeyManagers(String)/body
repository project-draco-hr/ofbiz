{
  Iterator i=ComponentConfig.getAllKeystoreInfos().iterator();
  List keyMgrs=FastList.newInstance();
  while (i.hasNext()) {
    ComponentConfig.KeystoreInfo ksi=(ComponentConfig.KeystoreInfo)i.next();
    if (ksi.isCertStore()) {
      KeyStore ks=ksi.getKeyStore();
      if (ks != null) {
        keyMgrs.addAll(Arrays.asList(getKeyManagers(ks,ksi.getPassword(),alias)));
      }
 else {
        throw new IOException("Unable to load keystore: " + ksi.createResourceHandler().getFullLocation());
      }
    }
  }
  return (KeyManager[])keyMgrs.toArray(new KeyManager[keyMgrs.size()]);
}

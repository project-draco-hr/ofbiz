{
  this.mode="wait".equals(model.semaphore) ? 1 : ("fail".equals(model.semaphore) ? 0 : 2);
  this.delegator=delegator;
  this.model=model;
  this.lock=null;
}

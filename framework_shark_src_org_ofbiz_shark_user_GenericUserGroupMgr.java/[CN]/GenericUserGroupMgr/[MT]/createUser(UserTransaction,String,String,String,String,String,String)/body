{
  GenericDelegator delegator=SharkContainer.getDelegator();
  GenericValue user=delegator.makeValue("SharkUser",null);
  user.set("userName",username);
  user.set("firstName",firstName);
  user.set("lastName",lastName);
  user.set("passwd",password);
  user.set("emailAddress",email);
  try {
    delegator.create(user);
  }
 catch (  GenericEntityException e) {
    Debug.logError(e,module);
    throw new RootException(e);
  }
  if (groupName != null) {
    this.addUserToGroup(trans,groupName,username);
  }
}

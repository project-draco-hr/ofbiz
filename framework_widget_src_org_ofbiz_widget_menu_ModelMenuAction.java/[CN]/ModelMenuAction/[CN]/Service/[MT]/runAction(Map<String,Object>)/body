{
  String serviceNameExpanded=this.serviceNameExdr.expandString(context);
  if (UtilValidate.isEmpty(serviceNameExpanded)) {
    throw new IllegalArgumentException("Service name was empty, expanded from: " + this.serviceNameExdr.getOriginal());
  }
  String autoFieldMapString=this.autoFieldMapExdr.expandString(context);
  boolean autoFieldMapBool=!"false".equals(autoFieldMapString);
  try {
    Map<String,Object> serviceContext=null;
    if (autoFieldMapBool) {
      serviceContext=WidgetWorker.getDispatcher(context).getDispatchContext().makeValidContext(serviceNameExpanded,ModelService.IN_PARAM,context);
    }
 else {
      serviceContext=FastMap.newInstance();
    }
    if (this.fieldMap != null) {
      for (      Map.Entry<FlexibleMapAccessor<Object>,FlexibleMapAccessor<Object>> entry : this.fieldMap.entrySet()) {
        FlexibleMapAccessor<Object> serviceContextFieldAcsr=entry.getKey();
        FlexibleMapAccessor<Object> contextEnvAcsr=entry.getValue();
        serviceContextFieldAcsr.put(serviceContext,contextEnvAcsr.get(context));
      }
    }
    Map<String,Object> result=WidgetWorker.getDispatcher(context).runSync(serviceNameExpanded,serviceContext);
    if (!this.resultMapNameAcsr.isEmpty()) {
      this.resultMapNameAcsr.put(context,result);
    }
 else {
      context.putAll(result);
    }
  }
 catch (  GenericServiceException e) {
    String errMsg="Error calling service with name " + serviceNameExpanded + ": "+ e.toString();
    Debug.logError(e,errMsg,module);
    throw new IllegalArgumentException(errMsg);
  }
}

{
  List<GenericValue> invoiceTaxItems=null;
  try {
    Delegator delegator=invoice.getDelegator();
    EntityConditionList<EntityExpr> condition=EntityCondition.makeCondition(UtilMisc.toList(EntityCondition.makeCondition("invoiceId",invoice.getString("invoiceId")),EntityCondition.makeCondition("invoiceItemTypeId",EntityOperator.IN,getTaxableInvoiceItemTypeIds(delegator)),EntityCondition.makeCondition("taxAuthPartyId",taxAuthPartyId),EntityCondition.makeCondition("taxAuthGeoId",taxAuthGeoId)),EntityOperator.AND);
    invoiceTaxItems=delegator.findList("InvoiceItem",condition,null,null,null,false);
  }
 catch (  GenericEntityException e) {
    Debug.logError(e,"Trouble getting InvoiceItem list",module);
    return null;
  }
  return getTaxTotalForInvoiceItems(invoiceTaxItems);
}

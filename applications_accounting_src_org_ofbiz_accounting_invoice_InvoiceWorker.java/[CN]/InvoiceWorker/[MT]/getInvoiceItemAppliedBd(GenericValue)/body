{
  BigDecimal invoiceItemApplied=ZERO;
  List paymentApplications=null;
  try {
    paymentApplications=invoiceItem.getRelated("PaymentApplication");
  }
 catch (  GenericEntityException e) {
    Debug.logError(e,"Trouble getting paymentApplicationlist",module);
  }
  if (paymentApplications != null && paymentApplications.size() > 0) {
    Iterator p=paymentApplications.iterator();
    while (p.hasNext()) {
      GenericValue paymentApplication=(GenericValue)p.next();
      invoiceItemApplied=invoiceItemApplied.add(paymentApplication.getBigDecimal("amountApplied")).setScale(decimals,rounding);
    }
  }
  return invoiceItemApplied;
}

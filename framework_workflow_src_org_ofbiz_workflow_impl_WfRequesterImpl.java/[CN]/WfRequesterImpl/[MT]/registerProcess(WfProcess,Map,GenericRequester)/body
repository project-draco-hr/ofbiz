{
  if (process == null)   throw new WfException("Process cannot be null");
  if (context == null)   throw new WfException("Context should not be null");
  performers.put(process,requester);
  WfProcessMgr mgr=process.manager();
  try {
    if (Debug.verboseOn())     Debug.logVerbose("Validating w/ signature: " + mgr.contextSignature(),module);
    ModelService.validate(mgr.contextSignature(),context,true,null,ModelService.IN_PARAM,Locale.getDefault());
  }
 catch (  GenericServiceException e) {
    throw new WfException("Context passed does not validate against defined signature: ",e);
  }
  Map localContext=new HashMap(context);
  localContext.putAll(mgr.getInitialContext());
  process.setProcessContext(localContext);
  GenericValue processDefinition=process.getDefinitionObject();
  String sourceReferenceField=processDefinition.getString("sourceReferenceField");
  if (context.containsKey(sourceReferenceField)) {
    GenericValue processObj=process.getRuntimeObject();
    if (processObj != null) {
      try {
        processObj.set("sourceReferenceId",localContext.get(sourceReferenceField));
        processObj.store();
      }
 catch (      GenericEntityException e) {
        throw new WfException("Cannot set sourceReferenceId on the process runtime object",e);
      }
    }
  }
}

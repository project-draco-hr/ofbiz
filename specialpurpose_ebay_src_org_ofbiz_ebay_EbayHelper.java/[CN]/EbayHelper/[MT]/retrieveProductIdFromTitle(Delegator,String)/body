{
  String productId="";
  try {
    List<GenericValue> products=delegator.findByAnd("Product",UtilMisc.toMap("internalName",title));
    if (UtilValidate.isNotEmpty(products) && products.size() == 1) {
      productId=(String)(products.get(0)).get("productId");
    }
    if (UtilValidate.isEmpty(productId)) {
      String titleFirstWord=null;
      if (title != null && title.indexOf(' ') != -1) {
        titleFirstWord=title.substring(0,title.indexOf(' '));
      }
      if (UtilValidate.isNotEmpty(titleFirstWord)) {
        GenericValue product=delegator.findOne("Product",UtilMisc.toMap("productId",titleFirstWord),false);
        if (UtilValidate.isNotEmpty(product)) {
          productId=product.getString("productId");
        }
      }
    }
  }
 catch (  GenericEntityException e) {
    productId="";
  }
  return productId;
}

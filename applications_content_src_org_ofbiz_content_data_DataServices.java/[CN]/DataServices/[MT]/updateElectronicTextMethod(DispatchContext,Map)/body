{
  HashMap result=new HashMap();
  GenericDelegator delegator=dctx.getDelegator();
  GenericValue electronicText=null;
  String dataResourceId=(String)context.get("dataResourceId");
  result.put("dataResourceId",dataResourceId);
  String contentId=(String)context.get("contentId");
  result.put("contentId",contentId);
  if (UtilValidate.isEmpty(dataResourceId)) {
    String errMsg="dataResourceId is null.";
    Debug.logError(errMsg,module);
    return ServiceUtil.returnError(errMsg);
  }
  String textData=(String)context.get("textData");
  if (Debug.verboseOn())   Debug.logVerbose("in updateElectronicText, textData:" + textData,module);
  try {
    electronicText=delegator.findByPrimaryKey("ElectronicText",UtilMisc.toMap("dataResourceId",dataResourceId));
    if (electronicText != null) {
      electronicText.put("textData",textData);
      electronicText.store();
    }
 else {
      electronicText=delegator.makeValue("ElectronicText",null);
      electronicText.put("dataResourceId",dataResourceId);
      electronicText.put("textData",textData);
      electronicText.create();
    }
  }
 catch (  GenericEntityException e) {
    Debug.logWarning(e,module);
    return ServiceUtil.returnError("electronicText.update.read_failure" + e.getMessage());
  }
  return result;
}

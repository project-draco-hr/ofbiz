{
  StandardSession _session=null;
  GenericValue sessionValue=null;
  try {
    sessionValue=delegator.findByPrimaryKey(entityName,"sessionId",id);
  }
 catch (  GenericEntityException e) {
    throw new IOException(e.getMessage());
  }
  if (sessionValue != null) {
    byte[] bytes=sessionValue.getBytes("sessionInfo");
    if (bytes != null) {
      BufferedInputStream bis=new BufferedInputStream(new ByteArrayInputStream(bytes));
      Container container=manager.getContainer();
      ClassLoader classLoader=null;
      Loader loader=null;
      if (container != null) {
        loader=container.getLoader();
      }
      if (loader != null) {
        classLoader=loader.getClassLoader();
      }
      ObjectInputStream ois=null;
      if (classLoader != null) {
        ois=new CustomObjectInputStream(bis,classLoader);
      }
 else {
        ois=new ObjectInputStream(bis);
      }
      _session=(StandardSession)manager.createEmptySession();
      _session.readObjectData(ois);
      _session.setManager(manager);
    }
  }
  return _session;
}

{
  String delegatorName=delegator.getDelegatorName();
  GenericDispatcher dispatcher=(GenericDispatcher)delegatorDispatchers.get(delegatorName);
  if (dispatcher == null) {
synchronized (EntityServiceFactory.class) {
      dispatcher=(GenericDispatcher)delegatorDispatchers.get(delegatorName);
      if (dispatcher == null) {
        dispatcher=new GenericDispatcher("entity-" + delegatorName,delegator);
        delegatorDispatchers.put(delegatorName,dispatcher);
      }
    }
  }
  return dispatcher;
}

{
  List<String> orderBy=UtilMisc.toList("-fromDate");
  List<EntityExpr> exprs=UtilMisc.toList(EntityCondition.makeCondition("contentId",EntityOperator.EQUALS,contentId));
  if (UtilValidate.isNotEmpty(mapKey)) {
    exprs.add(EntityCondition.makeCondition("mapKey",EntityOperator.EQUALS,mapKey));
  }
  List<GenericValue> assocs;
  assocs=delegator.findList("ContentAssoc",EntityCondition.makeCondition(exprs,EntityOperator.AND),null,orderBy,null,cache);
  assocs=EntityUtil.filterByDate(assocs);
  GenericValue subContent=EntityUtil.getFirst(assocs);
  if (subContent == null) {
    Debug.logWarning("No sub-content found with map-key [" + mapKey + "] for content ["+ contentId+ "]",module);
  }
 else {
    String subContentId=subContent.getString("contentIdTo");
    templateContext.put("mapKey",mapKey);
    renderContentAsText(dispatcher,delegator,subContentId,out,templateContext,locale,mimeTypeId,null,null,cache);
  }
}

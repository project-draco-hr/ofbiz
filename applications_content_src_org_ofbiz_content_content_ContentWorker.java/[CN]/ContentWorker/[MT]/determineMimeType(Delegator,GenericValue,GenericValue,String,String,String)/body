{
  String mimeTypeId=null;
  if (view != null) {
    mimeTypeId=(String)view.get("mimeTypeId");
    String drMimeTypeId=(String)view.get("drMimeTypeId");
    if (UtilValidate.isNotEmpty(drMimeTypeId)) {
      mimeTypeId=drMimeTypeId;
    }
  }
  if (UtilValidate.isEmpty(mimeTypeId)) {
    if (UtilValidate.isNotEmpty(contentId) && UtilValidate.isNotEmpty(dataResourceId)) {
      view=delegator.findByPrimaryKey("SubContentDataResourceView",UtilMisc.toMap("contentId",contentId,"drDataResourceId",dataResourceId));
      if (view != null) {
        mimeTypeId=(String)view.get("mimeTypeId");
        String drMimeTypeId=(String)view.get("drMimeTypeId");
        if (UtilValidate.isNotEmpty(drMimeTypeId)) {
          mimeTypeId=drMimeTypeId;
        }
      }
    }
  }
  if (UtilValidate.isEmpty(mimeTypeId)) {
    if (parentContent != null) {
      mimeTypeId=(String)parentContent.get("mimeTypeId");
    }
  }
  if (UtilValidate.isEmpty(mimeTypeId)) {
    if (UtilValidate.isNotEmpty(parentContentId)) {
      parentContent=delegator.findByPrimaryKey("Content",UtilMisc.toMap("contentId",contentId));
      if (parentContent != null) {
        mimeTypeId=(String)parentContent.get("mimeTypeId");
      }
    }
  }
  return mimeTypeId;
}

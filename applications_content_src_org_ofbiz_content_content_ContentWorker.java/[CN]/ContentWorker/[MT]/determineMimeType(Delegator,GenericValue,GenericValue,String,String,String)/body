{
  String mimeTypeId=null;
  if (view != null) {
    mimeTypeId=view.getString("mimeTypeId");
    String drMimeTypeId=view.getString("drMimeTypeId");
    if (UtilValidate.isNotEmpty(drMimeTypeId)) {
      mimeTypeId=drMimeTypeId;
    }
  }
  if (UtilValidate.isEmpty(mimeTypeId)) {
    if (UtilValidate.isNotEmpty(contentId) && UtilValidate.isNotEmpty(dataResourceId)) {
      view=delegator.findOne("SubContentDataResourceView",UtilMisc.toMap("contentId",contentId,"drDataResourceId",dataResourceId),false);
      if (view != null) {
        mimeTypeId=view.getString("mimeTypeId");
        String drMimeTypeId=view.getString("drMimeTypeId");
        if (UtilValidate.isNotEmpty(drMimeTypeId)) {
          mimeTypeId=drMimeTypeId;
        }
      }
    }
  }
  if (UtilValidate.isEmpty(mimeTypeId)) {
    if (parentContent != null) {
      mimeTypeId=parentContent.getString("mimeTypeId");
    }
  }
  if (UtilValidate.isEmpty(mimeTypeId)) {
    if (UtilValidate.isNotEmpty(parentContentId)) {
      parentContent=delegator.findOne("Content",UtilMisc.toMap("contentId",contentId),false);
      if (parentContent != null) {
        mimeTypeId=parentContent.getString("mimeTypeId");
      }
    }
  }
  return mimeTypeId;
}

{
  GenericValue view=null;
  try {
    if (subContentId == null) {
      if (contentId == null) {
        throw new GenericEntityException("contentId and subContentId are null.");
      }
      Map<String,Object> results=null;
      results=ContentServicesComplex.getAssocAndContentAndDataResourceMethod(delegator,contentId,mapKey,"To",fromDate,null,null,null,assocTypes,null);
      List<GenericValue> entityList=UtilGenerics.checkList(results.get("entityList"));
      if (UtilValidate.isEmpty(entityList)) {
      }
 else {
        view=entityList.get(0);
      }
    }
 else {
      List<GenericValue> lst=delegator.findByAnd("ContentDataResourceView",UtilMisc.toMap("contentId",subContentId));
      if (UtilValidate.isEmpty(lst)) {
        throw new IOException("No subContent found for subContentId=." + subContentId);
      }
      view=lst.get(0);
    }
  }
 catch (  GenericEntityException e) {
    throw new IOException(e.getMessage());
  }
  return view;
}

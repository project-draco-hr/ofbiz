{
  GenericValue view=null;
  try {
    if (subContentId == null) {
      if (contentId == null) {
        throw new GenericEntityException("contentId and subContentId are null.");
      }
      Map results=null;
      results=ContentServicesComplex.getAssocAndContentAndDataResourceMethod(delegator,contentId,mapKey,"To",fromDate,null,null,null,assocTypes,null);
      List entityList=(List)results.get("entityList");
      if (UtilValidate.isEmpty(entityList)) {
      }
 else {
        view=(GenericValue)entityList.get(0);
      }
    }
 else {
      List lst=delegator.findByAnd("ContentDataResourceView",UtilMisc.toMap("contentId",subContentId));
      if (UtilValidate.isEmpty(lst)) {
        throw new IOException("No subContent found for subContentId=." + subContentId);
      }
      view=(GenericValue)lst.get(0);
    }
  }
 catch (  GenericEntityException e) {
    throw new IOException(e.getMessage());
  }
  return view;
}

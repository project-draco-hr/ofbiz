{
  boolean isWhen=true;
  if (UtilValidate.isNotEmpty(whenStr)) {
    FlexibleStringExpander fse=FlexibleStringExpander.getInstance(whenStr);
    String newWhen=fse.expandString(context);
    try {
      Boolean isWhenObj=(Boolean)BshUtil.eval(newWhen,context);
      isWhen=isWhenObj.booleanValue();
    }
 catch (    EvalError e) {
      Debug.logError("Error in evaluating :" + whenStr + " : "+ e.getMessage(),null);
      throw new RuntimeException(e.getMessage());
    }
  }
  return isWhen;
}

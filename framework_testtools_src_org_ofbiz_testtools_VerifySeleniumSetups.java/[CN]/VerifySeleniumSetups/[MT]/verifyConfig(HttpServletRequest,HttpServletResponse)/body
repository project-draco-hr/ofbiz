{
  boolean lib=false;
  boolean urlset=false;
  Map<String,Object> msgMap=FastMap.newInstance();
  Properties urlProps=null;
  try {
    File file=new File(libPath);
    URL url=new URL(urlSite);
    URLConnection connection=url.openConnection();
    contentLength=connection.getContentLength();
    if (contentLength == -1) {
      request.setAttribute("_ERROR_MESSAGE_","can not conect to the internet");
    }
    Debug.log("file size. " + contentLength,module);
    if (file.exists()) {
      if (contentLength == file.length()) {
        lib=true;
      }
 else       lib=false;
    }
    msgMap.put("LIBFLAG",lib);
    String httpStatus=null;
    URL urlProp=UtilURL.fromResource("url.properties");
    if (urlProps == null) {
      urlProps=new Properties();
      if (urlProp == null) {
        String errMsg="Cannot resolve location from url.properties.";
        throw new MalformedURLException(errMsg);
      }
      urlProps=UtilProperties.getProperties(urlProp);
      if (urlProps != null) {
        httpStatus=urlProps.getProperty("port.https.enabled");
        if (httpStatus != null && httpStatus.equals("N")) {
          urlset=true;
        }
      }
    }
    msgMap.put("URLFLAG",urlset);
    request.setAttribute("MSGMAP",msgMap);
  }
 catch (  Exception e) {
    Debug.logError(e.getMessage(),module);
  }
  return "success";
}

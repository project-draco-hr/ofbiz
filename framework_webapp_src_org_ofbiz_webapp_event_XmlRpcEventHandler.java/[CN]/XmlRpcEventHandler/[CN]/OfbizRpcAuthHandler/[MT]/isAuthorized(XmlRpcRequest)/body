{
  XmlRpcHttpRequestConfig config=(XmlRpcHttpRequestConfig)xmlRpcReq.getConfig();
  ModelService model;
  try {
    model=dispatcher.getDispatchContext().getModelService(xmlRpcReq.getMethodName());
  }
 catch (  GenericServiceException e) {
    throw new XmlRpcException(e.getMessage(),e);
  }
  if (model != null && model.auth) {
    String username=config.getBasicUserName();
    String password=config.getBasicPassword();
    Map context=FastMap.newInstance();
    context.put("login.username",username);
    context.put("login.password",password);
    Map resp;
    try {
      resp=dispatcher.runSync("userLogin",context);
    }
 catch (    GenericServiceException e) {
      throw new XmlRpcException(e.getMessage(),e);
    }
    if (ServiceUtil.isError(resp)) {
      return false;
    }
  }
  return true;
}

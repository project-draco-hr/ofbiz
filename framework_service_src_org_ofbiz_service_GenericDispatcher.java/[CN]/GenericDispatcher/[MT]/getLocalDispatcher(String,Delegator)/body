{
  if (dispatcherName == null) {
    dispatcherName=delegator.getDelegatorName();
    Debug.logWarning("Got a getGenericDispatcher call with a null dispatcherName, assuming default for the name.",module);
  }
  if (UtilValidate.isNotEmpty(delegator.getDelegatorTenantId())) {
    dispatcherName+="#" + delegator.getDelegatorTenantId();
  }
  LocalDispatcher dispatcher=dispatcherCache.get(dispatcherName);
  if (dispatcher == null) {
synchronized (GenericDispatcher.class) {
      dispatcher=dispatcherCache.get(dispatcherName);
      if (dispatcher == null) {
        if (Debug.infoOn())         Debug.logInfo("Creating new dispatcher [" + dispatcherName + "] ("+ Thread.currentThread().getName()+ ")",module);
        dispatcher=ServiceDispatcher.getLocalDispatcher(dispatcherName,delegator);
        if (dispatcher == null) {
          dispatcher=new GenericDispatcher(dispatcherName,delegator);
        }
        dispatcherCache.put(dispatcherName,dispatcher);
      }
    }
  }
  return dispatcher;
}

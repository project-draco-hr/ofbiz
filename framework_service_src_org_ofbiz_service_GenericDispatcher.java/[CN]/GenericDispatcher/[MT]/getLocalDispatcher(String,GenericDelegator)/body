{
  ServiceDispatcher sd=ServiceDispatcher.getInstance(name,delegator);
  LocalDispatcher thisDispatcher=null;
  if (sd != null) {
    thisDispatcher=sd.getLocalDispatcher(name);
  }
  if (thisDispatcher == null) {
    thisDispatcher=new GenericDispatcher(name,delegator);
  }
  if (thisDispatcher != null) {
    return thisDispatcher;
  }
 else {
    throw new GenericServiceException("Unable to load dispatcher for name : " + name + " with delegator : "+ delegator.getDelegatorName());
  }
}

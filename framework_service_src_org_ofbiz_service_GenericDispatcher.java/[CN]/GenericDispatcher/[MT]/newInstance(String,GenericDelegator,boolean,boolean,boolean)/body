{
  ServiceDispatcher sd=new ServiceDispatcher(delegator,enableJM,enableJMS,enableSvcs);
  ClassLoader loader=null;
  try {
    loader=Thread.currentThread().getContextClassLoader();
  }
 catch (  SecurityException e) {
    loader=GenericDispatcher.class.getClassLoader();
  }
  DispatchContext dc=new DispatchContext(name,null,loader,null);
  return new GenericDispatcher(dc,sd);
}

{
  boolean isWarehouseManaged=false;
  try {
    if ("WIP".equals(getProduct().getString("productTypeId"))) {
      return false;
    }
    List pfs=getProduct().getRelatedCache("ProductFacility");
    if (UtilValidate.isNotEmpty(pfs)) {
      isWarehouseManaged=true;
    }
 else {
      if (getSubstitutedNode() != null && getSubstitutedNode().getProduct() != null) {
        pfs=getSubstitutedNode().getProduct().getRelatedCache("ProductFacility");
      }
      if (UtilValidate.isNotEmpty(pfs)) {
        isWarehouseManaged=true;
      }
    }
  }
 catch (  GenericEntityException gee) {
    Debug.logError("Problem in BOMNode.isWarehouseManaged()",module);
  }
  return isWarehouseManaged;
}

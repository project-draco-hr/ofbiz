{
  boolean isWarehouseManaged=false;
  try {
    if ("WIP".equals(getProduct().getString("productTypeId"))) {
      return false;
    }
    List pfs=getProduct().getRelatedCache("ProductFacility");
    Iterator pfsIt=pfs.iterator();
    GenericValue pf=null;
    boolean found=false;
    while (pfsIt.hasNext()) {
      found=true;
      pf=(GenericValue)pfsIt.next();
      if (pf.getDouble("minimumStock") != null && pf.getDouble("minimumStock").doubleValue() > 0) {
        isWarehouseManaged=true;
      }
    }
    if (!found && getSubstitutedNode() != null) {
      pfs=getSubstitutedNode().getProduct().getRelatedCache("ProductFacility");
      pfsIt=pfs.iterator();
      pf=null;
      while (pfsIt.hasNext()) {
        pf=(GenericValue)pfsIt.next();
        if (pf.getDouble("minimumStock") != null && pf.getDouble("minimumStock").doubleValue() > 0) {
          isWarehouseManaged=true;
        }
      }
    }
  }
 catch (  GenericEntityException gee) {
    Debug.logError("Problem in BOMNode.isWarehouseManaged()",module);
  }
  return isWarehouseManaged;
}

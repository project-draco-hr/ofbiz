{
  if (m_shiftLock) {
    if (m_shift) {
      m_shift=false;
      this.setUppercase();
    }
 else {
      m_shift=true;
      this.setLowercase();
    }
  }
 else {
    if (m_shift) {
      m_shift=false;
      this.setLowercase();
    }
 else {
      m_shift=true;
      this.setUppercase();
    }
  }
  reverseButtonColors("menuShift");
  m_dialog.repaint();
  return;
}

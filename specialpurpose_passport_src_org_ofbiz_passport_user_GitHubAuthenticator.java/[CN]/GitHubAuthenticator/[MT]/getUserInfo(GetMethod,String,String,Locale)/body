{
  JSON userInfo=null;
  HttpClient jsonClient=new HttpClient();
  HttpMethodParams params=new HttpMethodParams();
  params.setCookiePolicy(CookiePolicy.BROWSER_COMPATIBILITY);
  getMethod.setParams(params);
  getMethod.setRequestHeader(PassportUtil.AUTHORIZATION_HEADER,tokenType + " " + accessToken);
  getMethod.setRequestHeader(PassportUtil.ACCEPT_HEADER,"application/json");
  jsonClient.executeMethod(getMethod);
  if (getMethod.getStatusCode() == HttpStatus.SC_OK) {
    Debug.logInfo("Json Response from GitHub: " + getMethod.getResponseBodyAsString(),module);
    userInfo=JSON.from(getMethod.getResponseBodyAsString());
  }
 else {
    String errMsg=UtilProperties.getMessage(resource,"GetOAuth2AccessTokenError",UtilMisc.toMap("error",getMethod.getResponseBodyAsString()),locale);
    throw new AuthenticatorException(errMsg);
  }
  JSONToMap jsonMap=new JSONToMap();
  Map<String,Object> userMap;
  try {
    userMap=jsonMap.convert(userInfo);
  }
 catch (  ConversionException e) {
    throw new AuthenticatorException(e.getMessage());
  }
  return userMap;
}

{
  Debug.logInfo("[ServiceDispatcher] : Creating new instance.",module);
  factory=new GenericEngineFactory(this);
  ServiceGroupReader.readConfig();
  ServiceEcaUtil.readConfig();
  this.delegator=delegator;
  this.localContext=FastMap.newInstance();
  this.callbacks=FastMap.newInstance();
  if (delegator != null) {
    try {
      this.authz=AuthorizationFactory.getInstance(delegator);
      this.security=SecurityFactory.getInstance(delegator);
    }
 catch (    SecurityConfigurationException e) {
      Debug.logError(e,"[ServiceDispatcher.init] : No instance of security implementation found.",module);
    }
  }
  try {
    Delegator origDelegator=this.delegator;
    if (!this.delegator.getOriginalDelegatorName().equals(this.delegator.getDelegatorName())) {
      origDelegator=DelegatorFactory.getDelegator(this.delegator.getOriginalDelegatorName());
    }
    this.jm=JobManager.getInstance(origDelegator,enableJM);
  }
 catch (  GeneralRuntimeException e) {
    Debug.logWarning(e.getMessage(),module);
  }
  if (enableJMS) {
    this.jlf=JmsListenerFactory.getInstance(this);
  }
  if (enableSvcs) {
    this.runStartupServices();
  }
  serviceDebugMode="true".equals(UtilProperties.getPropertyValue("service","servicedispatcher.servicedebugmode","true"));
}

{
  Document document;
  Element rootElt;
  Map<String,Map<String,String>> valueMap=FastMap.newInstance();
  Map<String,Object> result=FastMap.newInstance();
  SAXBuilder sxb=new SAXBuilder();
  try {
    document=sxb.build(new File(fileFullPath));
  }
 catch (  JDOMException e) {
    String errMsg="Errors occur in parsing ImageProperties.xml" + e.toString();
    Debug.logError(errMsg,module);
    result.put("errorMessage","error");
    return result;
  }
catch (  IOException e) {
    String errMsg="Error prevents the document from being fully parsed" + e.toString();
    Debug.logError(errMsg,module);
    result.put("errorMessage","error");
    return result;
  }
  try {
    rootElt=document.getRootElement();
  }
 catch (  IllegalStateException e) {
    String errMsg="Root element hasn't been set" + e.toString();
    Debug.logError(errMsg,module);
    result.put("errorMessage","error");
    return result;
  }
  List<Element> children=rootElt.getChildren();
  for (  Element currentElt : children) {
    Map<String,String> eltMap=FastMap.newInstance();
    if (currentElt.getContentSize() > 0) {
      Map<String,String> childMap=FastMap.newInstance();
      List<Element> children2=currentElt.getChildren();
      for (      Element currentChild : children2) {
        childMap.put(currentChild.getAttributeValue("name"),currentChild.getAttributeValue("value"));
      }
      valueMap.put(currentElt.getAttributeValue("name"),childMap);
    }
 else {
      eltMap.put(currentElt.getAttributeValue("name"),currentElt.getAttributeValue("value"));
      valueMap.put(currentElt.getName(),eltMap);
    }
  }
  result.put("responseMessage","success");
  result.put("xml",valueMap);
  return result;
}

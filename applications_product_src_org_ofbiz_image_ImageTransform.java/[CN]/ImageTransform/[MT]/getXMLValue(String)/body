{
  Document document;
  Element rootElt;
  List<Element> eltList;
  LinkedHashMap<String,LinkedHashMap> valueMap=new LinkedHashMap<String,LinkedHashMap>();
  FastMap result=new FastMap();
  SAXBuilder sxb=new SAXBuilder();
  try {
    document=sxb.build(new File(fileFullPath));
  }
 catch (  JDOMException e) {
    String errMsg="Errors occur in parsing ImageProperties.xml" + e.toString();
    Debug.logError(errMsg,module);
    result.put("errorMessage","error");
    return result;
  }
catch (  IOException e) {
    String errMsg="Error prevents the document from being fully parsed" + e.toString();
    Debug.logError(errMsg,module);
    result.put("errorMessage","error");
    return result;
  }
  try {
    rootElt=document.getRootElement();
  }
 catch (  IllegalStateException e) {
    String errMsg="Root element hasn't been set" + e.toString();
    Debug.logError(errMsg,module);
    result.put("errorMessage","error");
    return result;
  }
  Iterator<Element> eltIter=rootElt.getChildren().iterator();
  while (eltIter.hasNext()) {
    Element currentElt=eltIter.next();
    LinkedHashMap<String,String> eltMap=new LinkedHashMap<String,String>();
    if (currentElt.getContentSize() > 0) {
      LinkedHashMap<String,String> childMap=new LinkedHashMap<String,String>();
      Iterator<Element> childrenIter=currentElt.getChildren().iterator();
      while (childrenIter.hasNext()) {
        Element currentChild=childrenIter.next();
        childMap.put(currentChild.getAttributeValue("name"),currentChild.getAttributeValue("value"));
      }
      valueMap.put(currentElt.getAttributeValue("name"),childMap);
    }
 else {
      eltMap.put(currentElt.getAttributeValue("name"),currentElt.getAttributeValue("value"));
      valueMap.put(currentElt.getName(),eltMap);
    }
  }
  result.put("responseMessage","success");
  result.put("xml",valueMap);
  return result;
}

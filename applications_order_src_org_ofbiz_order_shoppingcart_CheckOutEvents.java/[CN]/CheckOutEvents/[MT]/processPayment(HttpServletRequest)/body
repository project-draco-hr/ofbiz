{
  HttpSession session=request.getSession();
  LocalDispatcher dispatcher=(LocalDispatcher)request.getAttribute("dispatcher");
  GenericDelegator delegator=(GenericDelegator)request.getAttribute("delegator");
  ShoppingCart cart=(ShoppingCart)request.getSession().getAttribute("shoppingCart");
  GenericValue userLogin=(GenericValue)session.getAttribute("userLogin");
  CheckOutHelper checkOutHelper=new CheckOutHelper(dispatcher,delegator,cart);
  boolean holdOrder=cart.getHoldOrder();
  GenericValue productStore=ProductStoreWorker.getProductStore(cart.getProductStoreId(),delegator);
  Map callResult=checkOutHelper.processPayment(productStore,userLogin,false,holdOrder);
  ServiceUtil.getMessages(request,callResult,null);
  List messages=(List)callResult.get("authResultMsgs");
  if (messages != null && messages.size() > 0) {
    request.setAttribute("_EVENT_MESSAGE_LIST_",messages);
  }
  return (callResult.get(ModelService.RESPONSE_MESSAGE).equals(ModelService.RESPOND_SUCCESS));
}

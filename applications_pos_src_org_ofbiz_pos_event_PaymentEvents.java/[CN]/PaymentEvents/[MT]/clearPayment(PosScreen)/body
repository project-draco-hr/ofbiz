{
  PosTransaction trans=PosTransaction.getCurrentTx(pos.getSession());
  Journal journal=pos.getJournal();
  String sku=journal.getSelectedSku();
  String idx=journal.getSelectedIdx();
  if (UtilValidate.isNotEmpty(idx) && UtilValidate.isEmpty(sku)) {
    int index=-1;
    try {
      index=Integer.parseInt(idx);
    }
 catch (    Exception e) {
    }
    if (index > -1) {
      trans.clearPayment(index);
    }
  }
  pos.getInput().clearFunction("GIFTCARD");
  pos.getInput().clearFunction("CREDIT");
  pos.getInput().clearFunction("CHECK");
  pos.refresh();
}

{
  final StringBuilder buf=new StringBuilder();
  final String templateLocation=this.getTemplateLocation(args);
  return new Writer(out){
    public void write(    char cbuf[],    int off,    int len){
      buf.append(cbuf,off,len);
    }
    public void flush() throws IOException {
      out.flush();
    }
    public void close() throws IOException {
      try {
        Environment env=Environment.getCurrentEnvironment();
        Template template=FreeMarkerWorker.getTemplate(templateLocation);
        env.include(template);
      }
 catch (      TemplateModelException e) {
        throw new IOException(e.getMessage());
      }
catch (      TemplateException e) {
        throw new IOException(e.getMessage());
      }
    }
  }
;
}

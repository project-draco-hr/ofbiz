{
  String orderItemSeqId=(order.getEntityName().equals("OrderItem") ? order.getString("orderItemSeqId") : "_NA_");
  String cacheKey=orderContentTypeId + SEPARATOR + locale+ SEPARATOR+ mimeTypeId+ SEPARATOR+ order.get("orderId")+ SEPARATOR+ orderItemSeqId;
  try {
    if (orderContentCache != null && orderContentCache.get(cacheKey) != null) {
      return orderContentCache.get(cacheKey);
    }
    Writer outWriter=new StringWriter();
    getOrderContentAsText(null,null,order,orderContentTypeId,locale,mimeTypeId,delegator,dispatcher,outWriter);
    String outString=outWriter.toString();
    if (outString.length() > 0) {
      if (orderContentCache != null) {
        orderContentCache.put(cacheKey,outString);
      }
    }
    return outString;
  }
 catch (  GeneralException e) {
    Debug.logError(e,"Error rendering OrderContent, inserting empty String",module);
    return "";
  }
catch (  IOException e) {
    Debug.logError(e,"Error rendering OrderContent, inserting empty String",module);
    return "";
  }
}

{
  m_dialog=(XDialog)pageMgr.loadPage(m_pos.getScreenLocation() + "/dialog/loadsale");
  m_dialog.setCaption(UtilProperties.getMessage(PosTransaction.resource,"PosLoadASale",Locale.getDefault()));
  m_salesList=(XList)m_dialog.findComponent("salesList");
  XEventHelper.addMouseHandler(this,m_salesList,"saleDoubleClick");
  m_cancel=(XButton)m_dialog.findComponent("BtnCancel");
  m_add=(XButton)m_dialog.findComponent("BtnAdd");
  m_replace=(XButton)m_dialog.findComponent("BtnReplace");
  m_delete=(XButton)m_dialog.findComponent("BtnDelete");
  m_replaceAndDelete=(XButton)m_dialog.findComponent("BtnReplaceAndDelete");
  XEventHelper.addMouseHandler(this,m_cancel,"cancel");
  XEventHelper.addMouseHandler(this,m_replace,"replaceSale");
  XEventHelper.addMouseHandler(this,m_add,"addSale");
  XEventHelper.addMouseHandler(this,m_delete,"deleteShoppingList");
  XEventHelper.addMouseHandler(this,m_replaceAndDelete,"replaceSaleAndDeleteShoppingList");
  m_listModel=new DefaultListModel();
  for (  Map.Entry<String,String> o : m_saleMap.entrySet()) {
    m_listModel.addElement(o.getValue().toString());
  }
  m_salesList.setModel(m_listModel);
  m_salesList.setVisibleRowCount(-1);
  m_salesList.ensureIndexIsVisible(m_salesList.getItemCount());
  m_salesList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
  m_salesList.setToolTipText(UtilProperties.getMessage(PosTransaction.resource,"PosLoadSaleListDblClickTip",Locale.getDefault()));
  m_dialog.pack();
  m_salesList.requestFocusInWindow();
  m_dialog.showDialog(this);
}

{
  if (userLogin == null || workEffortId == null) {
    Debug.logWarning("No UserLogin object or no Workeffort ID was passed.",module);
    return false;
  }
  if (security.hasPermission("WORKFLOW_MAINT",userLogin)) {
    return true;
  }
 else {
    String partyId=userLogin.getString("partyId");
    List expr=new ArrayList();
    expr.add(new EntityExpr("partyId",EntityOperator.EQUALS,partyId));
    expr.add(new EntityExpr("statusId",EntityOperator.NOT_EQUAL,"CAL_DECLINED"));
    expr.add(new EntityExpr("statusId",EntityOperator.NOT_EQUAL,"CAL_DELEGATED"));
    expr.add(new EntityExpr("statusId",EntityOperator.NOT_EQUAL,"CAL_COMPLETED"));
    expr.add(new EntityExpr("statusId",EntityOperator.NOT_EQUAL,"CAL_CANCELLED"));
    expr.add(new EntityExpr("workEffortId",EntityOperator.EQUALS,workEffortId));
    expr.add(new EntityExpr("fromDate",EntityOperator.LESS_THAN_EQUAL_TO,UtilDateTime.nowTimestamp()));
    Collection c=null;
    try {
      c=userLogin.getDelegator().findByAnd("WorkEffortAndPartyAssign",expr);
    }
 catch (    GenericEntityException e) {
      Debug.logWarning(e,module);
      return false;
    }
    if (c.size() == 0) {
      expr=new ArrayList();
      expr.add(new EntityExpr("partyId",EntityOperator.EQUALS,partyId));
      expr.add(new EntityExpr("statusId",EntityOperator.NOT_EQUAL,"CAL_DECLINED"));
      expr.add(new EntityExpr("statusId",EntityOperator.NOT_EQUAL,"CAL_DELEGATED"));
      expr.add(new EntityExpr("statusId",EntityOperator.NOT_EQUAL,"CAL_COMPLETED"));
      expr.add(new EntityExpr("statusId",EntityOperator.NOT_EQUAL,"CAL_CANCELLED"));
      expr.add(new EntityExpr("workEffortParentId",EntityOperator.EQUALS,workEffortId));
      expr.add(new EntityExpr("fromDate",EntityOperator.LESS_THAN_EQUAL_TO,UtilDateTime.nowTimestamp()));
      try {
        c=userLogin.getDelegator().findByAnd("WorkEffortAndPartyAssign",expr);
      }
 catch (      GenericEntityException e) {
        Debug.logWarning(e,module);
        return false;
      }
    }
    if (c.size() > 0) {
      return true;
    }
  }
  return false;
}

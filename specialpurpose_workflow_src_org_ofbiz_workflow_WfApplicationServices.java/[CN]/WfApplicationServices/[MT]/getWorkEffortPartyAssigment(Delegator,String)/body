{
  Map<String,Object> expresions=new HashMap<String,Object>();
  expresions.putAll(UtilMisc.toMap("workEffortId",workEffortId));
  expresions.putAll(UtilMisc.toMap("statusId","CAL_ACCEPTED"));
  List<String> orderBy=UtilMisc.toList("-fromDate");
  try {
    final List<GenericValue> assigments=delegator.findByAnd("WorkEffortPartyAssignment",expresions,orderBy);
    if (assigments.isEmpty()) {
      Debug.logError("No accepted activities found for the workEffortId=" + workEffortId,module);
      throw new GenericServiceException("Can not find WorkEffortPartyAssignment for the Workflow service. WorkEffortId=" + workEffortId);
    }
    if (assigments.size() != 1)     Debug.logWarning("More than one accepted activities found for the workEffortId=" + workEffortId,module);
    return assigments.iterator().next();
  }
 catch (  GenericEntityException ee) {
    throw new GenericServiceException(ee.getMessage(),ee);
  }
}

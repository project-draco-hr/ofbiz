{
  if (status().equals("CAL_DELEGATED"))   throw new WfException("Assignment has already been delegated");
  GenericValue valueObject=valueObject();
  try {
    valueObject.set("thruDate",UtilDateTime.nowTimestamp());
    valueObject.store();
    if (Debug.verboseOn())     Debug.logVerbose("[WfAssignment.delegated()] : set the thru-date.",module);
  }
 catch (  GenericEntityException e) {
    e.printStackTrace();
    throw new WfException(e.getMessage(),e);
  }
  changeStatus("CAL_DELEGATED");
}

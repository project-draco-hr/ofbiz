{
  this.maxInMemory=newSize;
  Map<Object,CacheLine<V>> oldmap=this.memoryTable;
  if (newSize > 0) {
    this.memoryTable=Collections.synchronizedMap(new LRUMap<Object,CacheLine<V>>(newSize));
  }
 else {
    this.memoryTable=FastMap.newInstance();
  }
  if (oldmap != null) {
    this.memoryTable.putAll(oldmap);
  }
}

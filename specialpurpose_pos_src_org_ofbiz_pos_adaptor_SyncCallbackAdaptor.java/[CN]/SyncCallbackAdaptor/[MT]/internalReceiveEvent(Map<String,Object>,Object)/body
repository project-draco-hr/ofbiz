{
  String ctxSyncId=(String)context.get("entitySyncId");
  if (ctxSyncId != null && entitySyncId.equals(ctxSyncId)) {
    GenericValue entitySync=null;
    try {
      entitySync=screen.getSession().getDelegator().findByPrimaryKey("EntitySync",UtilMisc.toMap("entitySyncId",entitySyncId));
    }
 catch (    GenericEntityException e) {
      Debug.logError(e,module);
    }
    if (entitySync != null) {
      Timestamp lastSync=entitySync.getTimestamp("lastSuccessfulSynchTime");
      if (lastSync.after(txStamp)) {
        this.setEnabled(false);
        screen.showDialog("dialog/error/terminalclosed");
        screen.refresh();
        SecurityEvents.logout(screen);
      }
    }
  }
}

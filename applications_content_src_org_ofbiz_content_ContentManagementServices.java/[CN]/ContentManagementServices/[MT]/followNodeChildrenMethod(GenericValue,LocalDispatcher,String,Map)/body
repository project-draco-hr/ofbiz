{
  Map result=null;
  String contentId=content.getString("contentId");
  List contentAssocTypeIdList=(List)context.get("contentAssocTypeIdList");
  Locale locale=(Locale)context.get("locale");
  Set visitedSet=(Set)context.get("visitedSet");
  if (visitedSet == null) {
    visitedSet=FastSet.newInstance();
    context.put("visitedSet",visitedSet);
  }
 else {
    if (visitedSet.contains(contentId)) {
      Debug.logWarning("visitedSet already contains:" + contentId,module);
      return ServiceUtil.returnError(UtilProperties.getMessage(resource,"ContentVisitedSet",locale) + contentId);
    }
 else {
      visitedSet.add(contentId);
    }
  }
  GenericValue userLogin=(GenericValue)context.get("userLogin");
  result=dispatcher.runSync(serviceName,UtilMisc.toMap("content",content,"userLogin",userLogin));
  List kids=ContentWorker.getAssociatedContent(content,"from",contentAssocTypeIdList,null,null,null);
  Iterator iter=kids.iterator();
  while (iter.hasNext()) {
    GenericValue kidContent=(GenericValue)iter.next();
    followNodeChildrenMethod(kidContent,dispatcher,serviceName,context);
  }
  return result;
}

{
  GenericValue rootContent=null;
  List relatedPubPts=null;
  try {
    rootContent=delegator.findByPrimaryKeyCache("Content",UtilMisc.toMap("contentId",parentPubPt));
    relatedPubPts=delegator.findByAndCache("ContentAssoc",UtilMisc.toMap("contentIdTo",parentPubPt,"contentAssocTypeId","SUBSITE"));
  }
 catch (  GenericEntityException e) {
    throw new GeneralException(e.getMessage());
  }
  List allPublishPoints=new ArrayList();
  GenericValue webSitePublishPoint=null;
  GenericValue rootWebSitePublishPoint=null;
  GenericValue currentWebSitePublishPoint=null;
  GenericValue contentAssoc=null;
  Iterator it=relatedPubPts.iterator();
  while (it.hasNext()) {
    contentAssoc=(GenericValue)it.next();
    String pub=(String)contentAssoc.get("contentId");
    webSitePublishPoint=getWebSitePublishPoint(delegator,pub,false);
    allPublishPoints.add(webSitePublishPoint);
  }
  return allPublishPoints;
}

{
  List permittedPublishPointList=new ArrayList();
  Iterator it=allPublishPoints.iterator();
  while (it.hasNext()) {
    GenericValue webSitePP=(GenericValue)it.next();
    String contentId=(String)webSitePP.get("contentId");
    String templateTitle=(String)webSitePP.get("templateTitle");
    GenericValue content=delegator.makeValue("Content",UtilMisc.toMap("contentId",contentId));
    String statusId=null;
    String entityAction=permittedAction;
    if (entityAction == null)     entityAction="_ADMIN";
    List passedPurposes=UtilMisc.toList("ARTICLE");
    List roles=StringUtil.split(passedRoles,"|");
    List targetOperationList=new ArrayList();
    if (UtilValidate.isEmpty(permittedOperations)) {
      targetOperationList.add("CONTENT" + entityAction);
    }
 else {
      targetOperationList=StringUtil.split(permittedOperations,"|");
    }
    Map results=null;
    results=EntityPermissionChecker.checkPermission(content,statusId,userLogin,passedPurposes,targetOperationList,roles,delegator,security,entityAction);
    String permissionStatus=(String)results.get("permissionStatus");
    if (permissionStatus != null && permissionStatus.equalsIgnoreCase("granted")) {
      String[] arr={contentId,templateTitle};
      permittedPublishPointList.add(arr);
    }
  }
  return permittedPublishPointList;
}

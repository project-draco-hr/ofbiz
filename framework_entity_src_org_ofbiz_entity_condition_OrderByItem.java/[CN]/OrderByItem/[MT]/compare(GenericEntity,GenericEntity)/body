{
  Comparable value1=(Comparable)value.getValue(obj1);
  Comparable value2=(Comparable)value.getValue(obj2);
  int result;
  if (value1 == null) {
    result=value2 == null ? 0 : 1;
  }
 else   if (value2 == null) {
    result=value1 == null ? 0 : -1;
  }
 else {
    result=value1.compareTo(value2);
  }
  return descending ? -result : result;
}

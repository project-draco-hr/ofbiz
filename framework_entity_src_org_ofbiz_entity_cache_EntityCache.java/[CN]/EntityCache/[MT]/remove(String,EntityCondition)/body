{
  try {
    if (TransactionUtil.getStatus() == TransactionUtil.STATUS_ACTIVE) {
      UserTransaction tx=TransactionFactoryLoader.getInstance().getUserTransaction();
      Map<GenericPK,GenericValue> tempCache=txCacheMap.get(tx);
      if (tempCache != null) {
        for (        Map.Entry<GenericPK,GenericValue> entry : tempCache.entrySet()) {
          GenericPK pk=entry.getKey();
          GenericValue value=entry.getValue();
          if (condition.entityMatches(value)) {
            tempCache.remove(pk);
          }
        }
      }
    }
  }
 catch (  GenericTransactionException e) {
    Debug.logWarning(e,"Exception thrown while getting transaction status: ",module);
  }
  UtilCache<GenericPK,GenericValue> entityCache=getCache(entityName);
  if (entityCache == null)   return;
  for (  GenericPK pk : entityCache.getCacheLineKeys()) {
    GenericValue entity=entityCache.get(pk);
    if (entity == null)     continue;
    if (condition.entityMatches(entity))     entityCache.remove(pk);
  }
}

{
  Map result=FastMap.newInstance();
  Map mapFiltered=FastMap.newInstance();
  Map mapIn=(Map)context.get("mapIn");
  if (mapIn != null) {
    Set entrySet=mapIn.entrySet();
    Iterator iter=entrySet.iterator();
    while (iter.hasNext()) {
      Map.Entry entry=(Map.Entry)iter.next();
      String key=(String)entry.getKey();
      Object value=entry.getValue();
      if (value instanceof String) {
        if (UtilValidate.isNotEmpty((String)value)) {
          mapFiltered.put(key,value);
        }
      }
 else       if (value != null) {
        mapFiltered.put(key,value);
      }
    }
    String outputString=UtilHttp.urlEncodeArgs(mapFiltered);
    result.put("outputString",outputString);
  }
  return result;
}

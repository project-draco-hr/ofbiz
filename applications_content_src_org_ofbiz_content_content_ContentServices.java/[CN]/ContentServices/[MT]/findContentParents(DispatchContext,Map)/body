{
  HashMap results=new HashMap();
  List parentList=new ArrayList();
  results.put("parentList",parentList);
  LocalDispatcher dispatcher=dctx.getDispatcher();
  String contentId=(String)context.get("contentId");
  String contentAssocTypeId=(String)context.get("contentAssocTypeId");
  String direction=(String)context.get("direction");
  if (UtilValidate.isEmpty(direction))   direction="To";
  Map traversMap=new HashMap();
  traversMap.put("contentId",contentId);
  traversMap.put("direction",direction);
  traversMap.put("contentAssocTypeId",contentAssocTypeId);
  try {
    Map thisResults=dispatcher.runSync("traverseContent",traversMap);
    String errorMsg=ServiceUtil.getErrorMessage(thisResults);
    if (UtilValidate.isNotEmpty(errorMsg)) {
      Debug.logError("Problem in traverseContent. " + errorMsg,module);
      return ServiceUtil.returnError(errorMsg);
    }
    Map nodeMap=(Map)thisResults.get("nodeMap");
    walkParentTree(nodeMap,parentList);
  }
 catch (  GenericServiceException e) {
    return ServiceUtil.returnFailure(e.getMessage());
  }
  return results;
}
